<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPS-ERP: State Transitions</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <style>
    body {
      background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
    }
    .diagram-container {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
    }
    .mermaid {
      background: white;
      padding: 2rem;
      border-radius: 0.5rem;
    }
  </style>
</head>
<body class="p-8">

  <div class="max-w-7xl mx-auto">
    
    <!-- Header -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <div class="flex items-start gap-6">
        <div class="w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white text-3xl shadow-lg">
          üîÑ
        </div>
        <div class="flex-1">
          <h1 class="text-4xl font-bold text-slate-900 mb-3">State Transitions</h1>
          <p class="text-lg text-slate-600 mb-6">
            Complete state machine documentation for IPS-ERP showing how entities transition through their lifecycle.
          </p>
          <div class="grid md:grid-cols-5 gap-4">
            <div class="bg-indigo-50 rounded-lg p-4">
              <div class="text-2xl font-bold text-indigo-900">Visit</div>
              <div class="text-sm text-indigo-700">8 States</div>
            </div>
            <div class="bg-purple-50 rounded-lg p-4">
              <div class="text-2xl font-bold text-purple-900">RIPS</div>
              <div class="text-sm text-purple-700">6 States</div>
            </div>
            <div class="bg-pink-50 rounded-lg p-4">
              <div class="text-2xl font-bold text-pink-900">Glosa</div>
              <div class="text-sm text-pink-700">5 States</div>
            </div>
            <div class="bg-blue-50 rounded-lg p-4">
              <div class="text-2xl font-bold text-blue-900">Nurse</div>
              <div class="text-sm text-blue-700">4 States</div>
            </div>
            <div class="bg-green-50 rounded-lg p-4">
              <div class="text-2xl font-bold text-green-900">Patient</div>
              <div class="text-sm text-green-700">7 States</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Visit Lifecycle (Primary) -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">Visit Lifecycle</h2>
      <p class="text-slate-600 mb-6">
        Primary state machine: from assignment to billing. Most complex flow in the system.
      </p>
      
      <div class="mermaid">
stateDiagram-v2
    [*] --> ASSIGNED: Admin assigns nurse
    
    ASSIGNED --> IN_PROGRESS: Nurse starts visit
    ASSIGNED --> CANCELLED: Admin/Patient cancels
    
    IN_PROGRESS --> DOCUMENTING: Start documentation
    
    DOCUMENTING --> DRAFT: Save in progress
    DRAFT --> DOCUMENTING: Resume editing
    
    DOCUMENTING --> AWAITING_APPROVAL: Submit for approval
    
    AWAITING_APPROVAL --> APPROVED: Admin approves
    AWAITING_APPROVAL --> REVISION_REQUIRED: Admin requests changes
    
    REVISION_REQUIRED --> DOCUMENTING: Nurse re-edits
    
    APPROVED --> RIPS_PENDING: Queue for RIPS
    RIPS_PENDING --> RIPS_GENERATED: AI validates & generates
    RIPS_GENERATED --> BILLED: Submit to EPS
    
    BILLED --> REJECTED: EPS rejects (glosa)
    REJECTED --> GLOSA_DEFENSE: AI generates defense
    GLOSA_DEFENSE --> BILLED: Resubmitted successfully
    
    BILLED --> PAID: EPS pays
    PAID --> [*]: Completed
    
    CANCELLED --> [*]: Visit cancelled
    
    note right of DRAFT
        Auto-saved locally
        Syncs when online
        Persists across sessions
    end note
    
    note right of AWAITING_APPROVAL
        Notification to admin
        72h SLA timer starts
        Can bulk-approve similar
    end note
    
    note right of REJECTED
        Glosa Defender AI
        92% success rate
        Auto-generates PDF
    end note
      </div>

      <div class="grid md:grid-cols-3 gap-6 mt-6">
        <div class="bg-green-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-green-900 mb-2">‚úÖ Happy Path</h3>
          <div class="text-xs text-green-700 space-y-1">
            <div>1. ASSIGNED ‚Üí IN_PROGRESS (5min avg)</div>
            <div>2. DOCUMENTING ‚Üí AWAITING_APPROVAL (45min avg)</div>
            <div>3. APPROVED ‚Üí RIPS_GENERATED (2min AI)</div>
            <div>4. BILLED ‚Üí PAID (7-15 days)</div>
            <div><strong>Total: ~8-16 days</strong></div>
          </div>
        </div>
        
        <div class="bg-orange-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-orange-900 mb-2">‚ö†Ô∏è Common Issues</h3>
          <div class="text-xs text-orange-700 space-y-1">
            <div>‚Ä¢ Incomplete documentation (15%)</div>
            <div>‚Ä¢ Missing clinical scales (8%)</div>
            <div>‚Ä¢ EPS rejection - glosa (12%)</div>
            <div>‚Ä¢ Timeout in DRAFT (5%)</div>
          </div>
        </div>
        
        <div class="bg-blue-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-blue-900 mb-2">üìä Metrics</h3>
          <div class="text-xs text-blue-700 space-y-1">
            <div>Avg completion: 45min</div>
            <div>Approval time: 2.3h median</div>
            <div>First-pass rate: 85%</div>
            <div>Glosa defense: 92% win</div>
          </div>
        </div>
      </div>
    </div>

    <!-- RIPS Generation States -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">RIPS Generation States</h2>
      <p class="text-slate-600 mb-6">
        Automated validation and XML generation for Colombian healthcare billing.
      </p>
      
      <div class="mermaid">
stateDiagram-v2
    [*] --> PENDING: Visit approved
    
    PENDING --> VALIDATING: RIPS Validator AI starts
    
    VALIDATING --> VALIDATION_ERRORS: Errors found
    VALIDATING --> GENERATING: Validation passed
    
    VALIDATION_ERRORS --> PENDING: Auto-retry after fix
    VALIDATION_ERRORS --> MANUAL_REVIEW: Critical errors
    
    GENERATING --> GENERATED: XML created
    
    GENERATED --> TRANSMITTED: Send to EPS via SFTP
    
    TRANSMITTED --> ACKNOWLEDGED: EPS confirms receipt
    TRANSMITTED --> TRANSMISSION_ERROR: Network/format error
    
    TRANSMISSION_ERROR --> GENERATING: Regenerate & resend
    
    ACKNOWLEDGED --> [*]: Complete
    MANUAL_REVIEW --> PENDING: Admin fixes issues
    
    note right of VALIDATING
        RIPS Validator AI
        Resolution 3100 compliance
        98% first-pass accuracy
    end note
    
    note right of VALIDATION_ERRORS
        Common: Missing CIE-10 code
        Invalid CUPS procedure code
        Date inconsistencies
    end note
      </div>

      <div class="bg-slate-50 rounded-lg p-4 mt-6">
        <h3 class="text-sm font-bold text-slate-900 mb-3">RIPS Files Generated</h3>
        <div class="grid grid-cols-2 gap-4 text-xs">
          <div>
            <ul class="space-y-1 text-slate-700">
              <li><strong>AF</strong> - Archivo Control (header)</li>
              <li><strong>US</strong> - Usuarios (patients)</li>
              <li><strong>AC</strong> - Consultas (visits)</li>
              <li><strong>AP</strong> - Procedimientos (procedures)</li>
            </ul>
          </div>
          <div>
            <ul class="space-y-1 text-slate-700">
              <li><strong>AM</strong> - Medicamentos (medications)</li>
              <li><strong>AT</strong> - Otros servicios (supplies)</li>
              <li><strong>AN</strong> - Reci√©n nacidos (if applicable)</li>
              <li><strong>AU</strong> - Urgencias (emergencies)</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Glosa Defense States -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">Glosa Defense States</h2>
      <p class="text-slate-600 mb-6">
        AI-powered defense workflow when EPS rejects billing claims.
      </p>
      
      <div class="mermaid">
stateDiagram-v2
    [*] --> REJECTED: EPS rejects claim
    
    REJECTED --> ANALYZING: Glosa Defender AI analyzes
    
    ANALYZING --> DEFENSE_GENERATED: AI creates PDF justification
    
    DEFENSE_GENERATED --> ADMIN_REVIEW: Human review required
    DEFENSE_GENERATED --> AUTO_SUBMIT: High confidence (85%+)
    
    ADMIN_REVIEW --> APPROVED_FOR_SUBMISSION: Admin approves
    ADMIN_REVIEW --> REQUIRES_EDIT: Admin modifies
    
    REQUIRES_EDIT --> DEFENSE_GENERATED: AI regenerates
    
    APPROVED_FOR_SUBMISSION --> SUBMITTED: Send to EPS
    AUTO_SUBMIT --> SUBMITTED: Auto-send
    
    SUBMITTED --> DEFENSE_ACCEPTED: EPS accepts, payment released
    SUBMITTED --> DEFENSE_REJECTED: EPS maintains rejection
    
    DEFENSE_ACCEPTED --> [*]: Victory ($$ recovered)
    DEFENSE_REJECTED --> ESCALATION: Legal review
    
    ESCALATION --> [*]: Final decision
    
    note right of ANALYZING
        Glosa Defender AI
        Claude Opus 4.5
        92% success rate
        Avg 15min generation
    end note
    
    note right of DEFENSE_ACCEPTED
        $5.1M monthly recovery
        Average recovery: $180K/claim
    end note
      </div>

      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="bg-green-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-green-900 mb-2">Common Rejection Reasons</h3>
          <ul class="text-xs text-green-700 space-y-1">
            <li>‚Ä¢ Insufficient clinical justification (35%)</li>
            <li>‚Ä¢ Missing required documentation (28%)</li>
            <li>‚Ä¢ Authorization not obtained (18%)</li>
            <li>‚Ä¢ Service not covered by PBS (12%)</li>
            <li>‚Ä¢ Coding errors (7%)</li>
          </ul>
        </div>
        
        <div class="bg-purple-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-purple-900 mb-2">AI Defense Components</h3>
          <ul class="text-xs text-purple-700 space-y-1">
            <li>‚Ä¢ Legal framework (Resolution 3100, Ley 1751)</li>
            <li>‚Ä¢ Clinical evidence from KARDEX</li>
            <li>‚Ä¢ Medical necessity justification</li>
            <li>‚Ä¢ Comparative case law</li>
            <li>‚Ä¢ Financial impact analysis</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Nurse Status States -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">Nurse Status States</h2>
      
      <div class="mermaid">
stateDiagram-v2
    [*] --> OFFLINE: Initial state
    
    OFFLINE --> AVAILABLE: Login successful
    
    AVAILABLE --> ON_VISIT: Start assigned visit
    AVAILABLE --> BREAK: Take break
    
    ON_VISIT --> AVAILABLE: Complete visit
    ON_VISIT --> OFFLINE: Emergency logout
    
    BREAK --> AVAILABLE: Resume work
    BREAK --> OFFLINE: End shift
    
    OFFLINE --> [*]
    
    note right of ON_VISIT
        GPS tracked
        Real-time location
        Time tracking active
    end note
    
    note right of BREAK
        Max 1h break/shift
        Notifications paused
    end note
      </div>
    </div>

    <!-- Patient Journey States -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">Patient Journey States</h2>
      
      <div class="mermaid">
stateDiagram-v2
    [*] --> ADMITTED: IPS admission
    
    ADMITTED --> ACTIVE_CARE: Home care authorized
    
    ACTIVE_CARE --> VISIT_SCHEDULED: Nurse assigned
    VISIT_SCHEDULED --> VISIT_IN_PROGRESS: Nurse arrives
    VISIT_IN_PROGRESS --> VISIT_COMPLETED: Care delivered
    
    VISIT_COMPLETED --> ACTIVE_CARE: Continue care plan
    VISIT_COMPLETED --> DISCHARGED: Care objectives met
    
    ACTIVE_CARE --> PAUSED: Medical hold
    PAUSED --> ACTIVE_CARE: Resume care
    
    DISCHARGED --> FOLLOW_UP: Post-discharge monitoring
    FOLLOW_UP --> INACTIVE: Care ended
    
    INACTIVE --> [*]
    
    note right of ACTIVE_CARE
        Family portal active
        Real-time updates
        Message notifications
    end note
    
    note right of DISCHARGED
        30-day follow-up
        Satisfaction survey
        Re-admission tracking
    end note
      </div>
    </div>

    <!-- Offline/Online State -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">Offline/Online State Management</h2>
      <p class="text-slate-600 mb-6">
        Critical for field nurses with intermittent connectivity.
      </p>
      
      <div class="mermaid">
stateDiagram-v2
    [*] --> ONLINE: Initial connection
    
    ONLINE --> SYNCED: All data current
    
    SYNCED --> OFFLINE: Connection lost
    SYNCED --> SYNC_PENDING: New local changes
    
    OFFLINE --> LOCAL_ONLY: Working offline
    
    LOCAL_ONLY --> RECONNECTING: Connection detected
    
    SYNC_PENDING --> SYNCING: Upload queued data
    
    SYNCING --> SYNCED: Sync successful
    SYNCING --> CONFLICT: Server conflict
    
    CONFLICT --> RESOLVING: User/Auto resolve
    RESOLVING --> SYNCED: Conflict resolved
    
    RECONNECTING --> SYNCING: Connection stable
    
    SYNCED --> [*]
    
    note right of LOCAL_ONLY
        IndexedDB storage
        Auto-save every 5s
        Queue mutations
    end note
    
    note right of CONFLICT
        Last-write-wins (default)
        Manual merge (complex)
        Timestamp-based
    end note
      </div>

      <div class="bg-blue-50 rounded-lg p-4 mt-6">
        <h3 class="text-sm font-bold text-blue-900 mb-2">Sync Priorities</h3>
        <ol class="text-xs text-blue-700 space-y-1">
          <li>1. <strong>Critical:</strong> Completed visits pending submission (highest priority)</li>
          <li>2. <strong>High:</strong> KARDEX data, vital signs, clinical scales</li>
          <li>3. <strong>Medium:</strong> Draft notes, supply usage</li>
          <li>4. <strong>Low:</strong> UI preferences, cache updates</li>
        </ol>
      </div>
    </div>

    <!-- State Transition Permissions -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">State Transition Permissions</h2>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="bg-indigo-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-indigo-900 mb-3">Admin Permissions</h3>
          <ul class="text-xs text-indigo-700 space-y-1">
            <li>‚Ä¢ ASSIGNED ‚Üê Create visit</li>
            <li>‚Ä¢ AWAITING_APPROVAL ‚Üí APPROVED</li>
            <li>‚Ä¢ AWAITING_APPROVAL ‚Üí REVISION_REQUIRED</li>
            <li>‚Ä¢ Any state ‚Üí CANCELLED</li>
            <li>‚Ä¢ MANUAL_REVIEW ‚Üí PENDING (RIPS)</li>
            <li>‚Ä¢ DEFENSE_GENERATED ‚Üí APPROVED_FOR_SUBMISSION</li>
          </ul>
        </div>
        
        <div class="bg-purple-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-purple-900 mb-3">Nurse Permissions</h3>
          <ul class="text-xs text-purple-700 space-y-1">
            <li>‚Ä¢ ASSIGNED ‚Üí IN_PROGRESS</li>
            <li>‚Ä¢ IN_PROGRESS ‚Üí DOCUMENTING</li>
            <li>‚Ä¢ DOCUMENTING ‚Üî DRAFT</li>
            <li>‚Ä¢ DOCUMENTING ‚Üí AWAITING_APPROVAL</li>
            <li>‚Ä¢ REVISION_REQUIRED ‚Üí DOCUMENTING</li>
            <li>‚Ä¢ AVAILABLE ‚Üî ON_VISIT ‚Üî BREAK</li>
          </ul>
        </div>
        
        <div class="bg-pink-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-pink-900 mb-3">System/AI Permissions</h3>
          <ul class="text-xs text-pink-700 space-y-1">
            <li>‚Ä¢ RIPS_PENDING ‚Üí RIPS_GENERATED</li>
            <li>‚Ä¢ PENDING ‚Üí VALIDATING (RIPS)</li>
            <li>‚Ä¢ VALIDATING ‚Üí GENERATED</li>
            <li>‚Ä¢ REJECTED ‚Üí ANALYZING (Glosa)</li>
            <li>‚Ä¢ ANALYZING ‚Üí DEFENSE_GENERATED</li>
            <li>‚Ä¢ Auto-sync: OFFLINE ‚Üî ONLINE</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Invalid Transitions -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">Invalid Transitions (Guarded)</h2>
      <p class="text-slate-600 mb-6">
        These transitions are prevented by the system to maintain data integrity.
      </p>
      
      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-red-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-red-900 mb-2">‚ùå Cannot Skip States</h3>
          <ul class="text-xs text-red-700 space-y-1">
            <li>‚Ä¢ ASSIGNED ‚Üí APPROVED (must document)</li>
            <li>‚Ä¢ IN_PROGRESS ‚Üí BILLED (must approve first)</li>
            <li>‚Ä¢ DRAFT ‚Üí RIPS_GENERATED (must submit for approval)</li>
            <li>‚Ä¢ REJECTED ‚Üí PAID (must defend glosa)</li>
          </ul>
        </div>
        
        <div class="bg-orange-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-orange-900 mb-2">‚ö†Ô∏è Cannot Reverse</h3>
          <ul class="text-xs text-orange-700 space-y-1">
            <li>‚Ä¢ PAID ‚Üí any prior state (audit trail)</li>
            <li>‚Ä¢ CANCELLED ‚Üí ASSIGNED (create new)</li>
            <li>‚Ä¢ BILLED ‚Üí DRAFT (can only defend)</li>
            <li>‚Ä¢ DISCHARGED ‚Üí ACTIVE_CARE (re-admit process)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- State Persistence -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">State Persistence & Recovery</h2>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="bg-slate-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-slate-900 mb-2">Database (DynamoDB)</h3>
          <ul class="text-xs text-slate-600 space-y-1">
            <li>‚Ä¢ Current state + timestamp</li>
            <li>‚Ä¢ State history (audit log)</li>
            <li>‚Ä¢ Transition actor (user/system)</li>
            <li>‚Ä¢ Metadata (reason, notes)</li>
          </ul>
        </div>
        
        <div class="bg-slate-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-slate-900 mb-2">localStorage (Client)</h3>
          <ul class="text-xs text-slate-600 space-y-1">
            <li>‚Ä¢ Navigation state</li>
            <li>‚Ä¢ Draft form data</li>
            <li>‚Ä¢ Offline queue</li>
            <li>‚Ä¢ User preferences</li>
          </ul>
        </div>
        
        <div class="bg-slate-50 rounded-lg p-4">
          <h3 class="text-sm font-bold text-slate-900 mb-2">IndexedDB (Offline)</h3>
          <ul class="text-xs text-slate-600 space-y-1">
            <li>‚Ä¢ Cached visit data</li>
            <li>‚Ä¢ Pending mutations</li>
            <li>‚Ä¢ Attachment blobs</li>
            <li>‚Ä¢ Full documents</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Testing Coverage -->
    <div class="diagram-container rounded-2xl p-8 mb-8 shadow-2xl">
      <h2 class="text-2xl font-bold text-slate-900 mb-4">State Transition Testing</h2>
      
      <div class="grid md:grid-cols-4 gap-4 mb-6">
        <div class="bg-green-50 rounded-lg p-4 text-center">
          <div class="text-2xl font-bold text-green-900">Visit</div>
          <div class="text-sm text-green-700">8/8 states</div>
          <div class="text-xs text-green-600">100% covered</div>
        </div>
        <div class="bg-blue-50 rounded-lg p-4 text-center">
          <div class="text-2xl font-bold text-blue-900">RIPS</div>
          <div class="text-sm text-blue-700">6/6 states</div>
          <div class="text-xs text-blue-600">100% covered</div>
        </div>
        <div class="bg-purple-50 rounded-lg p-4 text-center">
          <div class="text-2xl font-bold text-purple-900">Glosa</div>
          <div class="text-sm text-purple-700">5/5 states</div>
          <div class="text-xs text-purple-600">100% covered</div>
        </div>
        <div class="bg-pink-50 rounded-lg p-4 text-center">
          <div class="text-2xl font-bold text-pink-900">Offline</div>
          <div class="text-sm text-pink-700">5/5 states</div>
          <div class="text-xs text-pink-600">100% covered</div>
        </div>
      </div>

      <div class="bg-slate-50 rounded-lg p-4">
        <h3 class="text-sm font-bold text-slate-900 mb-2">Playwright Test Coverage</h3>
        <ul class="text-xs text-slate-600 space-y-1">
          <li>‚úì Happy path: ASSIGNED ‚Üí PAID (full cycle test)</li>
          <li>‚úì Rejection flow: BILLED ‚Üí REJECTED ‚Üí DEFENSE ‚Üí PAID</li>
          <li>‚úì Draft persistence: DRAFT ‚Üí logout ‚Üí resume</li>
          <li>‚úì Invalid transitions: Guards prevent illegal moves</li>
          <li>‚úì Offline sync: LOCAL_ONLY ‚Üí SYNCING ‚Üí SYNCED</li>
          <li>‚úì Concurrent updates: Conflict resolution</li>
        </ul>
      </div>
    </div>

    <!-- Footer -->
    <div class="diagram-container rounded-2xl p-6 shadow-2xl">
      <div class="flex items-center justify-between">
        <div>
          <div class="text-sm text-slate-600">Documentation Generated</div>
          <div class="text-xs text-slate-500">2026-01-30 ‚Ä¢ IPS-ERP State Transitions</div>
        </div>
        <div class="flex gap-4 text-xs text-slate-500">
          <a href="navigation-flows.html" class="hover:text-indigo-600">Navigation</a>
          <a href="form-workflows.html" class="hover:text-purple-600">Forms</a>
          <a href="data-flow.html" class="hover:text-blue-600">Data Flow</a>
          <a href="architecture-map.html" class="hover:text-pink-600">Architecture</a>
        </div>
      </div>
    </div>

  </div>

  <script>
    mermaid.initialize({ 
      startOnLoad: true,
      theme: 'default',
      themeVariables: {
        primaryColor: '#6366f1',
        primaryTextColor: '#1e293b',
        primaryBorderColor: '#4f46e5',
        lineColor: '#64748b',
        secondaryColor: '#8b5cf6',
        tertiaryColor: '#ec4899'
      }
    });
  </script>

</body>
</html>
