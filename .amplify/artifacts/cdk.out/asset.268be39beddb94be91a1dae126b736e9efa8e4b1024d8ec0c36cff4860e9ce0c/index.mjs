/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var $2=Object.create;var dc=Object.defineProperty;var k2=Object.getOwnPropertyDescriptor;var L2=Object.getOwnPropertyNames;var M2=Object.getPrototypeOf,U2=Object.prototype.hasOwnProperty;var se=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var T=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pt=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},$b=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L2(t))!U2.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=k2(t,o))||n.enumerable});return e};var A=(e,t,r)=>(r=e!=null?$2(M2(e)):{},$b(t||!e||!e.__esModule?dc(r,"default",{value:e,enumerable:!0}):r,e)),Z=e=>$b(dc({},"__esModule",{value:!0}),e);import{createRequire as B2}from"node:module";import F2 from"node:path";import G2 from"node:url";var c=T(()=>{global.require=B2(import.meta.url);global.__filename=G2.fileURLToPath(import.meta.url);global.__dirname=F2.dirname(__filename)});var En=P(xe=>{"use strict";c();xe.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(xe.HttpAuthLocation||(xe.HttpAuthLocation={}));xe.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(xe.HttpApiKeyAuthLocation||(xe.HttpApiKeyAuthLocation={}));xe.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(xe.EndpointURLScheme||(xe.EndpointURLScheme={}));xe.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(xe.AlgorithmId||(xe.AlgorithmId={}));var H2=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>xe.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>xe.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},j2=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},q2=e=>H2(e),V2=e=>j2(e);xe.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(xe.FieldPosition||(xe.FieldPosition={}));var z2="__smithy_context";xe.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(xe.IniSectionType||(xe.IniSectionType={}));xe.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(xe.RequestHandlerProtocol||(xe.RequestHandlerProtocol={}));xe.SMITHY_CONTEXT_KEY=z2;xe.getDefaultClientConfiguration=q2;xe.resolveDefaultRuntimeConfig=V2});var Ze=P(Qm=>{"use strict";c();var kb=En(),W2=e=>e[kb.SMITHY_CONTEXT_KEY]||(e[kb.SMITHY_CONTEXT_KEY]={}),K2=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Qm.getSmithyContext=W2;Qm.normalizeProvider=K2});function zo(e){return Lb.includes(e)}var ai,Lb,pc=T(()=>{c();ai="preferred",Lb=["disabled","preferred","required"]});var Mb,Y2,Ub=T(()=>{c();Mb=A(Ze());pc();Y2=e=>{let{accountIdEndpointMode:t}=e,r=(0,Mb.normalizeProvider)(t??ai);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!zo(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var Bb,Fb,Gb,Hb,X2,jb=T(()=>{c();pc();Bb="Invalid AccountIdEndpointMode value",Fb=e=>{throw new Error(e)},Gb="AWS_ACCOUNT_ID_ENDPOINT_MODE",Hb="account_id_endpoint_mode",X2={environmentVariableSelector:e=>{let t=e[Gb];return t&&!zo(t)&&Fb(Bb),t},configFileSelector:e=>{let t=e[Hb];return t&&!zo(t)&&Fb(Bb),t},default:ai}});var Jm={};pt(Jm,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>Lb,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>Hb,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>ai,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>Gb,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>X2,resolveAccountIdEndpointModeConfig:()=>Y2,validateAccountIdEndpointMode:()=>zo});var Zm=T(()=>{c();Ub();pc();jb()});var Te=P(Sn=>{"use strict";c();var Q2=En(),J2=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Z2=e=>({httpHandler:e.httpHandler()}),ef=class{name;kind;values;constructor({name:t,kind:r=Q2.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},tf=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},rf=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=eG(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function eG(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var nf=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function tG(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Sn.Field=ef;Sn.Fields=tf;Sn.HttpRequest=rf;Sn.HttpResponse=nf;Sn.getHttpHandlerExtensionConfiguration=J2;Sn.isValidHostname=tG;Sn.resolveHttpHandlerRuntimeConfig=Z2});var Vb=P((Goe,qb)=>{c();function Lr(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Lr.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Lr.prototype[Symbol.iterator]=function(){return this});Lr.of=function(){var e=arguments,t=e.length,r=0;return new Lr(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Lr.empty=function(){var e=new Lr(null);return e.done=!0,e};Lr.is=function(e){return e instanceof Lr?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};qb.exports=Lr});var of=P((joe,Yb)=>{c();var zb=typeof ArrayBuffer<"u",Wb=typeof Symbol<"u";function Kb(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||zb&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Wb&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}Kb.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||zb&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Wb&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};Yb.exports=Kb});var sf=P(lr=>{c();var rG=Math.pow(2,8)-1,nG=Math.pow(2,16)-1,oG=Math.pow(2,32)-1,sG=Math.pow(2,7)-1,iG=Math.pow(2,15)-1,aG=Math.pow(2,31)-1;lr.getPointerArray=function(e){var t=e-1;return t<=rG?Uint8Array:t<=nG?Uint16Array:t<=oG?Uint32Array:Float64Array};lr.getSignedPointerArray=function(e){var t=e-1;return t<=sG?Int8Array:t<=iG?Int16Array:t<=aG?Int32Array:Float64Array};lr.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var cG={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};lr.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,u;for(a=0,u=e.length;a<u;a++)i=t?t(e[a]):e[a],s=lr.getNumberType(i),o=cG[s.name],o>n&&(n=o,r=s);return r};lr.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};lr.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};lr.indices=function(e){for(var t=lr.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var Jb=P(ci=>{c();var Xb=of(),Qb=sf();function uG(e){return Array.isArray(e)||Qb.isTypedArray(e)}function af(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function lG(e){var t=af(e),r=typeof t=="number"?new Array(t):[],n=0;return Xb(e,function(o){r[n++]=o}),r}function dG(e){var t=af(e),r=typeof t=="number"?Qb.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return Xb(e,function(i){n[s]=i,o[s]=s++}),[n,o]}ci.isArrayLike=uG;ci.guessLength=af;ci.toArray=lG;ci.toArrayWithIndices=dG});var e_=P((Yoe,Zb)=>{c();var cf=Vb(),pG=of(),mG=sf(),fG=Jb();function Ge(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=mG.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ge.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ge.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Ge.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ge.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Ge.prototype.has=function(e){return e in this.items};Ge.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Ge.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Ge.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};Ge.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new cf(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ge.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new cf(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ge.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new cf(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Ge.prototype[Symbol.iterator]=Ge.prototype.entries);Ge.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Ge,enumerable:!1}),e};typeof Symbol<"u"&&(Ge.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ge.prototype.inspect);Ge.from=function(e,t,r,n){if(arguments.length<2){if(n=fG.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Ge(t,r,n);return pG(e,function(s,i){o.set(i,s)}),o};Zb.exports=Ge});var r_=P(t_=>{"use strict";c();var hG=e_(),uf=class{cache;constructor(t){this.cache=new hG(t)}getEndpoint(t){let r=this.get(t);if(!r||r.length===0)return;let n=r.map(o=>o.Address);return n[Math.floor(Math.random()*n.length)]}get(t){if(!this.has(t))return;let r=this.cache.get(t);if(!r)return;let n=Date.now(),o=r.filter(s=>n<s.Expires);if(o.length===0){this.delete(t);return}return o}set(t,r){let n=Date.now();this.cache.set(t,r.map(({Address:o,CachePeriodInMinutes:s})=>({Address:o,Expires:n+s*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let r=this.cache.peek(t);return r?r.length>0:!1}clear(){this.cache.clear()}};t_.EndpointCache=uf});var pf=P(po=>{"use strict";c();var gG=Te(),yG=r_(),n_=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],lf="endpoint_discovery_enabled",o_=e=>["false","0"].indexOf(e)>=0,EG={environmentVariableSelector:e=>{for(let t=0;t<n_.length;t++){let r=n_[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!o_(n)}}},configFileSelector:e=>{if(lf in e){let t=e[lf];if(t===void 0)throw Error(`Shared config entry ${lf} can't be undefined, got "${t}"`);return!o_(t)}},default:void 0},SG=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},Mr={},s_=async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,u=o.get(s);if(u&&u.length===1&&u[0].Address==="")t.isDiscoveredEndpointRequired?(Mr[s]||(Mr[s]=[]),Mr[s].push({resolve:r,reject:n})):r();else if(u&&u.length>0)r();else{let d=[{Address:"",CachePeriodInMinutes:1}];o.set(s,d);let g=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});g.resolveMiddleware(t.clientStack,e,t.options)(g).then(E=>{o.set(s,E.output.Endpoints),Mr[s]&&(Mr[s].forEach(({resolve:y})=>{y()}),delete Mr[s]),r()}).catch(E=>{o.delete(s);let y=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:E});Mr[s]&&(Mr[s].forEach(({reject:b})=>{b(y)}),delete Mr[s]),t.isDiscoveredEndpointRequired?n(y):(o.set(s,d),r())})}}),df=(e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,u=n.clientName,d=n.commandName,g=await e.endpointDiscoveryEnabled(),h=await SG(d,e,{identifiers:a});if(i){if(g===!1)throw new Error(`Endpoint Discovery is disabled but ${d} on ${u} requires it. Please check your configurations.`);await s_(e,{...t,commandName:d,cacheKey:h,endpointDiscoveryCommandCtor:s})}else g&&s_(e,{...t,commandName:d,cacheKey:h,endpointDiscoveryCommandCtor:s});let{request:E}=o;if(h&&gG.HttpRequest.isInstance(E)){let y=e.endpointCache.getEndpoint(h);y&&(E.hostname=y)}return r(o)},mc={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},bG=(e,t)=>({applyToStack:r=>{r.add(df(e,t),mc)}}),_G=(e,t)=>({applyToStack:r=>{r.add(df(e,{...t,isDiscoveredEndpointRequired:!0}),mc)}}),TG=(e,t)=>({applyToStack:r=>{r.add(df(e,{...t,isDiscoveredEndpointRequired:!1}),mc)}}),IG=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new yG.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})};po.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=EG;po.endpointDiscoveryMiddlewareOptions=mc;po.getEndpointDiscoveryOptionalPlugin=TG;po.getEndpointDiscoveryPlugin=bG;po.getEndpointDiscoveryRequiredPlugin=_G;po.resolveEndpointDiscoveryConfig=IG});var Wo=P(ui=>{"use strict";c();var wG=Te();function AG(e){return e}var i_=e=>t=>async r=>{if(!wG.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},a_={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},CG=e=>({applyToStack:t=>{t.add(i_(e),a_)}});ui.getHostHeaderPlugin=CG;ui.hostHeaderMiddleware=i_;ui.hostHeaderMiddlewareOptions=a_;ui.resolveHostHeaderConfig=AG});var Ko=P(fc=>{"use strict";c();var c_=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:d}=a,g=u??t.inputFilterSensitiveLog,h=d??t.outputFilterSensitiveLog,{$metadata:E,...y}=n.output;return i?.info?.({clientName:o,commandName:s,input:g(r.input),output:h(y),metadata:E}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u}=a,d=u??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:d(r.input),error:n,metadata:n.$metadata}),n}},u_={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},xG=e=>({applyToStack:t=>{t.add(c_(),u_)}});fc.getLoggerPlugin=xG;fc.loggerMiddleware=c_;fc.loggerMiddlewareOptions=u_});var l_={};pt(l_,{InvokeStore:()=>gf,InvokeStoreBase:()=>di});var li,mf,di,ff,hf,gf,d_=T(()=>{c();li={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},mf=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");mf||(globalThis.awslambda=globalThis.awslambda||{});di=class{static PROTECTED_KEYS=li;isProtectedKey(t){return Object.values(li).includes(t)}getRequestId(){return this.get(li.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(li.X_RAY_TRACE_ID)}getTenantId(){return this.get(li.TENANT_ID)}},ff=class extends di{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},hf=class e extends di{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let o="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await hf.create():new ff;return!mf&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!mf&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=o),o)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(gf||(gf={}))});var p_=P(hc=>{"use strict";c();Object.defineProperty(hc,"__esModule",{value:!0});hc.recursionDetectionMiddleware=void 0;var vG=(d_(),Z(l_)),RG=Te(),yf="X-Amzn-Trace-Id",DG="AWS_LAMBDA_FUNCTION_NAME",PG="_X_AMZN_TRACE_ID",NG=()=>e=>async t=>{let{request:r}=t;if(!RG.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(g=>g.toLowerCase()===yf.toLowerCase())??yf;if(r.headers.hasOwnProperty(n))return e(t);let o=process.env[DG],s=process.env[PG],u=(await vG.InvokeStore.getInstanceAsync())?.getXRayTraceId()??s,d=g=>typeof g=="string"&&g.length>0;return d(o)&&d(u)&&(r.headers[yf]=u),e({...t,request:r})};hc.recursionDetectionMiddleware=NG});var Yo=P(gc=>{"use strict";c();var Ef=p_(),OG={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},$G=e=>({applyToStack:t=>{t.add(Ef.recursionDetectionMiddleware(),OG)}});gc.getRecursionDetectionPlugin=$G;Object.keys(Ef).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(gc,e)&&Object.defineProperty(gc,e,{enumerable:!0,get:function(){return Ef[e]}})})});var Sf,kG,m_=T(()=>{c();Sf=A(En()),kG=e=>e[Sf.SMITHY_CONTEXT_KEY]||(e[Sf.SMITHY_CONTEXT_KEY]={})});var f_,h_=T(()=>{c();f_=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function LG(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var g_,pi,yc=T(()=>{c();g_=A(Ze());h_();pi=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=f_(s,i),u=LG(e.httpAuthSchemes),d=(0,g_.getSmithyContext)(n),g=[];for(let h of a){let E=u.get(h.schemeId);if(!E){g.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}let y=E.identityProvider(await t.identityProviderConfigProvider(e));if(!y){g.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:b={},signingProperties:C={}}=h.propertiesExtractor?.(e,n)||{};h.identityProperties=Object.assign(h.identityProperties||{},b),h.signingProperties=Object.assign(h.signingProperties||{},C),d.selectedHttpAuthScheme={httpAuthOption:h,identity:await y(h.identityProperties),signer:E.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(g.join(`
`));return r(o)}});var y_,mo,E_=T(()=>{c();yc();y_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},mo=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(pi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),y_)}})});var _f=P(Xo=>{"use strict";c();var MG=Te(),S_=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(MG.HttpResponse.isInstance(s)){let{headers:u={}}=s,d=Object.entries(u);i.$metadata={httpStatusCode:s.statusCode,requestId:bf(/^x-[\w-]+-request-?id$/,d),extendedRequestId:bf(/^x-[\w-]+-id-2$/,d),cfId:bf(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw i}},bf=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],b_=(e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},__={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},T_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function UG(e,t,r){return{applyToStack:n=>{n.add(S_(e,r),__),n.add(b_(e,t),T_)}}}Xo.deserializerMiddleware=S_;Xo.deserializerMiddlewareOption=__;Xo.getSerdePlugin=UG;Xo.serializerMiddleware=b_;Xo.serializerMiddlewareOption=T_});var I_,w_,BG,A_=T(()=>{c();I_=A(_f());yc();w_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:I_.serializerMiddlewareOption.name},BG=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(pi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),w_)}})});var C_=T(()=>{c();yc();E_();A_()});var x_,v_,FG,GG,Tf,If=T(()=>{c();x_=A(Te()),v_=A(Ze()),FG=e=>t=>{throw t},GG=(e,t)=>{},Tf=e=>(t,r)=>async n=>{if(!x_.HttpRequest.isInstance(n.request))return t(n);let s=(0,v_.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:u}=s,d=await t({...n,request:await u.sign(n.request,a,i)}).catch((u.errorHandler||FG)(i));return(u.successHandler||GG)(d.response,i),d}});var R_,fo,D_=T(()=>{c();If();R_={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},fo=e=>({applyToStack:t=>{t.addRelativeTo(Tf(e),R_)}})});var P_=T(()=>{c();If();D_()});var bn,N_=T(()=>{c();bn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function O_(e,t,r,n,o){return async function*(i,a,...u){let d=a,g=i.startingToken??d[r],h=!0,E;for(;h;){if(d[r]=g,o&&(d[o]=d[o]??i.pageSize),i.client instanceof e)E=await HG(t,i.client,a,i.withCommand,...u);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield E;let y=g;g=jG(E,n),h=!!(g&&(!i.stopOnSameToken||g!==y))}return void 0}}var HG,jG,$_=T(()=>{c();HG=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};jG=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var wf=P(k_=>{"use strict";c();var qG=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";k_.isArrayBuffer=qG});var Qo=P(Cf=>{"use strict";c();var VG=wf(),Af=se("buffer"),zG=(e,t=0,r=e.byteLength-t)=>{if(!VG.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Af.Buffer.from(e,t,r)},WG=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Af.Buffer.from(e,t):Af.Buffer.from(e)};Cf.fromArrayBuffer=zG;Cf.fromString=WG});var L_=P(Ec=>{"use strict";c();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.fromBase64=void 0;var KG=Qo(),YG=/^[A-Za-z0-9+/]*={0,2}$/,XG=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!YG.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,KG.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ec.fromBase64=XG});var Ve=P(Sc=>{"use strict";c();var M_=Qo(),U_=e=>{let t=M_.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},QG=e=>typeof e=="string"?U_(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),JG=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return M_.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Sc.fromUtf8=U_;Sc.toUint8Array=QG;Sc.toUtf8=JG});var B_=P(bc=>{"use strict";c();Object.defineProperty(bc,"__esModule",{value:!0});bc.toBase64=void 0;var ZG=Qo(),eH=Ve(),tH=e=>{let t;if(typeof e=="string"?t=(0,eH.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,ZG.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};bc.toBase64=tH});var je=P(mi=>{"use strict";c();var F_=L_(),G_=B_();Object.keys(F_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(mi,e)&&Object.defineProperty(mi,e,{enumerable:!0,get:function(){return F_[e]}})});Object.keys(G_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(mi,e)&&Object.defineProperty(mi,e,{enumerable:!0,get:function(){return G_[e]}})})});var vf=P(_c=>{"use strict";c();Object.defineProperty(_c,"__esModule",{value:!0});_c.ChecksumStream=void 0;var rH=je(),nH=se("stream"),xf=class extends nH.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??rH.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};_c.ChecksumStream=xf});var Ur=P(Jo=>{"use strict";c();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.isBlob=Jo.isReadableStream=void 0;var oH=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Jo.isReadableStream=oH;var sH=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Jo.isBlob=sH});var H_=P(Tc=>{"use strict";c();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ChecksumStream=void 0;var iH=typeof ReadableStream=="function"?ReadableStream:function(){},Rf=class extends iH{};Tc.ChecksumStream=Rf});var j_=P(Ic=>{"use strict";c();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.createChecksumStream=void 0;var aH=je(),cH=Ur(),uH=H_(),lH=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,cH.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??aH.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(u,d){t.update(u),d.enqueue(u)},async flush(u){let d=await t.digest(),g=s(d);if(e!==g){let h=new Error(`Checksum mismatch: expected "${e}" but received "${g}" in response header "${n}".`);u.error(h)}else u.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,uH.ChecksumStream.prototype),a};Ic.createChecksumStream=lH});var q_=P(Df=>{"use strict";c();Object.defineProperty(Df,"__esModule",{value:!0});Df.createChecksumStream=fH;var dH=Ur(),pH=vf(),mH=j_();function fH(e){return typeof ReadableStream=="function"&&(0,dH.isReadableStream)(e.source)?(0,mH.createChecksumStream)(e):new pH.ChecksumStream(e)}});var Nf=P(wc=>{"use strict";c();Object.defineProperty(wc,"__esModule",{value:!0});wc.ByteArrayCollector=void 0;var Pf=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};wc.ByteArrayCollector=Pf});var K_=P(Br=>{"use strict";c();Object.defineProperty(Br,"__esModule",{value:!0});Br.createBufferedReadable=void 0;Br.createBufferedReadableStream=V_;Br.merge=z_;Br.flush=Ac;Br.sizeOf=Zo;Br.modeOf=W_;var hH=Nf();function V_(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new hH.ByteArrayCollector(d=>new Uint8Array(d))],a=-1,u=async d=>{let{value:g,done:h}=await n.read(),E=g;if(h){if(a!==-1){let y=Ac(i,a);Zo(y)>0&&d.enqueue(y)}d.close()}else{let y=W_(E,!1);if(a!==y&&(a>=0&&d.enqueue(Ac(i,a)),a=y),a===-1){d.enqueue(E);return}let b=Zo(E);s+=b;let C=Zo(i[a]);if(b>=t&&C===0)d.enqueue(E);else{let x=z_(i,a,E);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${b} is below threshold of ${t}, automatically buffering.`)),x>=t?d.enqueue(Ac(i,a)):await u(d)}}};return new ReadableStream({pull:u})}Br.createBufferedReadable=V_;function z_(e,t,r){switch(t){case 0:return e[0]+=r,Zo(e[0]);case 1:case 2:return e[t].push(r),Zo(e[t])}}function Ac(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Zo(e){return e?.byteLength??e?.length??0}function W_(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var X_=P(Of=>{"use strict";c();Object.defineProperty(Of,"__esModule",{value:!0});Of.createBufferedReadable=EH;var gH=se("node:stream"),Y_=Nf(),Fr=K_(),yH=Ur();function EH(e,t,r){if((0,yH.isReadableStream)(e))return(0,Fr.createBufferedReadableStream)(e,t,r);let n=new gH.Readable({read(){}}),o=!1,s=0,i=["",new Y_.ByteArrayCollector(u=>new Uint8Array(u)),new Y_.ByteArrayCollector(u=>Buffer.from(new Uint8Array(u)))],a=-1;return e.on("data",u=>{let d=(0,Fr.modeOf)(u,!0);if(a!==d&&(a>=0&&n.push((0,Fr.flush)(i,a)),a=d),a===-1){n.push(u);return}let g=(0,Fr.sizeOf)(u);s+=g;let h=(0,Fr.sizeOf)(i[a]);if(g>=t&&h===0)n.push(u);else{let E=(0,Fr.merge)(i,a,u);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),E>=t&&n.push((0,Fr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let u=(0,Fr.flush)(i,a);(0,Fr.sizeOf)(u)>0&&n.push(u)}n.push(null)}),n}});var Q_=P(Cc=>{"use strict";c();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.getAwsChunkedEncodingStream=void 0;var SH=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&n!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,u=a?i(o,e):void 0,d=e.getReader();return new ReadableStream({async pull(g){let{value:h,done:E}=await d.read();if(E){if(g.enqueue(`0\r
`),a){let y=r(await u);g.enqueue(`${s}:${y}\r
`),g.enqueue(`\r
`)}g.close()}else g.enqueue(`${(n(h)||0).toString(16)}\r
${h}\r
`)}})};Cc.getAwsChunkedEncodingStream=SH});var J_=P($f=>{"use strict";c();Object.defineProperty($f,"__esModule",{value:!0});$f.getAwsChunkedEncodingStream=IH;var bH=se("node:stream"),_H=Q_(),TH=Ur();function IH(e,t){let r=e,n=e;if((0,TH.isReadableStream)(n))return(0,_H.getAwsChunkedEncodingStream)(n,t);let{base64Encoder:o,bodyLengthChecker:s,checksumAlgorithmFn:i,checksumLocationName:a,streamHasher:u}=t,d=o!==void 0&&i!==void 0&&a!==void 0&&u!==void 0,g=d?u(i,r):void 0,h=new bH.Readable({read:()=>{}});return r.on("data",E=>{let y=s(E)||0;y!==0&&(h.push(`${y.toString(16)}\r
`),h.push(E),h.push(`\r
`))}),r.on("end",async()=>{if(h.push(`0\r
`),d){let E=o(await g);h.push(`${a}:${E}\r
`),h.push(`\r
`)}h.push(null)}),h}});var Z_=P(kf=>{"use strict";c();Object.defineProperty(kf,"__esModule",{value:!0});kf.headStream=wH;async function wH(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:u,value:d}=await o.read();if(d&&(n.push(d),r+=d?.byteLength??0),r>=t)break;s=u}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let u of n){if(u.byteLength>i.byteLength-a){i.set(u.subarray(0,i.byteLength-a),a);break}else i.set(u,a);a+=u.length}return i}});var eT=P(xc=>{"use strict";c();Object.defineProperty(xc,"__esModule",{value:!0});xc.headStream=void 0;var AH=se("stream"),CH=Z_(),xH=Ur(),vH=(e,t)=>(0,xH.isReadableStream)(e)?(0,CH.headStream)(e,t):new Promise((r,n)=>{let o=new Lf;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});xc.headStream=vH;var Lf=class extends AH.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var Uf=P(Mf=>{"use strict";c();var tT=e=>encodeURIComponent(e).replace(/[!'()*]/g,RH),RH=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,DH=e=>e.split("/").map(tT).join("/");Mf.escapeUri=tT;Mf.escapeUriPath=DH});var Ff=P(rT=>{"use strict";c();var Bf=Uf();function PH(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Bf.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${Bf.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${Bf.escapeUri(n)}`),t.push(o)}}return t.join("&")}rT.buildQueryString=PH});var _n=P(fi=>{"use strict";c();var iT=Te(),aT=Ff(),vc=se("http"),Rc=se("https"),cT=se("stream"),Gf=se("http2"),NH=["ECONNRESET","EPIPE","ETIMEDOUT"],uT=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},mt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},nT=1e3,OH=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=mt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{mt.clearTimeout(s)}):mt.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):mt.setTimeout(n.bind(null,nT),nT)},$H=(e,t,r=0,n,o)=>r?mt.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,kH=3e3,LH=(e,{keepAlive:t,keepAliveMsecs:r},n=kH)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):mt.setTimeout(o,n)},oT=3e3,MH=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):mt.setTimeout(n.bind(null,r===0?0:oT),oT)},sT=6e3;async function lT(e,t,r=sT,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(u=>{i=Number(mt.setTimeout(()=>u(!0),Math.max(sT,r)))}),new Promise(u=>{e.on("continue",()=>{mt.clearTimeout(i),u(!0)}),e.on("response",()=>{mt.clearTimeout(i),u(!1)}),e.on("error",()=>{mt.clearTimeout(i),u(!1)})})])),a&&UH(e,t.body)}function UH(e,t){if(t instanceof cT.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var BH=0,Hf=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let u in o){let d=o[u]?.length??0,g=s[u]?.length??0;if(d>=i&&g>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${g} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:u}=t||{},d=!0,g=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:u,httpAgent:i instanceof vc.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new vc.Agent({keepAlive:d,maxSockets:g,...i}),httpsAgent:a instanceof Rc.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Rc.Agent({keepAlive:d,maxSockets:g,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,u=[],d=async ne=>{await a,u.forEach(mt.clearTimeout),o(ne)},g=async ne=>{await a,u.forEach(mt.clearTimeout),s(ne)};if(r?.aborted){let ne=new Error("Request aborted");ne.name="AbortError",g(ne);return}let h=t.protocol==="https:",E=t.headers??{},y=(E.Expect??E.expect)==="100-continue",b=h?i.httpsAgent:i.httpAgent;y&&!this.externalAgent&&(b=new(h?Rc.Agent:vc.Agent)({keepAlive:!1,maxSockets:1/0})),u.push(mt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(b,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let C=aT.buildQueryString(t.query||{}),x;if(t.username!=null||t.password!=null){let ne=t.username??"",pe=t.password??"";x=`${ne}:${pe}`}let R=t.path;C&&(R+=`?${C}`),t.fragment&&(R+=`#${t.fragment}`);let O=t.hostname??"";O[0]==="["&&O.endsWith("]")?O=t.hostname.slice(1,-1):O=t.hostname;let k={headers:t.headers,host:O,method:t.method,path:R,port:t.port,agent:b,auth:x},X=(h?Rc.request:vc.request)(k,ne=>{let pe=new iT.HttpResponse({statusCode:ne.statusCode||-1,reason:ne.statusMessage,headers:uT(ne.headers),body:ne});d({response:pe})});if(X.on("error",ne=>{NH.includes(ne.code)?g(Object.assign(ne,{name:"TimeoutError"})):g(ne)}),r){let ne=()=>{X.destroy();let pe=new Error("Request aborted");pe.name="AbortError",g(pe)};if(typeof r.addEventListener=="function"){let pe=r;pe.addEventListener("abort",ne,{once:!0}),X.once("close",()=>pe.removeEventListener("abort",ne))}else r.onabort=ne}let ue=n??i.requestTimeout;u.push(OH(X,g,i.connectionTimeout)),u.push($H(X,g,ue,i.throwOnRequestTimeout,i.logger??console)),u.push(MH(X,g,i.socketTimeout));let Le=k.agent;typeof Le=="object"&&"keepAlive"in Le&&u.push(LH(X,{keepAlive:Le.keepAlive,keepAliveMsecs:Le.keepAliveMsecs})),a=lT(X,t,ue,this.externalAgent).catch(ne=>(u.forEach(mt.clearTimeout),s(ne)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},jf=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},qf=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let u=o.poll();if(u&&!this.config.disableConcurrency)return u}let s=Gf.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},u=>{if(u)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new jf;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Vf=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new qf({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,u)=>{let d=!1,g,h=async Ce=>{await g,a(Ce)},E=async Ce=>{await g,u(Ce)};if(r?.aborted){d=!0;let Ce=new Error("Request aborted");Ce.name="AbortError",E(Ce);return}let{hostname:y,method:b,port:C,protocol:x,query:R}=t,O="";if(t.username!=null||t.password!=null){let Ce=t.username??"",Ye=t.password??"";O=`${Ce}:${Ye}@`}let k=`${x}//${O}${y}${C?`:${C}`:""}`,j={destination:new URL(k)},X=this.connectionManager.lease(j,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),ue=Ce=>{s&&this.destroySession(X),d=!0,E(Ce)},Le=aT.buildQueryString(R||{}),ne=t.path;Le&&(ne+=`?${Le}`),t.fragment&&(ne+=`#${t.fragment}`);let pe=X.request({...t.headers,[Gf.constants.HTTP2_HEADER_PATH]:ne,[Gf.constants.HTTP2_HEADER_METHOD]:b});if(X.ref(),pe.on("response",Ce=>{let Ye=new iT.HttpResponse({statusCode:Ce[":status"]||-1,headers:uT(Ce),body:pe});d=!0,h({response:Ye}),s&&(X.close(),this.connectionManager.deleteSession(k,X))}),i&&pe.setTimeout(i,()=>{pe.close();let Ce=new Error(`Stream timed out because of no activity for ${i} ms`);Ce.name="TimeoutError",ue(Ce)}),r){let Ce=()=>{pe.close();let Ye=new Error("Request aborted");Ye.name="AbortError",ue(Ye)};if(typeof r.addEventListener=="function"){let Ye=r;Ye.addEventListener("abort",Ce,{once:!0}),pe.once("close",()=>Ye.removeEventListener("abort",Ce))}else r.onabort=Ce}pe.on("frameError",(Ce,Ye,Tt)=>{ue(new Error(`Frame type id ${Ce} in stream id ${Tt} has failed with code ${Ye}.`))}),pe.on("error",ue),pe.on("aborted",()=>{ue(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${pe.rstCode}.`))}),pe.on("close",()=>{X.unref(),s&&X.destroy(),d||ue(new Error("Unexpected error: http2 request did not get a response"))}),g=lT(pe,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},zf=class extends cT.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},FH=e=>GH(e)?HH(e):new Promise((t,r)=>{let n=new zf;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),GH=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function HH(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:u}=await r.read();u&&(t.push(u),o+=u.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}fi.DEFAULT_REQUEST_TIMEOUT=BH;fi.NodeHttp2Handler=Vf;fi.NodeHttpHandler=Hf;fi.streamCollector=FH});var mT=P(Pc=>{"use strict";c();var dT=Te(),jH=Ff(),qH=je();function pT(e,t){return new Request(e,t)}function VH(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Dc={supported:void 0},Wf=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Dc.supported===void 0&&(Dc.supported=typeof Request<"u"&&"keepalive"in pT("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let O=new Error("Request aborted");return O.name="AbortError",Promise.reject(O)}let a=t.path,u=jH.buildQueryString(t.query||{});u&&(a+=`?${u}`),t.fragment&&(a+=`#${t.fragment}`);let d="";if(t.username!=null||t.password!=null){let O=t.username??"",k=t.password??"";d=`${O}:${k}@`}let{port:g,method:h}=t,E=`${t.protocol}//${d}${t.hostname}${g?`:${g}`:""}${a}`,y=h==="GET"||h==="HEAD"?void 0:t.body,b={body:y,headers:new Headers(t.headers),method:h,credentials:i};this.config?.cache&&(b.cache=this.config.cache),y&&(b.duplex="half"),typeof AbortController<"u"&&(b.signal=r),Dc.supported&&(b.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(b,this.config.requestInit(t));let C=()=>{},x=pT(E,b),R=[fetch(x).then(O=>{let k=O.headers,j={};for(let ue of k.entries())j[ue[0]]=ue[1];return O.body!=null?{response:new dT.HttpResponse({headers:j,reason:O.statusText,statusCode:O.status,body:O.body})}:O.blob().then(ue=>({response:new dT.HttpResponse({headers:j,reason:O.statusText,statusCode:O.status,body:ue})}))}),VH(o)];return r&&R.push(new Promise((O,k)=>{let j=()=>{let X=new Error("Request aborted");X.name="AbortError",k(X)};if(typeof r.addEventListener=="function"){let X=r;X.addEventListener("abort",j,{once:!0}),C=()=>X.removeEventListener("abort",j)}else r.onabort=j})),Promise.race(R).finally(C)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},zH=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):WH(e):KH(e);async function WH(e){let t=await YH(e),r=qH.fromBase64(t);return new Uint8Array(r)}async function KH(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:u}=await r.read();u&&(t.push(u),o+=u.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function YH(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Pc.FetchHttpHandler=Wf;Pc.keepAliveSupport=Dc;Pc.streamCollector=zH});var Xf=P(Yf=>{"use strict";c();var fT={},Kf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),fT[e]=t,Kf[t]=e}function XH(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Kf)t[r/2]=Kf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function QH(e){let t="";for(let r=0;r<e.byteLength;r++)t+=fT[e[r]];return t}Yf.fromHex=XH;Yf.toHex=QH});var ET=P(Nc=>{"use strict";c();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.sdkStreamMixin=void 0;var JH=mT(),ZH=je(),ej=Xf(),tj=Ve(),hT=Ur(),gT="The stream has already been transformed.",rj=e=>{if(!yT(e)&&!(0,hT.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(gT);return t=!0,await(0,JH.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,ZH.toBase64)(s);if(o==="hex")return(0,ej.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,tj.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(gT);if(t=!0,yT(e))return n(e);if((0,hT.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Nc.sdkStreamMixin=rj;var yT=e=>typeof Blob=="function"&&e instanceof Blob});var bT=P(Oc=>{"use strict";c();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.sdkStreamMixin=void 0;var nj=_n(),oj=Qo(),Qf=se("stream"),sj=ET(),ST="The stream has already been transformed.",ij=e=>{if(!(e instanceof Qf.Readable))try{return(0,sj.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(ST);return t=!0,await(0,nj.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,oj.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(ST);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Qf.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Qf.Readable.toWeb(e)}})};Oc.sdkStreamMixin=ij});var _T=P(Jf=>{"use strict";c();Object.defineProperty(Jf,"__esModule",{value:!0});Jf.splitStream=aj;async function aj(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var wT=P(Zf=>{"use strict";c();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.splitStream=uj;var TT=se("stream"),cj=_T(),IT=Ur();async function uj(e){if((0,IT.isReadableStream)(e)||(0,IT.isBlob)(e))return(0,cj.splitStream)(e);let t=new TT.PassThrough,r=new TT.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var $c=P(ze=>{"use strict";c();var AT=je(),CT=Ve(),xT=vf(),vT=q_(),RT=X_(),DT=J_(),PT=eT(),NT=bT(),OT=wT(),$T=Ur(),eh=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(AT.fromBase64(t)):e.mutate(CT.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?AT.toBase64(this):CT.toUtf8(this)}};Object.defineProperty(ze,"isBlob",{enumerable:!0,get:function(){return $T.isBlob}});Object.defineProperty(ze,"isReadableStream",{enumerable:!0,get:function(){return $T.isReadableStream}});ze.Uint8ArrayBlobAdapter=eh;Object.keys(xT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return xT[e]}})});Object.keys(vT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return vT[e]}})});Object.keys(RT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return RT[e]}})});Object.keys(DT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return DT[e]}})});Object.keys(PT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return PT[e]}})});Object.keys(NT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return NT[e]}})});Object.keys(OT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return OT[e]}})})});var kc,Mt,Lc=T(()=>{c();kc=A($c()),Mt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return kc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return kc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return kc.Uint8ArrayBlobAdapter.mutate(await r)}});function dr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Mc=T(()=>{c()});var Yt,th=T(()=>{c();Yt=e=>typeof e=="function"?e():e});var hi,Uc=T(()=>{c();hi=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var kT,LT,MT,rh,UT=T(()=>{c();kT=A(Te()),LT=A(Ze());Uc();MT=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,LT.getSmithyContext)(r),[,i,a,u,d,g]=s??[];try{let h=await e.protocol.deserializeResponse(hi(i,a,u,d,g),{...e,...r},o);return{response:o,output:h}}catch(h){if(Object.defineProperty(h,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in h)){let E="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{h.message+=`
  `+E}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(E):r.logger?.warn?.(E)}typeof h.$responseBodyText<"u"&&h.$response&&(h.$response.body=h.$responseBodyText);try{if(kT.HttpResponse.isInstance(o)){let{headers:y={}}=o,b=Object.entries(y);h.$metadata={httpStatusCode:o.statusCode,requestId:rh(/^x-[\w-]+-request-?id$/,b),extendedRequestId:rh(/^x-[\w-]+-id-2$/,b),cfId:rh(/^x-[\w-]+-cf-id$/,b)}}}catch{}}throw h}},rh=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var BT,FT,GT=T(()=>{c();BT=A(Ze());Uc();FT=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,BT.getSmithyContext)(r),[,s,i,a,u,d]=o??[],g=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,h=await e.protocol.serializeRequest(hi(s,i,a,u,d),n.input,{...e,...r,endpoint:g});return t({...n,request:h})}});function ho(e){return{applyToStack:t=>{t.add(FT(e),jT),t.add(MT(e),HT),e.protocol.setSerdeContext(e)}}}var HT,jT,qT=T(()=>{c();UT();GT();HT={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},jT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Me,Tn=T(()=>{c();Me=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var Bc,lj,VT=T(()=>{c();Tn();Bc=class e extends Me{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},lj=(e,t,r,n)=>Me.assign(new Bc,{name:t,namespace:e,traits:r,valueSchema:n})});var Fc,dj,zT=T(()=>{c();Tn();Fc=class e extends Me{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},dj=(e,t,r,n,o)=>Me.assign(new Fc,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var Gc,pj,WT=T(()=>{c();Tn();Gc=class e extends Me{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},pj=(e,t,r,n,o)=>Me.assign(new Gc,{name:t,namespace:e,traits:r,input:n,output:o})});var es,mj,nh=T(()=>{c();Tn();es=class e extends Me{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},mj=(e,t,r,n,o)=>Me.assign(new es,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var Hc,fj,KT=T(()=>{c();Tn();nh();Hc=class e extends es{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},fj=(e,t,r,n,o,s)=>Me.assign(new Hc,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function pr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var oh=T(()=>{c()});function gi(e,t){if(e instanceof M)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=M;return new r(e,t)}var YT,M,sh,XT,QT=T(()=>{c();th();oh();YT={it:Symbol.for("@smithy/nor-struct-it")},M=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;sh(o);)n.push(o[1]),o=o[0],s=Yt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,pr(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=Yt(s),XT(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Yt(t);if(r instanceof e)return r;if(sh(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),pr(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return pr(this.memberTraits)}getOwnTraits(){return pr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return gi([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return gi([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return gi(sh(o)?o:[o,0],t)}if(this.isDocumentSchema())return gi([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema(),r=t[4].length,n=t[YT.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let o=0;o<r;++o){let s=t[4][o],i=gi([t[5][o],0],s);yield n[o]=[s,i]}t[YT.it]=n}};sh=e=>Array.isArray(e)&&e.length===2,XT=e=>Array.isArray(e)&&e.length>=5});var yi,hj,gj,JT=T(()=>{c();Tn();yi=class e extends Me{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},hj=(e,t,r,n)=>Me.assign(new yi,{name:t,namespace:e,traits:n,schemaRef:r}),gj=(e,t,r,n)=>Me.assign(new yi,{name:t,namespace:e,traits:r,schemaRef:n})});var yj,ZT=T(()=>{c();yj={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var z,eI=T(()=>{c();z=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=e.for(n[1]);o.schemas.set(n[1]+"#"+n[2],n),o.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var Ei={};pt(Ei,{ErrorSchema:()=>Hc,ListSchema:()=>Bc,MapSchema:()=>Fc,NormalizedSchema:()=>M,OperationSchema:()=>Gc,SCHEMA:()=>yj,Schema:()=>Me,SimpleSchema:()=>yi,StructureSchema:()=>es,TypeRegistry:()=>z,deref:()=>Yt,deserializerMiddlewareOption:()=>HT,error:()=>fj,getSchemaSerdePlugin:()=>ho,isStaticSchema:()=>XT,list:()=>lj,map:()=>dj,op:()=>pj,operation:()=>hi,serializerMiddlewareOption:()=>jT,sim:()=>hj,simAdapter:()=>gj,struct:()=>mj,translateTraits:()=>pr});var ge=T(()=>{c();th();qT();VT();zT();WT();Uc();KT();QT();Tn();JT();nh();ZT();oh();eI()});var Ej,tI=T(()=>{c();Ej=(e,t,r=n=>n)=>e});var Sj,bj,Si,_j,jc,bi,Tj,ih,ah,ch,uh,Ij,wj,rI,Aj,Cj,Vc,xj,lh,vj,ts,dh,Rj,Dj,Pj,nI,oI,Nj,Oj,go,ph,qc,_i,mh=T(()=>{c();Sj=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},bj=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&_i.warn(qc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&_i.warn(qc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Si=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&_i.warn(qc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},_j=Math.ceil(34028234663852886e22),jc=e=>{let t=Si(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>_j)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},bi=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Tj=bi,ih=e=>uh(e,32),ah=e=>uh(e,16),ch=e=>uh(e,8),uh=(e,t)=>{let r=bi(e);if(r!==void 0&&Ij(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Ij=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},wj=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},rI=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Aj=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return _i.warn(qc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Cj=e=>{if(e==null)return;let t=rI(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Vc=e=>Si(typeof e=="string"?ts(e):e),xj=Vc,lh=e=>jc(typeof e=="string"?ts(e):e),vj=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ts=e=>{let t=e.match(vj);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},dh=e=>typeof e=="string"?nI(e):Si(e),Rj=dh,Dj=dh,Pj=e=>typeof e=="string"?nI(e):jc(e),nI=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},oI=e=>bi(typeof e=="string"?ts(e):e),Nj=oI,Oj=e=>ih(typeof e=="string"?ts(e):e),go=e=>ah(typeof e=="string"?ts(e):e),ph=e=>ch(typeof e=="string"?ts(e):e),qc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),_i={warn:console.warn}});function Ii(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),u=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,g=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`;return`${$j[n]}, ${u} ${hh[r]} ${t} ${d}:${g}:${h} GMT`}var $j,hh,kj,Lj,Mj,gh,Uj,Bj,Fj,yh,Eh,Ti,Gj,Hj,jj,fh,qj,Vj,zj,mr,Wj,Kj,rs,sI=T(()=>{c();mh();$j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],hh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];kj=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Lj=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=kj.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,u,d]=t,g=go(rs(n)),h=mr(o,"month",1,12),E=mr(s,"day",1,31);return Ti(g,h,E,{hours:i,minutes:a,seconds:u,fractionalMilliseconds:d})},Mj=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),gh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Mj.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,u,d,g]=t,h=go(rs(n)),E=mr(o,"month",1,12),y=mr(s,"day",1,31),b=Ti(h,E,y,{hours:i,minutes:a,seconds:u,fractionalMilliseconds:d});return g.toUpperCase()!="Z"&&b.setTime(b.getTime()-Kj(g)),b},Uj=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Bj=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Fj=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),yh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Uj.exec(e);if(t){let[r,n,o,s,i,a,u,d]=t;return Ti(go(rs(s)),fh(o),mr(n,"day",1,31),{hours:i,minutes:a,seconds:u,fractionalMilliseconds:d})}if(t=Bj.exec(e),t){let[r,n,o,s,i,a,u,d]=t;return jj(Ti(Gj(s),fh(o),mr(n,"day",1,31),{hours:i,minutes:a,seconds:u,fractionalMilliseconds:d}))}if(t=Fj.exec(e),t){let[r,n,o,s,i,a,u,d]=t;return Ti(go(rs(d)),fh(n),mr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:u})}throw new TypeError("Invalid RFC-7231 date-time value")},Eh=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Vc(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Ti=(e,t,r,n)=>{let o=t-1;return Vj(e,o,r),new Date(Date.UTC(e,o,r,mr(n.hours,"hour",0,23),mr(n.minutes,"minute",0,59),mr(n.seconds,"seconds",0,60),Wj(n.fractionalMilliseconds)))},Gj=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+go(rs(e));return r<t?r+100:r},Hj=50*365*24*60*60*1e3,jj=e=>e.getTime()-new Date().getTime()>Hj?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,fh=e=>{let t=hh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},qj=[31,28,31,30,31,30,31,31,30,31,30,31],Vj=(e,t,r)=>{let n=qj[t];if(t===1&&zj(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${hh[t]} in ${e}: ${r}`)},zj=e=>e%4===0&&(e%100!==0||e%400===0),mr=(e,t,r,n)=>{let o=ph(rs(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},Wj=e=>e==null?0:lh("0."+e)*1e3,Kj=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},rs=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var wi={};pt(wi,{__addDisposableResource:()=>DI,__assign:()=>zc,__asyncDelegator:()=>TI,__asyncGenerator:()=>_I,__asyncValues:()=>II,__await:()=>ns,__awaiter:()=>hI,__classPrivateFieldGet:()=>xI,__classPrivateFieldIn:()=>RI,__classPrivateFieldSet:()=>vI,__createBinding:()=>Kc,__decorate:()=>cI,__disposeResources:()=>PI,__esDecorate:()=>lI,__exportStar:()=>yI,__extends:()=>iI,__generator:()=>gI,__importDefault:()=>CI,__importStar:()=>AI,__makeTemplateObject:()=>wI,__metadata:()=>fI,__param:()=>uI,__propKey:()=>pI,__read:()=>_h,__rest:()=>aI,__rewriteRelativeImportExtension:()=>NI,__runInitializers:()=>dI,__setFunctionName:()=>mI,__spread:()=>EI,__spreadArray:()=>bI,__spreadArrays:()=>SI,__values:()=>Wc,default:()=>Qj});function iI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function aI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function cI(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function uI(e,t){return function(r,n){t(r,n,e)}}function lI(e,t,r,n,o,s){function i(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,g=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),h,E=!1,y=r.length-1;y>=0;y--){var b={};for(var C in n)b[C]=C==="access"?{}:n[C];for(var C in n.access)b.access[C]=n.access[C];b.addInitializer=function(R){if(E)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(R||null))};var x=(0,r[y])(a==="accessor"?{get:g.get,set:g.set}:g[u],b);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=i(x.get))&&(g.get=h),(h=i(x.set))&&(g.set=h),(h=i(x.init))&&o.unshift(h)}else(h=i(x))&&(a==="field"?o.unshift(h):g[u]=h)}d&&Object.defineProperty(d,n.name,g),E=!0}function dI(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function pI(e){return typeof e=="symbol"?e:"".concat(e)}function mI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function fI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function hI(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(g){try{d(n.next(g))}catch(h){i(h)}}function u(g){try{d(n.throw(g))}catch(h){i(h)}}function d(g){g.done?s(g.value):o(g.value).then(a,u)}d((n=n.apply(e,t||[])).next())})}function gI(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(g){return u([d,g])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function yI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Kc(t,e,r)}function Wc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _h(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function EI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_h(arguments[t]));return e}function SI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function bI(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ns(e){return this instanceof ns?(this.v=e,this):new ns(e)}function _I(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(y){return function(b){return Promise.resolve(b).then(y,h)}}function a(y,b){n[y]&&(o[y]=function(C){return new Promise(function(x,R){s.push([y,C,x,R])>1||u(y,C)})},b&&(o[y]=b(o[y])))}function u(y,b){try{d(n[y](b))}catch(C){E(s[0][3],C)}}function d(y){y.value instanceof ns?Promise.resolve(y.value.v).then(g,h):E(s[0][2],y)}function g(y){u("next",y)}function h(y){u("throw",y)}function E(y,b){y(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function TI(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ns(e[o](i)),done:!1}:s?s(i):i}:s}}function II(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Wc=="function"?Wc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,u){i=e[s](i),o(a,u,i.done,i.value)})}}function o(s,i,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},i)}}function wI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function AI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=bh(e),n=0;n<r.length;n++)r[n]!=="default"&&Kc(t,e,r[n]);return Yj(t,e),t}function CI(e){return e&&e.__esModule?e:{default:e}}function xI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function vI(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function RI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function DI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function PI(e){function t(s){e.error=e.hasError?new Xj(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function NI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Sh,zc,Kc,Yj,bh,Xj,Qj,Ai=T(()=>{c();Sh=function(e,t){return Sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Sh(e,t)};zc=function(){return zc=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zc.apply(this,arguments)};Kc=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});Yj=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},bh=function(e){return bh=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},bh(e)};Xj=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Qj={__extends:iI,__assign:zc,__rest:aI,__decorate:cI,__param:uI,__esDecorate:lI,__runInitializers:dI,__propKey:pI,__setFunctionName:mI,__metadata:fI,__awaiter:hI,__generator:gI,__createBinding:Kc,__exportStar:yI,__values:Wc,__read:_h,__spread:EI,__spreadArrays:SI,__spreadArray:bI,__await:ns,__asyncGenerator:_I,__asyncDelegator:TI,__asyncValues:II,__makeTemplateObject:wI,__importStar:AI,__importDefault:CI,__classPrivateFieldGet:xI,__classPrivateFieldSet:vI,__classPrivateFieldIn:RI,__addDisposableResource:DI,__disposeResources:PI,__rewriteRelativeImportExtension:NI}});var $I=P(Yc=>{"use strict";c();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.randomUUID=void 0;var Jj=(Ai(),Z(wi)),OI=Jj.__importDefault(se("crypto"));Yc.randomUUID=OI.default.randomUUID.bind(OI.default)});var Th=P(LI=>{"use strict";c();var kI=$I(),et=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),Zj=()=>{if(kI.randomUUID)return kI.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,et[e[0]]+et[e[1]]+et[e[2]]+et[e[3]]+"-"+et[e[4]]+et[e[5]]+"-"+et[e[6]]+et[e[7]]+"-"+et[e[8]]+et[e[9]]+"-"+et[e[10]]+et[e[11]]+et[e[12]]+et[e[13]]+et[e[14]]+et[e[15]]};LI.v4=Zj});var Ut,MI=T(()=>{c();Ut=A(Th())});var ft,UI=T(()=>{c();ft=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};ft.from=e=>e&&typeof e=="object"&&(e instanceof ft||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?ft(String(e)):ft(JSON.stringify(e));ft.fromObject=ft.from});function Ih(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var BI=T(()=>{c()});function Gr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var wh,Ah,Ch,FI,GI,eq,tq,rq,nq,oq,os,xh,vh,HI=T(()=>{c();wh="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Ah="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Ch="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",FI="(\\d?\\d)",GI="(\\d{4})",eq=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),tq=new RegExp(`^${wh}, ${FI} ${Ah} ${GI} ${Ch} GMT$`),rq=new RegExp(`^${wh}, ${FI}-${Ah}-(\\d\\d) ${Ch} GMT$`),nq=new RegExp(`^${wh} ${Ah} ( [1-9]|\\d\\d) ${Ch} ${GI}$`),oq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],os=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},xh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=eq.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,u,d]=t;Gr(n,1,12),Gr(o,1,31),Gr(s,0,23),Gr(i,0,59),Gr(a,0,60);let g=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(u)?Math.round(parseFloat(`0.${u}`)*1e3):0));if(g.setUTCFullYear(Number(r)),d.toUpperCase()!="Z"){let[,h,E,y]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],b=h==="-"?1:-1;g.setTime(g.getTime()+b*(Number(E)*60*60*1e3+Number(y)*60*1e3))}return g},vh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,u;if((u=tq.exec(e))?[,t,r,n,o,s,i,a]=u:(u=rq.exec(e))?([,t,r,n,o,s,i,a]=u,n=(Number(n)+1900).toString()):(u=nq.exec(e))&&([,r,t,o,s,i,a,n]=u),n&&i){let d=Date.UTC(Number(n),oq.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Gr(t,1,31),Gr(o,0,23),Gr(s,0,59),Gr(i,0,60);let g=new Date(d);return g.setUTCFullYear(Number(n)),g}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function Rh(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var jI=T(()=>{c()});var Ci,qI=T(()=>{c();Ci=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Dh(e){return new Re(String(e),"bigDecimal")}var VI,Re,zI=T(()=>{c();VI=/^-?\d*(\.\d+)?$/,Re=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!VI.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&VI.test(r.string)}}});var WI={};pt(WI,{LazyJsonString:()=>ft,NumericValue:()=>Re,_parseEpochTimestamp:()=>os,_parseRfc3339DateTimeWithOffset:()=>xh,_parseRfc7231DateTime:()=>vh,copyDocumentWithTransform:()=>Ej,dateToUtcString:()=>Ii,expectBoolean:()=>bj,expectByte:()=>ch,expectFloat32:()=>jc,expectInt:()=>Tj,expectInt32:()=>ih,expectLong:()=>bi,expectNonNull:()=>wj,expectNumber:()=>Si,expectObject:()=>rI,expectShort:()=>ah,expectString:()=>Aj,expectUnion:()=>Cj,generateIdempotencyToken:()=>Ut.v4,handleFloat:()=>Rj,limitedParseDouble:()=>dh,limitedParseFloat:()=>Dj,limitedParseFloat32:()=>Pj,logger:()=>_i,nv:()=>Dh,parseBoolean:()=>Sj,parseEpochTimestamp:()=>Eh,parseRfc3339DateTime:()=>Lj,parseRfc3339DateTimeWithOffset:()=>gh,parseRfc7231DateTime:()=>yh,quoteHeader:()=>Ih,splitEvery:()=>Rh,splitHeader:()=>Ci,strictParseByte:()=>ph,strictParseDouble:()=>Vc,strictParseFloat:()=>xj,strictParseFloat32:()=>lh,strictParseInt:()=>Nj,strictParseInt32:()=>Oj,strictParseLong:()=>oI,strictParseShort:()=>go});var ht=T(()=>{c();tI();sI();MI();UI();mh();BI();HI();jI();qI();zI()});var gt,ss=T(()=>{c();gt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var Xc,Ph,KI=T(()=>{c();Xc=A(Ve()),Ph=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,u=this.defaultContentType,d=Symbol("initialRequestMarker"),g={async*[Symbol.asyncIterator](){if(n){let h={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:u}};a.write(r,n);let E=a.flush();yield{[d]:!0,headers:h,body:E}}for await(let h of t)yield h}};return o.serialize(g,h=>{if(h[d])return{headers:h.headers,body:h.body};let E=Object.keys(h).find(O=>O!=="__type")??"",{additionalHeaders:y,body:b,eventType:C,explicitPayloadContentType:x}=this.writeEventBody(E,i,h);return{headers:{":event-type":{type:"string",value:C},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:x??u},...y},body:b}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),u=Symbol("initialResponseMarker"),d=o.deserialize(t.body,async E=>{let y=Object.keys(E).find(C=>C!=="__type")??"",b=E[y].body;if(y==="initial-response"){let C=await this.deserializer.read(r,b);return delete C[s],{[u]:!0,...C}}else if(y in a){let C=a[y];if(C.isStructSchema()){let x={},R=!1;for(let[O,k]of C.structIterator()){let{eventHeader:j,eventPayload:X}=k.getMergedTraits();if(R=R||!!(j||X),X)k.isBlobSchema()?x[O]=b:k.isStringSchema()?x[O]=(this.serdeContext?.utf8Encoder??Xc.toUtf8)(b):k.isStructSchema()&&(x[O]=await this.deserializer.read(k,b));else if(j){let ue=E[y].headers[O]?.value;ue!=null&&(k.isNumericSchema()?ue&&typeof ue=="object"&&"bytes"in ue?x[O]=BigInt(ue.toString()):x[O]=Number(ue):x[O]=ue)}}if(R)return{[y]:x};if(b.byteLength===0)return{[y]:{}}}return{[y]:await this.deserializer.read(C,b)}}else return{$unknown:E}}),g=d[Symbol.asyncIterator](),h=await g.next();if(h.done)return d;if(h.value?.[u]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[E,y]of Object.entries(h.value))n[E]=y}return{async*[Symbol.asyncIterator](){for(h?.value?.[u]||(yield h.value);;){let{done:E,value:y}=await g.next();if(E)break;yield y}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,u=r.getSchema()[4].includes(t),d={};if(u){let E=r.getMemberSchema(t);if(E.isStructSchema()){for(let[y,b]of E.structIterator()){let{eventHeader:C,eventPayload:x}=b.getMergedTraits();if(x)i=y;else if(C){let R=n[t][y],O="binary";b.isNumericSchema()?(-2)**31<=R&&R<=2**31-1?O="integer":O="long":b.isTimestampSchema()?O="timestamp":b.isStringSchema()?O="string":b.isBooleanSchema()&&(O="boolean"),R!=null&&(d[y]={type:O,value:R},delete n[t][y])}}if(i!==null){let y=E.getMemberSchema(i);y.isBlobSchema()?a="application/octet-stream":y.isStringSchema()&&(a="text/plain"),o.write(y,n[t][i])}else o.write(E,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[E,y]=n[t];s=E,o.write(15,y)}let g=o.flush();return{body:typeof g=="string"?(this.serdeContext?.utf8Decoder??Xc.fromUtf8)(g):g,eventType:s,explicitPayloadContentType:a,additionalHeaders:d}}}});var YI={};pt(YI,{EventStreamSerde:()=>Ph});var XI=T(()=>{c();KI()});var Qc,yo,Jc=T(()=>{c();ge();Qc=A(Te());ss();yo=class extends gt{options;constructor(t){super(),this.options=t}getRequestType(){return Qc.HttpRequest}getResponseType(){return Qc.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){if(this.serdeContext?.disableHostPrefix)return;let o=M.of(r.input),s=pr(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,u])=>u.getMergedTraits().hostLabel);for(let[u]of a){let d=n[u];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${u} in input must be a string as hostLabel.`);i=i.replace(`{${u}}`,d)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(XI(),YI));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var QI,JI,Eo,ZI=T(()=>{c();ge();ht();QI=A(Te()),JI=A($c());Lc();Mc();Jc();Eo=class extends yo{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},u=await n.endpoint(),d=M.of(t?.input),g=d.getSchema(),h=!1,E,y=new QI.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(u){this.updateServiceEndpoint(y,u),this.setHostPrefix(y,t,o);let b=pr(t.traits);if(b.http){y.method=b.http[0];let[C,x]=b.http[1].split("?");y.path=="/"?y.path=C:y.path+=C;let R=new URLSearchParams(x??"");Object.assign(i,Object.fromEntries(R))}}for(let[b,C]of d.structIterator()){let x=C.getMergedTraits()??{},R=o[b];if(R==null&&!C.isIdempotencyToken()){if(x.httpLabel&&(y.path.includes(`{${b}+}`)||y.path.includes(`{${b}}`)))throw new Error(`No value provided for input HTTP label: ${b}.`);continue}if(x.httpPayload)C.isStreaming()?C.isStructSchema()?o[b]&&(E=await this.serializeEventStream({eventStream:o[b],requestSchema:d})):E=R:(s.write(C,R),E=s.flush()),delete o[b];else if(x.httpLabel){s.write(C,R);let O=s.flush();y.path.includes(`{${b}+}`)?y.path=y.path.replace(`{${b}+}`,O.split("/").map(dr).join("/")):y.path.includes(`{${b}}`)&&(y.path=y.path.replace(`{${b}}`,dr(O))),delete o[b]}else if(x.httpHeader)s.write(C,R),a[x.httpHeader.toLowerCase()]=String(s.flush()),delete o[b];else if(typeof x.httpPrefixHeaders=="string"){for(let[O,k]of Object.entries(R)){let j=x.httpPrefixHeaders+O;s.write([C.getValueSchema(),{httpHeader:j}],k),a[j.toLowerCase()]=s.flush()}delete o[b]}else x.httpQuery||x.httpQueryParams?(this.serializeQuery(C,R,i),delete o[b]):h=!0}return h&&o&&(s.write(g,o),E=s.flush()),y.headers=a,y.query=i,y.body=E,y}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let u=t.getValueSchema();Object.assign(u.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(u,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let u of r){o.write([t.getValueSchema(),s],u);let d=o.flush();(i||d!==void 0)&&a.push(d)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=M.of(t.output),i={};if(n.statusCode>=300){let u=await Mt(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(15,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let u=await Mt(n.body,r);if(u.byteLength>0){let d=await o.read(s,u);for(let g of a)i[g]=d[g]}}else a.discardResponseBody&&await Mt(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=!0,u=this.deserializer,d=M.of(t),g=[];for(let[h,E]of d.structIterator()){let y=E.getMemberTraits();if(y.httpPayload){if(a=!1,E.isStreaming())E.isStructSchema()?i[h]=await this.deserializeEventStream({response:n,responseSchema:d}):i[h]=(0,JI.sdkStreamMixin)(n.body);else if(n.body){let C=await Mt(n.body,r);C.byteLength>0&&(i[h]=await u.read(E,C))}}else if(y.httpHeader){let b=String(y.httpHeader).toLowerCase(),C=n.headers[b];if(C!=null)if(E.isListSchema()){let x=E.getValueSchema();x.getMergedTraits().httpHeader=b;let R;x.isTimestampSchema()&&x.getSchema()===4?R=Rh(C,",",2):R=Ci(C);let O=[];for(let k of R)O.push(await u.read(x,k.trim()));i[h]=O}else i[h]=await u.read(E,C)}else if(y.httpPrefixHeaders!==void 0){i[h]={};for(let[b,C]of Object.entries(n.headers))if(b.startsWith(y.httpPrefixHeaders)){let x=E.getValueSchema();x.getMergedTraits().httpHeader=b,i[h][b.slice(y.httpPrefixHeaders.length)]=await u.read(x,C)}}else y.httpResponseCode?i[h]=n.statusCode:g.push(h)}return g.discardResponseBody=a,g}}});var ew,Hr,tw=T(()=>{c();ge();ew=A(Te());Lc();Jc();Hr=class extends yo{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),u=M.of(t?.input),d=u.getSchema(),g,h=new ew.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(h,a),this.setHostPrefix(h,t,r));let E={...r};if(r){let y=u.getEventStreamMember();if(y){if(E[y]){let b={};for(let[C,x]of u.structIterator())C!==y&&E[C]&&(o.write(x,E[C]),b[C]=o.flush());g=await this.serializeEventStream({eventStream:E[y],requestSchema:u,initialRequest:b})}}else o.write(d,E),g=o.flush()}return h.headers=i,h.query=s,h.body=g,h.method="POST",h}async deserializeResponse(t,r,n){let o=this.deserializer,s=M.of(t.output),i={};if(n.statusCode>=300){let u=await Mt(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(15,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let u=await Mt(n.body,r);u.byteLength>0&&Object.assign(i,await o.read(s,u))}return i.$metadata=this.deserializeMetadata(n),i}}});var Nh,Oh=T(()=>{c();Mc();Nh=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>dr(a)).join("/"):dr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function $h(e,t){return new Zc(e,t)}var rw,Zc,nw=T(()=>{c();rw=A(Te());Oh();Zc=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new rw.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Nh(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Rt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var eu=T(()=>{c()});var kh,ow,So,Lh=T(()=>{c();ge();ht();kh=A(je()),ow=A(Ve());ss();eu();So=class extends gt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=M.of(t);if(n.isListSchema())return Ci(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??kh.fromBase64)(r);if(n.isTimestampSchema())switch(Rt(n,this.settings)){case 5:return xh(r);case 6:return vh(r);case 7:return os(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=ft.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Re(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??ow.toUtf8)((this.serdeContext?.base64Decoder??kh.fromBase64)(t))}}});var tu,bo,sw=T(()=>{c();ge();tu=A(Ve());ss();Lh();bo=class extends gt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new So(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=M.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??tu.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??tu.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Mh,xi,Uh=T(()=>{c();ge();ht();Mh=A(je());ss();eu();xi=class extends gt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=M.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Rt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Ii(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Mh.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let u=this.flush(),d=n.getValueSchema().isTimestampSchema()?u:Ih(u);i!==""&&(i+=", "),i+=d}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=ft.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Mh.toBase64)(s.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Ut.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var _o,iw=T(()=>{c();ge();Uh();_o=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new xi(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=M.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var aw={};pt(aw,{FromStringShapeDeserializer:()=>So,HttpBindingProtocol:()=>Eo,HttpInterceptingShapeDeserializer:()=>bo,HttpInterceptingShapeSerializer:()=>_o,HttpProtocol:()=>yo,RequestBuilder:()=>Zc,RpcProtocol:()=>Hr,SerdeContext:()=>gt,ToStringShapeSerializer:()=>xi,collectBody:()=>Mt,determineTimestampFormat:()=>Rt,extendedEncodeURIComponent:()=>dr,requestBuilder:()=>$h,resolvedPath:()=>Nh});var It=T(()=>{c();Lc();Mc();ZI();Jc();tw();nw();Oh();Lh();sw();iw();Uh();eu();ss()});var cw=T(()=>{c();It()});function sq(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var uw=T(()=>{c()});var jr,lw=T(()=>{c();jr=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var dw,Bh,Fh,pw=T(()=>{c();dw=A(Te()),Bh=A(En()),Fh=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=dw.HttpRequest.clone(t);if(n.in===Bh.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Bh.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var mw,Gh,fw=T(()=>{c();mw=A(Te()),Gh=class{async sign(t,r,n){let o=mw.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Xt,hw=T(()=>{c();Xt=class{async sign(t,r,n){return t}}});var gw=T(()=>{c();pw();fw();hw()});var yw,iq,Hh,ru,jh,Ew=T(()=>{c();yw=e=>function(r){return ru(r)&&r.expiration.getTime()-Date.now()<e},iq=3e5,Hh=yw(3e5),ru=e=>e.expiration!==void 0,jh=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,u=async d=>{s||(s=n(d));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async d=>((!i||d?.forceRefresh)&&(o=await u(d)),o):async d=>((!i||d?.forceRefresh)&&(o=await u(d)),a?o:r(o)?(t(o)&&await u(d),o):(a=!0,o))}});var Sw=T(()=>{c();lw();gw();Ew()});var To={};pt(To,{DefaultIdentityProviderConfig:()=>jr,EXPIRATION_MS:()=>iq,HttpApiKeyAuthSigner:()=>Fh,HttpBearerAuthSigner:()=>Gh,NoAuthSigner:()=>Xt,createIsIdentityExpiredFunction:()=>yw,createPaginator:()=>O_,doesIdentityRequireRefresh:()=>ru,getHttpAuthSchemeEndpointRuleSetPlugin:()=>mo,getHttpAuthSchemePlugin:()=>BG,getHttpSigningPlugin:()=>fo,getSmithyContext:()=>kG,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>y_,httpAuthSchemeMiddleware:()=>pi,httpAuthSchemeMiddlewareOptions:()=>w_,httpSigningMiddleware:()=>Tf,httpSigningMiddlewareOptions:()=>R_,isIdentityExpired:()=>Hh,memoizeIdentityProvider:()=>jh,normalizeProvider:()=>bn,requestBuilder:()=>$h,setFeature:()=>sq});var tt=T(()=>{c();m_();C_();P_();N_();$_();cw();uw();Sw()});var wn=P(Io=>{"use strict";c();var Vh=En(),zh=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},aq=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),bw=e=>aq.test(e)||e.startsWith("[")&&e.endsWith("]"),cq=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Kh=(e,t=!1)=>{if(!t)return cq.test(e);let r=e.split(".");for(let n of r)if(!Kh(n))return!1;return!0},Wh={},vi="endpoints";function In(e){return typeof e!="object"||e==null?e:"ref"in e?`$${In(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(In).join(", ")})`:JSON.stringify(e,null,2)}var rt=class extends Error{constructor(t){super(t),this.name="EndpointError"}},uq=(e,t)=>e===t,lq=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new rt(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new rt(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},_w=(e,t)=>lq(t).reduce((r,n)=>{if(typeof r!="object")throw new rt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),dq=e=>e!=null,pq=e=>!e,qh={[Vh.EndpointURLScheme.HTTP]:80,[Vh.EndpointURLScheme.HTTPS]:443},mq=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:E,port:y,protocol:b="",path:C="",query:x={}}=e,R=new URL(`${b}//${E}${y?`:${y}`:""}${C}`);return R.search=Object.entries(x).map(([O,k])=>`${O}=${k}`).join("&"),R}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let u=i.slice(0,-1);if(!Object.values(Vh.EndpointURLScheme).includes(u))return null;let d=bw(o),g=r.includes(`${n}:${qh[u]}`)||typeof e=="string"&&e.includes(`${n}:${qh[u]}`),h=`${n}${g?`:${qh[u]}`:""}`;return{scheme:u,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}},fq=(e,t)=>e===t,hq=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),gq=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),yq={booleanEquals:uq,getAttr:_w,isSet:dq,isValidHostLabel:Kh,not:pq,parseURL:mq,stringEquals:fq,substring:hq,uriEncode:gq},Tw=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[u,d]=a.split("#");r.push(_w(n[u],d))}else r.push(n[a]);o=i+1}return r.join("")},Eq=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],nu=(e,t,r)=>{if(typeof e=="string")return Tw(e,r);if(e.fn)return ww.callFunction(e,r);if(e.ref)return Eq(e,r);throw new rt(`'${t}': ${String(e)} is not a string, function or reference.`)},Iw=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:ww.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in Wh&&o[1]!=null?Wh[o[0]][o[1]](...n):yq[e](...n)},ww={evaluateExpression:nu,callFunction:Iw},Sq=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new rt(`'${e}' is already defined in Reference Record.`);let n=Iw(t,r);return r.logger?.debug?.(`${vi} evaluateCondition: ${In(t)} = ${In(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Yh=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=Sq(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${vi} assign: ${s.name} := ${In(s.value)}`))}return{result:!0,referenceRecord:r}},bq=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=nu(s,"Header value entry",t);if(typeof i!="string")throw new rt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),Aw=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:xw.getEndpointProperty(o,t)}),{}),Cw=(e,t)=>{if(Array.isArray(e))return e.map(r=>Cw(r,t));switch(typeof e){case"string":return Tw(e,t);case"object":if(e===null)throw new rt(`Unexpected endpoint property: ${e}`);return xw.getEndpointProperties(e,t);case"boolean":return e;default:throw new rt(`Unexpected endpoint property type: ${typeof e}`)}},xw={getEndpointProperty:Cw,getEndpointProperties:Aw},_q=(e,t)=>{let r=nu(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new rt(`Endpoint URL must be a string, got ${typeof r}`)},Tq=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Yh(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:u,headers:d}=n;return t.logger?.debug?.(`${vi} Resolving endpoint from template: ${In(n)}`),{...d!=null&&{headers:bq(d,i)},...u!=null&&{properties:Aw(u,i)},url:_q(a,i)}},Iq=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Yh(r,t);if(o)throw new rt(nu(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},vw=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Tq(r,t);if(n)return n}else if(r.type==="error")Iq(r,t);else if(r.type==="tree"){let n=Rw.evaluateTreeRule(r,t);if(n)return n}else throw new rt(`Unknown endpoint rule: ${r}`);throw new rt("Rules evaluation failed")},wq=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Yh(r,t);if(o)return Rw.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},Rw={evaluateRules:vw,evaluateTreeRule:wq},Aq=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${vi} Initial EndpointParams: ${In(r)}`);let i=Object.entries(o).filter(([,d])=>d.default!=null).map(([d,g])=>[d,g.default]);if(i.length>0)for(let[d,g]of i)r[d]=r[d]??g;let a=Object.entries(o).filter(([,d])=>d.required).map(([d])=>d);for(let d of a)if(r[d]==null)throw new rt(`Missing required parameter: '${d}'`);let u=vw(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${vi} Resolved endpoint: ${In(u)}`),u};Io.EndpointCache=zh;Io.EndpointError=rt;Io.customEndpointFunctions=Wh;Io.isIpAddress=bw;Io.isValidHostLabel=Kh;Io.resolveEndpoint=Aq});var Pw=P(Dw=>{"use strict";c();function Cq(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}Dw.parseQueryString=Cq});var qr=P(Ow=>{"use strict";c();var xq=Pw(),Nw=e=>{if(typeof e=="string")return Nw(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=xq.parseQueryString(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};Ow.parseUrl=Nw});var wo=P(Qt=>{"use strict";c();var is=wn(),vq=qr(),kw=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!kw(r))return!1;return!0}return!(!is.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||is.isIpAddress(e))},$w=":",Rq="/",Dq=e=>{let t=e.split($w);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join($w)==="")return null;let u=a.map(d=>d.split(Rq)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:u}},Pq=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Nq="1.1",Lw={partitions:Pq,version:Nq},Mw=Lw,Uw="",Bw=e=>{let{partitions:t}=Mw;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Fw=(e,t="")=>{Mw=e,Uw=t},Oq=()=>{Fw(Lw,"")},$q=()=>Uw,Gw={isVirtualHostableS3Bucket:kw,parseArn:Dq,partition:Bw};is.customEndpointFunctions.aws=Gw;var kq=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Hw(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},Hw=e=>vq.parseUrl(e.url);Object.defineProperty(Qt,"EndpointError",{enumerable:!0,get:function(){return is.EndpointError}});Object.defineProperty(Qt,"isIpAddress",{enumerable:!0,get:function(){return is.isIpAddress}});Object.defineProperty(Qt,"resolveEndpoint",{enumerable:!0,get:function(){return is.resolveEndpoint}});Qt.awsEndpointFunctions=Gw;Qt.getUserAgentPrefix=$q;Qt.partition=Bw;Qt.resolveDefaultAwsRegionalEndpointsConfig=kq;Qt.setPartitionInfo=Fw;Qt.toEndpointV1=Hw;Qt.useDefaultPartitionInfo=Oq});var ou,An,jw=T(()=>{c();ou={warningEmitted:!1},An=e=>{e&&!ou.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(ou.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Cn(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var qw=T(()=>{c()});function Vw(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var zw=T(()=>{c()});function Ww(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Kw=T(()=>{c()});var Vr={};pt(Vr,{emitWarningIfUnsupportedVersion:()=>An,setCredentialFeature:()=>Cn,setFeature:()=>Vw,setTokenFeature:()=>Ww,state:()=>ou});var Bt=T(()=>{c();jw();qw();zw();Kw()});var Yw,Xh,Xw=T(()=>{c();Yw=A(Te()),Xh=e=>Yw.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var as,Qh=T(()=>{c();as=e=>new Date(Date.now()+e)});var Qw,Jw=T(()=>{c();Qh();Qw=(e,t)=>Math.abs(as(t).getTime()-e)>=3e5});var Jh,Zw=T(()=>{c();Jw();Jh=(e,t)=>{let r=Date.parse(e);return Qw(r,t)?r-Date.now():t}});var Zh=T(()=>{c();Xw();Qh();Zw()});var eA,Ri,cs,nt,eg,tg=T(()=>{c();eA=A(Te());Zh();Ri=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},cs=async e=>{let t=Ri("context",e.context),r=Ri("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await Ri("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,u=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:u}},nt=class{async sign(t,r,n){if(!eA.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await cs(n),{config:s,signer:i}=o,{signingRegion:a,signingName:u}=o,d=n.context;if(d?.authSchemes?.length??!1){let[h,E]=d.authSchemes;h?.name==="sigv4a"&&E?.name==="sigv4"&&(a=E?.signingRegion??a,u=E?.signingName??u)}return await i.sign(t,{signingDate:as(s.systemClockOffset),signingRegion:a,signingService:u})}errorHandler(t){return r=>{let n=r.ServerTime??Xh(r.$response);if(n){let o=Ri("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Jh(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Xh(t);if(n){let o=Ri("config",r.config);o.systemClockOffset=Jh(n,o.systemClockOffset)}}},eg=nt});var tA,Di,rA=T(()=>{c();tA=A(Te());Zh();tg();Di=class extends nt{async sign(t,r,n){if(!tA.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:u}=await cs(n),g=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:as(o.systemClockOffset),signingRegion:g,signingService:u})}}});var rg,nA=T(()=>{c();rg=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var su,ng=T(()=>{c();su=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var oA,sA,xn,iA=T(()=>{c();nA();ng();oA="AWS_AUTH_SCHEME_PREFERENCE",sA="auth_scheme_preference",xn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&su(t.signingName)in e)return["httpBearerAuth"];if(oA in e)return rg(e[oA])},configFileSelector:e=>{if(sA in e)return rg(e[sA])},default:[]}});var ot=P(Ao=>{"use strict";c();var us=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},og=class e extends us{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},sg=class e extends us{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Lq=(...e)=>async()=>{if(e.length===0)throw new us("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},Mq=e=>()=>Promise.resolve(e),Uq=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async u=>((!s||u?.forceRefresh)&&(n=await a()),n):async u=>((!s||u?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};Ao.CredentialsProviderError=og;Ao.ProviderError=us;Ao.TokenProviderError=sg;Ao.chain=Lq;Ao.fromStatic=Mq;Ao.memoize=Uq});var ig,aA,cA,uA=T(()=>{c();tt();ig=A(ot()),aA=e=>(e.sigv4aSigningRegionSet=bn(e.sigv4aSigningRegionSet),e),cA={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new ig.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new ig.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var OA=P(ee=>{"use strict";c();var vn=Xf(),Co=Ve(),Bq=wf(),mA=Te(),lA=Ze(),iu=Uf(),fA="X-Amz-Algorithm",hA="X-Amz-Credential",pg="X-Amz-Date",gA="X-Amz-SignedHeaders",yA="X-Amz-Expires",mg="X-Amz-Signature",fg="X-Amz-Security-Token",Fq="X-Amz-Region-Set",hg="authorization",gg=pg.toLowerCase(),EA="date",SA=[hg,gg,EA],bA=mg.toLowerCase(),du="x-amz-content-sha256",_A=fg.toLowerCase(),Gq="host",TA={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},IA=/^proxy-/,wA=/^sec-/,Hq=[/^proxy-/i,/^sec-/i],au="AWS4-HMAC-SHA256",jq="AWS4-ECDSA-P256-SHA256",AA="AWS4-HMAC-SHA256-PAYLOAD",CA="UNSIGNED-PAYLOAD",xA=50,yg="aws4_request",vA=3600*24*7,ls={},cu=[],uu=(e,t,r)=>`${e}/${t}/${r}/${yg}`,RA=async(e,t,r,n,o)=>{let s=await dA(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${vn.toHex(s)}:${t.sessionToken}`;if(i in ls)return ls[i];for(cu.push(i);cu.length>xA;)delete ls[cu.shift()];let a=`AWS4${t.secretAccessKey}`;for(let u of[r,n,o,yg])a=await dA(e,a,u);return ls[i]=a},qq=()=>{cu.length=0,Object.keys(ls).forEach(e=>{delete ls[e]})},dA=(e,t,r)=>{let n=new e(t);return n.update(Co.toUint8Array(r)),n.digest()},ag=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in TA||t?.has(s)||IA.test(s)||wA.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},lu=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===du)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Bq.isArrayBuffer(t)){let n=new r;return n.update(Co.toUint8Array(t)),vn.toHex(await n.digest())}return CA},cg=class{format(t){let r=[];for(let s of Object.keys(t)){let i=Co.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=Co.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);let d=new Uint8Array(u.buffer);return d.set(a,3),d;case"timestamp":let g=new Uint8Array(9);return g[0]=8,g.set(ug.fromNumber(t.value.valueOf()).bytes,1),g;case"uuid":if(!Vq.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(vn.fromHex(t.value.replace(/\-/g,"")),1),h}}},Vq=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ug=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&pA(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&pA(t),parseInt(vn.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function pA(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var DA=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},PA=(e,t={})=>{let{headers:r,query:n={}}=mA.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},lg=e=>{e=mA.HttpRequest.clone(e);for(let t of Object.keys(e.headers))SA.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},NA=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===bA)continue;let o=iu.escapeUri(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${iu.escapeUri(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${iu.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},zq=e=>Wq(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Wq=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,pu=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=lA.normalizeProvider(n),this.credentialProvider=lA.normalizeProvider(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${NA(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update(Co.toUint8Array(n));let i=await s.digest();return`${o}
${t}
${r}
${vn.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return iu.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=zq(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},dg=class extends pu{headerFormatter=new cg;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:u,signingRegion:d,signingService:g}=r,h=await this.credentialProvider();this.validateResolvedCredentials(h);let E=d??await this.regionProvider(),{longDate:y,shortDate:b}=this.formatDate(n);if(o>vA)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let C=uu(b,E,g??this.service),x=PA(lg(t),{unhoistableHeaders:i,hoistableHeaders:u});h.sessionToken&&(x.query[fg]=h.sessionToken),x.query[fA]=au,x.query[hA]=`${h.accessKeyId}/${C}`,x.query[pg]=y,x.query[yA]=o.toString(10);let R=ag(x,s,a);return x.query[gA]=this.getCanonicalHeaderList(R),x.query[mg]=await this.getSignature(y,C,this.getSigningKey(h,E,b,g),this.createCanonicalRequest(x,R,await lu(t,this.sha256))),x}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:u,longDate:d}=this.formatDate(n),g=uu(u,a,i??this.service),h=await lu({headers:{},body:r},this.sha256),E=new this.sha256;E.update(t);let y=vn.toHex(await E.digest()),b=[AA,d,g,o,y,h].join(`
`);return this.signString(b,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),u=new this.sha256(await this.getSigningKey(s,i,a,o));return u.update(Co.toUint8Array(t)),vn.toHex(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let u=s??await this.regionProvider(),d=lg(t),{longDate:g,shortDate:h}=this.formatDate(r),E=uu(h,u,i??this.service);d.headers[gg]=g,a.sessionToken&&(d.headers[_A]=a.sessionToken);let y=await lu(d,this.sha256);!DA(du,d.headers)&&this.applyChecksum&&(d.headers[du]=y);let b=ag(d,o,n),C=await this.getSignature(g,E,this.getSigningKey(a,u,h,i),this.createCanonicalRequest(d,b,y));return d.headers[hg]=`${au} Credential=${a.accessKeyId}/${E}, SignedHeaders=${this.getCanonicalHeaderList(b)}, Signature=${C}`,d}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,au),i=new this.sha256(await n);return i.update(Co.toUint8Array(s)),vn.toHex(await i.digest())}getSigningKey(t,r,n,o){return RA(this.sha256,t,n,r,o||this.service)}},Kq={SignatureV4a:null};ee.ALGORITHM_IDENTIFIER=au;ee.ALGORITHM_IDENTIFIER_V4A=jq;ee.ALGORITHM_QUERY_PARAM=fA;ee.ALWAYS_UNSIGNABLE_HEADERS=TA;ee.AMZ_DATE_HEADER=gg;ee.AMZ_DATE_QUERY_PARAM=pg;ee.AUTH_HEADER=hg;ee.CREDENTIAL_QUERY_PARAM=hA;ee.DATE_HEADER=EA;ee.EVENT_ALGORITHM_IDENTIFIER=AA;ee.EXPIRES_QUERY_PARAM=yA;ee.GENERATED_HEADERS=SA;ee.HOST_HEADER=Gq;ee.KEY_TYPE_IDENTIFIER=yg;ee.MAX_CACHE_SIZE=xA;ee.MAX_PRESIGNED_TTL=vA;ee.PROXY_HEADER_PATTERN=IA;ee.REGION_SET_PARAM=Fq;ee.SEC_HEADER_PATTERN=wA;ee.SHA256_HEADER=du;ee.SIGNATURE_HEADER=bA;ee.SIGNATURE_QUERY_PARAM=mg;ee.SIGNED_HEADERS_QUERY_PARAM=gA;ee.SignatureV4=dg;ee.SignatureV4Base=pu;ee.TOKEN_HEADER=_A;ee.TOKEN_QUERY_PARAM=fg;ee.UNSIGNABLE_PATTERNS=Hq;ee.UNSIGNED_PAYLOAD=CA;ee.clearCredentialCache=qq;ee.createScope=uu;ee.getCanonicalHeaders=ag;ee.getCanonicalQuery=NA;ee.getPayloadHash=lu;ee.getSigningKey=RA;ee.hasHeader=DA;ee.moveHeadersToQuery=PA;ee.prepareRequest=lg;ee.signatureV4aContainer=Kq});function Yq(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=jh(t,Hh,ru):r?n=bn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Xq(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Eg,zr,$A,kA=T(()=>{c();Bt();tt();Eg=A(OA()),zr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(d){d&&d!==t&&d!==n&&(r=!0),t=d;let g=Yq(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),h=Xq(e,g);if(r&&!h.attributed){let E=typeof t=="object"&&t!==null;n=async y=>{let C=await h(y);return E&&(!C.$source||Object.keys(C.$source).length===0)?Cn(C,"CREDENTIALS_CODE","e"):C},n.memoized=h.memoized,n.configBound=h.configBound,n.attributed=!0}else n=h},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=bn(e.signer):e.regionInfoProvider?a=()=>bn(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,g])=>{let{signingRegion:h,signingService:E}=d;e.signingRegion=e.signingRegion||h||g,e.signingName=e.signingName||E||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},b=e.signerConstructor||Eg.SignatureV4;return new b(y)}):a=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await bn(e.region)(),properties:{}},d);let g=d.signingRegion,h=d.signingName;e.signingRegion=e.signingRegion||g,e.signingName=e.signingName||h||e.serviceId;let E={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},y=e.signerConstructor||Eg.SignatureV4;return new y(E)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},$A=zr});var LA=T(()=>{c();tg();rA();iA();uA();kA()});var MA={};pt(MA,{AWSSDKSigV4Signer:()=>eg,AwsSdkSigV4ASigner:()=>Di,AwsSdkSigV4Signer:()=>nt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>xn,NODE_SIGV4A_CONFIG_OPTIONS:()=>cA,getBearerTokenEnvKey:()=>su,resolveAWSSDKSigV4Config:()=>$A,resolveAwsSdkSigV4AConfig:()=>aA,resolveAwsSdkSigV4Config:()=>zr,validateSigningProperties:()=>cs});var Sg=T(()=>{c();LA();ng()});function Rn(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function mu(e){return e[bg]=!0,e}var bg,fu=T(()=>{c();bg=Symbol("@smithy/core/cbor::tagSymbol")});function FA(e){Ae=e,Kr=new DataView(Ae.buffer,Ae.byteOffset,Ae.byteLength)}function fr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Ae[e]&224)>>5,n=Ae[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=HA[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let u=e+1;i===1?o=Ae[u]:i===2?o=Kr.getUint16(u):i===4?o=Kr.getUint32(u):o=Kr.getBigUint64(u);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return oe=s,_g(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,oe=s,_g(i)}else if(n===2||n===3){let i=$i(e+s,t),a=BigInt(0),u=e+s+oe;for(let d=u;d<u+i;++d)a=a<<BigInt(8)|BigInt(Ae[d]);return oe=s+oe+i,n===3?-a-BigInt(1):a}else if(n===4){let i=fr(e+s,t),[a,u]=i,d=u<0?-1:1,g="0".repeat(Math.abs(a)+1)+String(BigInt(d)*BigInt(u)),h,E=u<0?"-":"";return h=a===0?g:g.slice(0,g.length+a)+"."+g.slice(a),h=h.replace(/^0+/g,""),h===""&&(h="0"),h[0]==="."&&(h="0"+h),h=E+h,oe=s+oe,Dh(h)}else{let i=fr(e+s,t);return oe=s+oe,mu({tag:_g(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return n3(e,t);case 5:return c3(e,t);case 4:return i3(e,t);case 2:return o3(e,t)}else switch(r){case 3:return r3(e,t);case 5:return a3(e,t);case 4:return s3(e,t);case 2:return xg(e,t)}default:return u3(e,t)}}function GA(e,t,r){return Zq&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):UA?UA.decode(e.subarray(t,r)):(0,BA.toUtf8)(e.subarray(t,r))}function e3(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function t3(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function $i(e,t){let r=Ae[e]&31;if(r<24)return oe=1,r;if(r===24||r===25||r===26||r===27){let n=HA[r];if(oe=n+1,t-e<oe)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?Ae[o]:n===2?Kr.getUint16(o):n===4?Kr.getUint32(o):e3(Kr.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function r3(e,t){let r=$i(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=GA(Ae,e,e+r);return oe=n+r,o}function n3(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ae[e]===255){let u=Rn(r.length);return u.set(r,0),oe=e-n+2,GA(u,0,u.length)}let o=(Ae[e]&224)>>5,s=Ae[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=xg(e,t);e+=oe;for(let u=0;u<i.length;++u)r.push(i[u])}throw new Error("expected break marker.")}function xg(e,t){let r=$i(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=Ae.subarray(e,e+r);return oe=n+r,o}function o3(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ae[e]===255){let u=Rn(r.length);return u.set(r,0),oe=e-n+2,u}let o=(Ae[e]&224)>>5,s=Ae[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=xg(e,t);e+=oe;for(let u=0;u<i.length;++u)r.push(i[u])}throw new Error("expected break marker.")}function s3(e,t){let r=$i(e,t),n=oe;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=fr(e,t),u=oe;s[i]=a,e+=u}return oe=n+(e-o),s}function i3(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ae[e]===255)return oe=e-n+2,r;let o=fr(e,t);e+=oe,r.push(o)}throw new Error("expected break marker.")}function a3(e,t){let r=$i(e,t),n=oe;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Ae[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let u=fr(e,t);e+=oe;let d=fr(e,t);e+=oe,s[u]=d}return oe=n+(e-o),s}function c3(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Ae[e]===255)return oe=e-r+2,n;let o=(Ae[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=fr(e,t);e+=oe;let i=fr(e,t);e+=oe,n[s]=i}throw new Error("expected break marker.")}function u3(e,t){let r=Ae[e]&31;switch(r){case 21:case 20:return oe=1,r===21;case 22:return oe=1,null;case 23:return oe=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return oe=3,t3(Ae[e+1],Ae[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return oe=5,Kr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return oe=9,Kr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function _g(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var BA,Jq,Zq,Ae,Kr,UA,oe,HA,jA=T(()=>{c();ht();BA=A(Ve());fu();Jq=typeof TextDecoder<"u",Zq=typeof Buffer<"u",Ae=Rn(0),Kr=new DataView(Ae.buffer,Ae.byteOffset,Ae.byteLength),UA=Jq?new TextDecoder:null,oe=0;HA={24:1,25:2,26:4,27:8}});function Rg(e){W.byteLength-H<e&&(H<16e6?gu(Math.max(W.byteLength*4,W.byteLength+e)):gu(W.byteLength+e+16e6))}function Dg(){let e=Rn(H);return e.set(W.subarray(0,H),0),H=0,e}function gu(e){let t=W;W=Rn(e),t&&(t.copy?t.copy(W,0,0,t.byteLength):W.set(t,0)),Qr=new DataView(W.buffer,W.byteOffset,W.byteLength)}function Xr(e,t){t<24?W[H++]=e<<5|t:t<256?(W[H++]=e<<5|24,W[H++]=t):t<65536?(W[H++]=e<<5|25,Qr.setUint16(H,t),H+=2):t<2**32?(W[H++]=e<<5|26,Qr.setUint32(H,t),H+=4):(W[H++]=e<<5|27,Qr.setBigUint64(H,typeof t=="bigint"?t:BigInt(t)),H+=8)}function zA(e){let t=[e];for(;t.length;){let r=t.pop();if(Rg(typeof r=="string"?r.length*4:64),typeof r=="string"){if(qA)Xr(3,Buffer.byteLength(r)),H+=W.write(r,H);else{let n=(0,VA.fromUtf8)(r);Xr(3,n.byteLength),W.set(n,H),H+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?W[H++]=o<<5|s:s<256?(W[H++]=o<<5|24,W[H++]=s):s<65536?(W[H++]=o<<5|25,W[H++]=s>>8,W[H++]=s):s<4294967296?(W[H++]=o<<5|26,Qr.setUint32(H,s),H+=4):(W[H++]=o<<5|27,Qr.setBigUint64(H,BigInt(s)),H+=8);continue}W[H++]=251,Qr.setFloat64(H,r),H+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)W[H++]=o<<5|i;else if(i<256)W[H++]=o<<5|24,W[H++]=i;else if(i<65536)W[H++]=o<<5|25,W[H++]=i>>8,W[H++]=i&255;else if(i<4294967296)W[H++]=o<<5|26,Qr.setUint32(H,i),H+=4;else if(s<BigInt("18446744073709551616"))W[H++]=o<<5|27,Qr.setBigUint64(H,s),H+=8;else{let a=s.toString(2),u=new Uint8Array(Math.ceil(a.length/8)),d=s,g=0;for(;u.byteLength-++g>=0;)u[u.byteLength-g]=Number(d&BigInt(255)),d>>=BigInt(8);Rg(u.byteLength*2),W[H++]=n?194:195,qA?Xr(2,Buffer.byteLength(u)):Xr(2,u.byteLength),W.set(u,H),H+=u.byteLength}continue}else if(r===null){W[H++]=246;continue}else if(typeof r=="boolean"){W[H++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Xr(4,r.length);continue}else if(typeof r.byteLength=="number"){Rg(r.length*2),Xr(2,r.length),W.set(r,H),H+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Re){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));W[H++]=196,t.push(i),t.push(s),Xr(4,2);continue}if(r[bg])if("tag"in r&&"value"in r){t.push(r.value),Xr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}Xr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var VA,qA,l3,W,Qr,H,WA=T(()=>{c();ht();VA=A(Ve());fu();qA=typeof Buffer<"u",l3=2048,W=Rn(l3),Qr=new DataView(W.buffer,W.byteOffset,W.byteLength),H=0});var Pg,KA=T(()=>{c();jA();WA();Pg={deserialize(e){return FA(e),fr(0,e.length)},serialize(e){try{return zA(e),Dg()}catch(t){throw Dg(),t}},resizeEncodingBuffer(e){gu(e)}}});var yu,Eu,Su=T(()=>{c();fu();yu=e=>mu({tag:1,value:e.getTime()/1e3}),Eu=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var $g,bu,Ng,Og,kg=T(()=>{c();It();ge();ht();ht();$g=A(je());KA();Su();bu=class extends gt{createSerializer(){let t=new Ng;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Og;return t.setSerdeContext(this.serdeContext),t}},Ng=class extends gt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=M.of(t);if(r==null)return n.isIdempotencyToken()?(0,Ut.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??$g.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?yu(new Date(Number(r)/1e3|0)):yu(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],u=0;for(let d of o){let g=this.serialize(n.getValueSchema(),d);(g!=null||i)&&(a[u++]=g)}return a}if(o instanceof Date)return yu(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let u=this.serialize(n.getValueSchema(),o[a]);(u!=null||i)&&(s[a]=u)}}else if(n.isStructSchema()){for(let[a,u]of n.structIterator()){let d=this.serialize(u,o[a]);d!=null&&(s[a]=d)}if(n.isUnionSchema()&&Array.isArray(o.$unknown)){let[a,u]=o.$unknown;s[a]=u}else if(typeof o.__type=="string")for(let[a,u]of Object.entries(o))a in s||(s[a]=this.serialize(15,u))}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);else if(n.isBigDecimalSchema())return o;return s}return r}flush(){let t=Pg.serialize(this.value);return this.value=void 0,t}},Og=class extends gt{read(t,r){let n=Pg.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=M.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return os(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return os(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??$g.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let u of r){let d=this.readValue(i,u);(d!=null||a)&&s.push(d)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let u=this.readValue(i,r[a]);(u!=null||s)&&(o[a]=u)}}else if(n.isStructSchema()){let s=n.isUnionSchema(),i;s&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,u]of n.structIterator())s&&i.delete(a),r[a]!=null&&(o[a]=this.readValue(u,r[a]));if(s&&i?.size===1&&Object.keys(o).length===0){let a=i.values().next().value;o.$unknown=[a,r[a]]}else if(typeof r.__type=="string")for(let[a,u]of Object.entries(r))a in o||(o[a]=u)}else if(r instanceof Re)return r;return o}else return r}}});var YA,_u,XA=T(()=>{c();It();ge();YA=A(Ze());kg();Su();_u=class extends Hr{codec=new bu;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Yt(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,YA.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Eu(n,o)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let u={$metadata:s,$fault:n.statusCode<=500?"client":"server"},d=z.for(a),g;try{g=d.getSchema(i)}catch{o.Message&&(o.message=o.Message);let R=z.for("smithy.ts.sdk.synthetic."+a),O=R.getBaseException();if(O){let k=R.getErrorCtor(O);throw Object.assign(new k({name:i}),u,o)}throw Object.assign(new Error(i),u,o)}let h=M.of(g),E=d.getErrorCtor(g),y=o.message??o.Message??"Unknown",b=new E(y),C={};for(let[x,R]of h.structIterator())C[x]=this.deserializer.readValue(R,o[x]);throw Object.assign(b,u,{$fault:h.getMergedTraits().error,message:y},C)}getDefaultContentType(){return"application/cbor"}}});var QA=T(()=>{c();Su();XA();kg()});var tC=P(eC=>{"use strict";c();var xo=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},On=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Lg=()=>{let e=[],t=[],r=!1,n=new Set,o=h=>h.sort((E,y)=>JA[y.step]-JA[E.step]||ZA[y.priority||"normal"]-ZA[E.priority||"normal"]),s=h=>{let E=!1,y=b=>{let C=xo(b.name,b.aliases);if(C.includes(h)){E=!0;for(let x of C)n.delete(x);return!1}return!0};return e=e.filter(y),t=t.filter(y),E},i=h=>{let E=!1,y=b=>{if(b.middleware===h){E=!0;for(let C of xo(b.name,b.aliases))n.delete(C);return!1}return!0};return e=e.filter(y),t=t.filter(y),E},a=h=>(e.forEach(E=>{h.add(E.middleware,{...E})}),t.forEach(E=>{h.addRelativeTo(E.middleware,{...E})}),h.identifyOnResolve?.(g.identifyOnResolve()),h),u=h=>{let E=[];return h.before.forEach(y=>{y.before.length===0&&y.after.length===0?E.push(y):E.push(...u(y))}),E.push(h),h.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?E.push(y):E.push(...u(y))}),E},d=(h=!1)=>{let E=[],y=[],b={};return e.forEach(x=>{let R={...x,before:[],after:[]};for(let O of xo(R.name,R.aliases))b[O]=R;E.push(R)}),t.forEach(x=>{let R={...x,before:[],after:[]};for(let O of xo(R.name,R.aliases))b[O]=R;y.push(R)}),y.forEach(x=>{if(x.toMiddleware){let R=b[x.toMiddleware];if(R===void 0){if(h)return;throw new Error(`${x.toMiddleware} is not found when adding ${On(x.name,x.aliases)} middleware ${x.relation} ${x.toMiddleware}`)}x.relation==="after"&&R.after.push(x),x.relation==="before"&&R.before.push(x)}}),o(E).map(u).reduce((x,R)=>(x.push(...R),x),[])},g={add:(h,E={})=>{let{name:y,override:b,aliases:C}=E,x={step:"initialize",priority:"normal",middleware:h,...E},R=xo(y,C);if(R.length>0){if(R.some(O=>n.has(O))){if(!b)throw new Error(`Duplicate middleware name '${On(y,C)}'`);for(let O of R){let k=e.findIndex(X=>X.name===O||X.aliases?.some(ue=>ue===O));if(k===-1)continue;let j=e[k];if(j.step!==x.step||x.priority!==j.priority)throw new Error(`"${On(j.name,j.aliases)}" middleware with ${j.priority} priority in ${j.step} step cannot be overridden by "${On(y,C)}" middleware with ${x.priority} priority in ${x.step} step.`);e.splice(k,1)}}for(let O of R)n.add(O)}e.push(x)},addRelativeTo:(h,E)=>{let{name:y,override:b,aliases:C}=E,x={middleware:h,...E},R=xo(y,C);if(R.length>0){if(R.some(O=>n.has(O))){if(!b)throw new Error(`Duplicate middleware name '${On(y,C)}'`);for(let O of R){let k=t.findIndex(X=>X.name===O||X.aliases?.some(ue=>ue===O));if(k===-1)continue;let j=t[k];if(j.toMiddleware!==x.toMiddleware||j.relation!==x.relation)throw new Error(`"${On(j.name,j.aliases)}" middleware ${j.relation} "${j.toMiddleware}" middleware cannot be overridden by "${On(y,C)}" middleware ${x.relation} "${x.toMiddleware}" middleware.`);t.splice(k,1)}}for(let O of R)n.add(O)}t.push(x)},clone:()=>a(Lg()),use:h=>{h.applyToStack(g)},remove:h=>typeof h=="string"?s(h):i(h),removeByTag:h=>{let E=!1,y=b=>{let{tags:C,name:x,aliases:R}=b;if(C&&C.includes(h)){let O=xo(x,R);for(let k of O)n.delete(k);return E=!0,!1}return!0};return e=e.filter(y),t=t.filter(y),E},concat:h=>{let E=a(Lg());return E.use(h),E.identifyOnResolve(r||E.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),E},applyToStack:a,identify:()=>d(!0).map(h=>{let E=h.step??h.relation+" "+h.toMiddleware;return On(h.name,h.aliases)+" - "+E}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,E)=>{for(let y of d().map(b=>b.middleware).reverse())h=y(h,E);return r&&console.log(g.identify()),h}};return g},JA={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ZA={high:3,normal:2,low:1};eC.constructStack=Lg});var te=P(Ie=>{"use strict";c();var oC=tC(),Vg=(It(),Z(aw)),Ug=En(),d3=(ge(),Z(Ei)),rC=(ht(),Z(WI)),Bg=class{config;middlewareStack=oC.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let u=this.handlers;u.has(t.constructor)?a=u.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),u.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(u=>s(null,u.output),u=>s(u)).catch(()=>{});else return a(t).then(u=>u.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Mg="***SensitiveInformation***";function Fg(e,t){if(t==null)return t;let r=d3.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Mg;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Mg}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Mg}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=Fg(i,n[s]));return o}return t}var Tu=class{middlewareStack=oC.constructStack();schema;static classBuilder(){return new Gg}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:d,additionalContext:g,CommandCtor:h}){for(let x of o.bind(this)(h,t,r,n))this.middlewareStack.use(x);let E=t.concat(this.middlewareStack),{logger:y}=r,b={logger:y,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[Ug.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...g},{requestHandler:C}=r;return E.resolve(x=>C.handle(x.request,n||{}),b)}},Gg=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Tu{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,u=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?Fg.bind(null,a):d=>d),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?Fg.bind(null,u):d=>d),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},p3="***SensitiveInformation***",m3=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=async function(i,a,u){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof u=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},u)}else return this.send(d,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},Hg=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},sC=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},iC=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=h3(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw sC(i,t)},f3=e=>({output:t,parsedBody:r,errorCode:n})=>{iC({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},h3=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),g3=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},nC=!1,y3=e=>{e&&!nC&&parseInt(e.substring(1,e.indexOf(".")))<16&&(nC=!0)},E3=e=>{let t=[];for(let r in Ug.AlgorithmId){let n=Ug.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},S3=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},b3=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),_3=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},aC=e=>Object.assign(E3(e),b3(e)),T3=aC,I3=e=>Object.assign(S3(e),_3(e)),w3=e=>Array.isArray(e)?e:[e],cC=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=cC(e[r]));return e},A3=e=>e!=null,jg=class{trace(){}debug(){}info(){}warn(){}error(){}};function uC(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,v3(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}lC(n,null,s,i)}return n}var C3=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},x3=(e,t)=>{let r={};for(let n in t)lC(r,e,t,n);return r},v3=(e,t,r)=>uC(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),lC=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=R3,u=D3,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=u(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,u=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:u&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},R3=e=>e!=null,D3=e=>e,P3=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},N3=e=>e.toISOString().replace(".000Z","Z"),qg=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(qg);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=qg(e[r]));return t}return e};Object.defineProperty(Ie,"collectBody",{enumerable:!0,get:function(){return Vg.collectBody}});Object.defineProperty(Ie,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Vg.extendedEncodeURIComponent}});Object.defineProperty(Ie,"resolvedPath",{enumerable:!0,get:function(){return Vg.resolvedPath}});Ie.Client=Bg;Ie.Command=Tu;Ie.NoOpLogger=jg;Ie.SENSITIVE_STRING=p3;Ie.ServiceException=Hg;Ie._json=qg;Ie.convertMap=C3;Ie.createAggregatedClient=m3;Ie.decorateServiceException=sC;Ie.emitWarningIfUnsupportedVersion=y3;Ie.getArrayIfSingleItem=w3;Ie.getDefaultClientConfiguration=T3;Ie.getDefaultExtensionConfiguration=aC;Ie.getValueFromTextNode=cC;Ie.isSerializableHeaderValue=A3;Ie.loadConfigsForDefaultMode=g3;Ie.map=uC;Ie.resolveDefaultRuntimeConfig=I3;Ie.serializeDateTime=N3;Ie.serializeFloat=P3;Ie.take=x3;Ie.throwDefaultError=iC;Ie.withBaseException=f3;Object.keys(rC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return rC[e]}})})});var zg,Ft,ps=T(()=>{c();ge();zg=A(te()),Ft=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:u,httpHeader:d,httpLabel:g,httpPrefixHeaders:h}=i.getMergedTraits();return!a&&!u&&!d&&!g&&h===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,u=t;t.includes("#")&&([a,u]=t.split("#"));let d={$metadata:s,$fault:n.statusCode<500?"client":"server"},g=z.for(a);try{return{errorSchema:i?.(g,u)??g.getSchema(t),errorMetadata:d}}catch{o.message=o.message??o.Message??"UnknownError";let E=z.for("smithy.ts.sdk.synthetic."+a),y=E.getBaseException();if(y){let b=E.getErrorCtor(y)??Error;throw this.decorateServiceException(Object.assign(new b({name:u}),d),o)}throw this.decorateServiceException(Object.assign(new Error(u),d),o)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,o=(0,zg.decorateServiceException)(t,r);n&&(o.message=n),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??n};let s=o.$metadata.requestId;return s&&(o.RequestId=s),o}return(0,zg.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[u,d]of i)a[u==="message"?"Message":u]=d;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(o=>M.of(o).getMergedTraits().awsQueryError?.[0]===r)}}}});var Iu,dC=T(()=>{c();QA();ge();ps();Iu=class extends _u{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new Ft(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=(()=>{let b=n.headers["x-amzn-query-error"];return b&&this.awsQueryCompatible?b.split(";")[0]:Eu(n,o)??"Unknown"})(),{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),d=M.of(a),g=o.message??o.Message??"Unknown",h=z.for(a[1]).getErrorCtor(a)??Error,E=new h(g),y={};for(let[b,C]of d.structIterator())o[b]!=null&&(y[b]=this.deserializer.readValue(C,o[b]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,y),this.mixin.decorateServiceException(Object.assign(E,u,{$fault:d.getMergedTraits().error,message:g},y),o)}}});var pC,mC,fC,hC=T(()=>{c();pC=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},mC=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},fC=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var st,$n=T(()=>{c();st=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*ms(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let o=r[4][n],s=r[5][n],i=new M([s,0],o);!(o in t)&&!i.isIdempotencyToken()||(yield[o,i])}}function*gC(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),o=Object.keys(t).filter(s=>s!=="__type").length;for(let s=0;s<n[4].length&&o!==0;++s){let i=n[4][s],a=n[5][s],u=new M([a,0],i),d=i;r&&(d=u.getMergedTraits()[r]??i),d in t&&(yield[i,u],o-=1)}}var ki=T(()=>{c();ge()});var fs,Wg=T(()=>{c();fs=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function yC(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Re(n,"bigDecimal"):BigInt(n)}return t}var EC=T(()=>{c();ht()});var SC,bC,wu,Kg=T(()=>{c();SC=A(te()),bC=A(Ve()),wu=(e,t)=>(0,SC.collectBody)(e,t).then(r=>(t?.utf8Encoder??bC.toUtf8)(r))});var Li,_C,hs,Mi=T(()=>{c();Kg();Li=(e,t)=>wu(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),_C=async(e,t)=>{let r=await Li(e,t);return r.message=r.message??r.Message,r},hs=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var TC,gs,Yg=T(()=>{c();It();ge();ht();TC=A(je());$n();ki();Wg();EC();Mi();gs=class extends st{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,yC):await Li(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=M.of(t);if(n){if(o.isStructSchema()){let i=r,a=o.isUnionSchema(),u={},d,{jsonName:g}=this.settings;g&&(d={});let h;a&&(h=new fs(i,u));for(let[E,y]of gC(o,i,g?"jsonName":!1)){let b=E;g&&(b=y.getMergedTraits().jsonName??b,d[b]=E),a&&h.mark(b),i[b]!=null&&(u[E]=this._read(y,i[b]))}if(a)h.writeUnknown();else if(typeof i.__type=="string")for(let[E,y]of Object.entries(i)){let b=g?d[E]??E:E;b in u||(u[b]=y)}return u}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],u=!!o.getMergedTraits().sparse;for(let d of r)(u||d!=null)&&a.push(this._read(i,d));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},u=!!o.getMergedTraits().sparse;for(let[d,g]of Object.entries(r))(u||g!=null)&&(a[d]=this._read(i,g));return a}}if(o.isBlobSchema()&&typeof r=="string")return(0,TC.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?ft.from(r):r;if(o.isTimestampSchema()&&r!=null)switch(Rt(o,this.settings)){case 5:return gh(r);case 6:return yh(r);case 7:return Eh(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof Re)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Re(i.string,i.type):new Re(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof Re?i[a]=u:i[a]=this._read(o,u);return i}else return structuredClone(r);return r}}});var IC,Au,wC=T(()=>{c();ht();IC="\u039D",Au=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Re){let n=`${IC+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${IC+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Xg,ys,Qg=T(()=>{c();It();ge();ht();Xg=A(je());$n();ki();wC();ys=class extends st{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=M.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=M.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Au;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=M.of(t);if(o){if(s.isStructSchema()){let i=r,a={},{jsonName:u}=this.settings,d;u&&(d={});for(let[g,h]of ms(s,i)){let E=this._write(h,i[g],s);if(E!==void 0){let y=g;u&&(y=h.getMergedTraits().jsonName??g,d[g]=y),a[y]=E}}if(s.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:g}=i;if(Array.isArray(g)){let[h,E]=g;a[h]=this._write(15,E)}}else if(typeof i.__type=="string")for(let[g,h]of Object.entries(i)){let E=u?d[g]??g:g;E in a||(a[E]=this._write(15,h))}return a}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],u=!!s.getMergedTraits().sparse;for(let d of r)(u||d!=null)&&a.push(this._write(i,d));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},u=!!s.getMergedTraits().sparse;for(let[d,g]of Object.entries(r))(u||g!=null)&&(a[d]=this._write(i,g));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??Xg.toBase64)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Rt(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Ii(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Re&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,Ut.v4)();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?ft.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??Xg.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof Re?(this.useReplacer=!0,i[a]=u):i[a]=this._write(s,u);return i}else return structuredClone(r);return r}}}});var kn,Cu=T(()=>{c();$n();Yg();Qg();kn=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ys(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new gs(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Ln,xu=T(()=>{c();It();ge();ps();Cu();Mi();Ln=class extends Hr{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=o??new kn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new Ft(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(Yt(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=hs(n,o)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),d=M.of(a),g=o.message??o.Message??"Unknown",h=z.for(a[1]).getErrorCtor(a)??Error,E=new h(g),y={};for(let[b,C]of d.structIterator())o[b]!=null&&(y[b]=this.codec.createDeserializer().readObject(C,o[b]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,y),this.mixin.decorateServiceException(Object.assign(E,u,{$fault:d.getMergedTraits().error,message:g},y),o)}}});var vu,AC=T(()=>{c();xu();vu=class extends Ln{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Ru,CC=T(()=>{c();xu();Ru=class extends Ln{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Mn,xC=T(()=>{c();It();ge();ps();Cu();Mi();Mn=class extends Eo{serializer;deserializer;codec;mixin=new Ft;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new kn(r),this.serializer=new _o(this.codec.createSerializer(),r),this.deserializer=new bo(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=M.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.body==null&&o.headers["content-type"]===this.getDefaultContentType()&&(o.body="{}"),o}async deserializeResponse(t,r,n){let o=await super.deserializeResponse(t,r,n),s=M.of(t.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in o)&&(o[i]=null);return o}async handleError(t,r,n,o,s){let i=hs(n,o)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),d=M.of(a),g=o.message??o.Message??"Unknown",h=z.for(a[1]).getErrorCtor(a)??Error,E=new h(g);await this.deserializeHttpMessage(a,r,n,o);let y={};for(let[b,C]of d.structIterator()){let x=C.getMergedTraits().jsonName??b;y[b]=this.codec.createDeserializer().readObject(C,o[x])}throw this.mixin.decorateServiceException(Object.assign(E,u,{$fault:d.getMergedTraits().error,message:g},y),o)}getDefaultContentType(){return"application/json"}}});var vC,RC,DC=T(()=>{c();vC=A(te()),RC=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,vC.expectUnion)(e)}});var NC=P((Zme,PC)=>{c();(()=>{"use strict";var e={d:(m,f)=>{for(var S in f)e.o(f,S)&&!e.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:f[S]})},o:(m,f)=>Object.prototype.hasOwnProperty.call(m,f),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>gn,XMLParser:()=>A2,XMLValidator:()=>O2});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(m,f){let S=[],w=f.exec(m);for(;w;){let _=[];_.startIndex=f.lastIndex-w[0].length;let I=w.length;for(let D=0;D<I;D++)_.push(w[D]);S.push(_),w=f.exec(m)}return S}let s=function(m){return n.exec(m)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(m,f){f=Object.assign({},i,f);let S=[],w=!1,_=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let I=0;I<m.length;I++)if(m[I]==="<"&&m[I+1]==="?"){if(I+=2,I=d(m,I),I.err)return I}else{if(m[I]!=="<"){if(u(m[I]))continue;return R("InvalidChar","char '"+m[I]+"' is not expected.",k(m,I))}{let D=I;if(I++,m[I]==="!"){I=g(m,I);continue}{let v=!1;m[I]==="/"&&(v=!0,I++);let N="";for(;I<m.length&&m[I]!==">"&&m[I]!==" "&&m[I]!=="	"&&m[I]!==`
`&&m[I]!=="\r";I++)N+=m[I];if(N=N.trim(),N[N.length-1]==="/"&&(N=N.substring(0,N.length-1),I--),!s(N)){let q;return q=N.trim().length===0?"Invalid space after '<'.":"Tag '"+N+"' is an invalid name.",R("InvalidTag",q,k(m,I))}let $=y(m,I);if($===!1)return R("InvalidAttr","Attributes for '"+N+"' have open quote.",k(m,I));let Y=$.value;if(I=$.index,Y[Y.length-1]==="/"){let q=I-Y.length;Y=Y.substring(0,Y.length-1);let me=C(Y,f);if(me!==!0)return R(me.err.code,me.err.msg,k(m,q+me.err.line));w=!0}else if(v){if(!$.tagClosed)return R("InvalidTag","Closing tag '"+N+"' doesn't have proper closing.",k(m,I));if(Y.trim().length>0)return R("InvalidTag","Closing tag '"+N+"' can't have attributes or invalid starting.",k(m,D));if(S.length===0)return R("InvalidTag","Closing tag '"+N+"' has not been opened.",k(m,D));{let q=S.pop();if(N!==q.tagName){let me=k(m,q.tagStartPos);return R("InvalidTag","Expected closing tag '"+q.tagName+"' (opened in line "+me.line+", col "+me.col+") instead of closing tag '"+N+"'.",k(m,D))}S.length==0&&(_=!0)}}else{let q=C(Y,f);if(q!==!0)return R(q.err.code,q.err.msg,k(m,I-Y.length+q.err.line));if(_===!0)return R("InvalidXml","Multiple possible root nodes found.",k(m,I));f.unpairedTags.indexOf(N)!==-1||S.push({tagName:N,tagStartPos:D}),w=!0}for(I++;I<m.length;I++)if(m[I]==="<"){if(m[I+1]==="!"){I++,I=g(m,I);continue}if(m[I+1]!=="?")break;if(I=d(m,++I),I.err)return I}else if(m[I]==="&"){let q=x(m,I);if(q==-1)return R("InvalidChar","char '&' is not expected.",k(m,I));I=q}else if(_===!0&&!u(m[I]))return R("InvalidXml","Extra text at the end",k(m,I));m[I]==="<"&&I--}}}return w?S.length==1?R("InvalidTag","Unclosed tag '"+S[0].tagName+"'.",k(m,S[0].tagStartPos)):!(S.length>0)||R("InvalidXml","Invalid '"+JSON.stringify(S.map((I=>I.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):R("InvalidXml","Start tag expected.",1)}function u(m){return m===" "||m==="	"||m===`
`||m==="\r"}function d(m,f){let S=f;for(;f<m.length;f++)if(!(m[f]!="?"&&m[f]!=" ")){let w=m.substr(S,f-S);if(f>5&&w==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",k(m,f));if(m[f]=="?"&&m[f+1]==">"){f++;break}}return f}function g(m,f){if(m.length>f+5&&m[f+1]==="-"&&m[f+2]==="-"){for(f+=3;f<m.length;f++)if(m[f]==="-"&&m[f+1]==="-"&&m[f+2]===">"){f+=2;break}}else if(m.length>f+8&&m[f+1]==="D"&&m[f+2]==="O"&&m[f+3]==="C"&&m[f+4]==="T"&&m[f+5]==="Y"&&m[f+6]==="P"&&m[f+7]==="E"){let S=1;for(f+=8;f<m.length;f++)if(m[f]==="<")S++;else if(m[f]===">"&&(S--,S===0))break}else if(m.length>f+9&&m[f+1]==="["&&m[f+2]==="C"&&m[f+3]==="D"&&m[f+4]==="A"&&m[f+5]==="T"&&m[f+6]==="A"&&m[f+7]==="["){for(f+=8;f<m.length;f++)if(m[f]==="]"&&m[f+1]==="]"&&m[f+2]===">"){f+=2;break}}return f}let h='"',E="'";function y(m,f){let S="",w="",_=!1;for(;f<m.length;f++){if(m[f]===h||m[f]===E)w===""?w=m[f]:w!==m[f]||(w="");else if(m[f]===">"&&w===""){_=!0;break}S+=m[f]}return w===""&&{value:S,index:f,tagClosed:_}}let b=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function C(m,f){let S=o(m,b),w={};for(let _=0;_<S.length;_++){if(S[_][1].length===0)return R("InvalidAttr","Attribute '"+S[_][2]+"' has no space in starting.",j(S[_]));if(S[_][3]!==void 0&&S[_][4]===void 0)return R("InvalidAttr","Attribute '"+S[_][2]+"' is without value.",j(S[_]));if(S[_][3]===void 0&&!f.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+S[_][2]+"' is not allowed.",j(S[_]));let I=S[_][2];if(!O(I))return R("InvalidAttr","Attribute '"+I+"' is an invalid name.",j(S[_]));if(w.hasOwnProperty(I))return R("InvalidAttr","Attribute '"+I+"' is repeated.",j(S[_]));w[I]=1}return!0}function x(m,f){if(m[++f]===";")return-1;if(m[f]==="#")return(function(w,_){let I=/\d/;for(w[_]==="x"&&(_++,I=/[\da-fA-F]/);_<w.length;_++){if(w[_]===";")return _;if(!w[_].match(I))break}return-1})(m,++f);let S=0;for(;f<m.length;f++,S++)if(!(m[f].match(/\w/)&&S<20)){if(m[f]===";")break;return-1}return f}function R(m,f,S){return{err:{code:m,msg:f,line:S.line||S,col:S.col}}}function O(m){return s(m)}function k(m,f){let S=m.substring(0,f).split(/\r?\n/);return{line:S.length,col:S[S.length-1].length+1}}function j(m){return m.startIndex+m[1].length}let X={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(m,f){return f},attributeValueProcessor:function(m,f){return f},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(m,f,S){return m},captureMetaData:!1},ue;ue=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Le{constructor(f){this.tagname=f,this.child=[],this[":@"]={}}add(f,S){f==="__proto__"&&(f="#__proto__"),this.child.push({[f]:S})}addChild(f,S){f.tagname==="__proto__"&&(f.tagname="#__proto__"),f[":@"]&&Object.keys(f[":@"]).length>0?this.child.push({[f.tagname]:f.child,":@":f[":@"]}):this.child.push({[f.tagname]:f.child}),S!==void 0&&(this.child[this.child.length-1][ue]={startIndex:S})}static getMetaDataSymbol(){return ue}}function ne(m,f){let S={};if(m[f+3]!=="O"||m[f+4]!=="C"||m[f+5]!=="T"||m[f+6]!=="Y"||m[f+7]!=="P"||m[f+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{f+=9;let w=1,_=!1,I=!1,D="";for(;f<m.length;f++)if(m[f]!=="<"||I)if(m[f]===">"){if(I?m[f-1]==="-"&&m[f-2]==="-"&&(I=!1,w--):w--,w===0)break}else m[f]==="["?_=!0:D+=m[f];else{if(_&&uo(m,"!ENTITY",f)){let v,N;f+=7,[v,N,f]=Ce(m,f+1),N.indexOf("&")===-1&&(S[v]={regx:RegExp(`&${v};`,"g"),val:N})}else if(_&&uo(m,"!ELEMENT",f)){f+=8;let{index:v}=o2(m,f+1);f=v}else if(_&&uo(m,"!ATTLIST",f))f+=8;else if(_&&uo(m,"!NOTATION",f)){f+=9;let{index:v}=Ye(m,f+1);f=v}else{if(!uo(m,"!--",f))throw new Error("Invalid DOCTYPE");I=!0}w++,D=""}if(w!==0)throw new Error("Unclosed DOCTYPE")}return{entities:S,i:f}}let pe=(m,f)=>{for(;f<m.length&&/\s/.test(m[f]);)f++;return f};function Ce(m,f){f=pe(m,f);let S="";for(;f<m.length&&!/\s/.test(m[f])&&m[f]!=='"'&&m[f]!=="'";)S+=m[f],f++;if(Km(S),f=pe(m,f),m.substring(f,f+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(m[f]==="%")throw new Error("Parameter entities are not supported");let w="";return[f,w]=Tt(m,f,"entity"),[S,w,--f]}function Ye(m,f){f=pe(m,f);let S="";for(;f<m.length&&!/\s/.test(m[f]);)S+=m[f],f++;Km(S),f=pe(m,f);let w=m.substring(f,f+6).toUpperCase();if(w!=="SYSTEM"&&w!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${w}"`);f+=w.length,f=pe(m,f);let _=null,I=null;if(w==="PUBLIC")[f,_]=Tt(m,f,"publicIdentifier"),m[f=pe(m,f)]!=='"'&&m[f]!=="'"||([f,I]=Tt(m,f,"systemIdentifier"));else if(w==="SYSTEM"&&([f,I]=Tt(m,f,"systemIdentifier"),!I))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:S,publicIdentifier:_,systemIdentifier:I,index:--f}}function Tt(m,f,S){let w="",_=m[f];if(_!=='"'&&_!=="'")throw new Error(`Expected quoted string, found "${_}"`);for(f++;f<m.length&&m[f]!==_;)w+=m[f],f++;if(m[f]!==_)throw new Error(`Unterminated ${S} value`);return[++f,w]}function o2(m,f){f=pe(m,f);let S="";for(;f<m.length&&!/\s/.test(m[f]);)S+=m[f],f++;if(!Km(S))throw new Error(`Invalid element name: "${S}"`);let w="";if(m[f=pe(m,f)]==="E"&&uo(m,"MPTY",f))f+=4;else if(m[f]==="A"&&uo(m,"NY",f))f+=2;else{if(m[f]!=="(")throw new Error(`Invalid Element Expression, found "${m[f]}"`);for(f++;f<m.length&&m[f]!==")";)w+=m[f],f++;if(m[f]!==")")throw new Error("Unterminated content model")}return{elementName:S,contentModel:w.trim(),index:f}}function uo(m,f,S){for(let w=0;w<f.length;w++)if(f[w]!==m[S+w+1])return!1;return!0}function Km(m){if(s(m))return m;throw new Error(`Invalid entity name ${m}`)}let s2=/^[-+]?0x[a-fA-F0-9]+$/,i2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,a2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},c2=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function vb(m){return typeof m=="function"?m:Array.isArray(m)?f=>{for(let S of m)if(typeof S=="string"&&f===S||S instanceof RegExp&&S.test(f))return!0}:()=>!1}class u2{constructor(f){this.options=f,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(S,w)=>String.fromCodePoint(Number.parseInt(w,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(S,w)=>String.fromCodePoint(Number.parseInt(w,16))}},this.addExternalEntities=l2,this.parseXml=h2,this.parseTextData=d2,this.resolveNameSpace=p2,this.buildAttributesMap=f2,this.isItStopNode=S2,this.replaceEntitiesValue=y2,this.readStopNodeData=b2,this.saveTextToParentTag=E2,this.addChild=g2,this.ignoreAttributesFn=vb(this.options.ignoreAttributes)}}function l2(m){let f=Object.keys(m);for(let S=0;S<f.length;S++){let w=f[S];this.lastEntities[w]={regex:new RegExp("&"+w+";","g"),val:m[w]}}}function d2(m,f,S,w,_,I,D){if(m!==void 0&&(this.options.trimValues&&!w&&(m=m.trim()),m.length>0)){D||(m=this.replaceEntitiesValue(m));let v=this.options.tagValueProcessor(f,m,S,_,I);return v==null?m:typeof v!=typeof m||v!==m?v:this.options.trimValues||m.trim()===m?Rb(m,this.options.parseTagValue,this.options.numberParseOptions):m}}function p2(m){if(this.options.removeNSPrefix){let f=m.split(":"),S=m.charAt(0)==="/"?"/":"";if(f[0]==="xmlns")return"";f.length===2&&(m=S+f[1])}return m}let m2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function f2(m,f,S){if(this.options.ignoreAttributes!==!0&&typeof m=="string"){let w=o(m,m2),_=w.length,I={};for(let D=0;D<_;D++){let v=this.resolveNameSpace(w[D][1]);if(this.ignoreAttributesFn(v,f))continue;let N=w[D][4],$=this.options.attributeNamePrefix+v;if(v.length)if(this.options.transformAttributeName&&($=this.options.transformAttributeName($)),$==="__proto__"&&($="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);let Y=this.options.attributeValueProcessor(v,N,f);I[$]=Y==null?N:typeof Y!=typeof N||Y!==N?Y:Rb(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(I[$]=!0)}if(!Object.keys(I).length)return;if(this.options.attributesGroupName){let D={};return D[this.options.attributesGroupName]=I,D}return I}}let h2=function(m){m=m.replace(/\r\n?/g,`
`);let f=new Le("!xml"),S=f,w="",_="";for(let I=0;I<m.length;I++)if(m[I]==="<")if(m[I+1]==="/"){let D=lo(m,">",I,"Closing Tag is not closed."),v=m.substring(I+2,D).trim();if(this.options.removeNSPrefix){let Y=v.indexOf(":");Y!==-1&&(v=v.substr(Y+1))}this.options.transformTagName&&(v=this.options.transformTagName(v)),S&&(w=this.saveTextToParentTag(w,S,_));let N=_.substring(_.lastIndexOf(".")+1);if(v&&this.options.unpairedTags.indexOf(v)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${v}>`);let $=0;N&&this.options.unpairedTags.indexOf(N)!==-1?($=_.lastIndexOf(".",_.lastIndexOf(".")-1),this.tagsNodeStack.pop()):$=_.lastIndexOf("."),_=_.substring(0,$),S=this.tagsNodeStack.pop(),w="",I=D}else if(m[I+1]==="?"){let D=Ym(m,I,!1,"?>");if(!D)throw new Error("Pi Tag is not closed.");if(w=this.saveTextToParentTag(w,S,_),!(this.options.ignoreDeclaration&&D.tagName==="?xml"||this.options.ignorePiTags)){let v=new Le(D.tagName);v.add(this.options.textNodeName,""),D.tagName!==D.tagExp&&D.attrExpPresent&&(v[":@"]=this.buildAttributesMap(D.tagExp,_,D.tagName)),this.addChild(S,v,_,I)}I=D.closeIndex+1}else if(m.substr(I+1,3)==="!--"){let D=lo(m,"-->",I+4,"Comment is not closed.");if(this.options.commentPropName){let v=m.substring(I+4,D-2);w=this.saveTextToParentTag(w,S,_),S.add(this.options.commentPropName,[{[this.options.textNodeName]:v}])}I=D}else if(m.substr(I+1,2)==="!D"){let D=ne(m,I);this.docTypeEntities=D.entities,I=D.i}else if(m.substr(I+1,2)==="!["){let D=lo(m,"]]>",I,"CDATA is not closed.")-2,v=m.substring(I+9,D);w=this.saveTextToParentTag(w,S,_);let N=this.parseTextData(v,S.tagname,_,!0,!1,!0,!0);N==null&&(N=""),this.options.cdataPropName?S.add(this.options.cdataPropName,[{[this.options.textNodeName]:v}]):S.add(this.options.textNodeName,N),I=D+2}else{let D=Ym(m,I,this.options.removeNSPrefix),v=D.tagName,N=D.rawTagName,$=D.tagExp,Y=D.attrExpPresent,q=D.closeIndex;this.options.transformTagName&&(v=this.options.transformTagName(v)),S&&w&&S.tagname!=="!xml"&&(w=this.saveTextToParentTag(w,S,_,!1));let me=S;me&&this.options.unpairedTags.indexOf(me.tagname)!==-1&&(S=this.tagsNodeStack.pop(),_=_.substring(0,_.lastIndexOf("."))),v!==f.tagname&&(_+=_?"."+v:v);let _e=I;if(this.isItStopNode(this.options.stopNodes,_,v)){let he="";if($.length>0&&$.lastIndexOf("/")===$.length-1)v[v.length-1]==="/"?(v=v.substr(0,v.length-1),_=_.substr(0,_.length-1),$=v):$=$.substr(0,$.length-1),I=D.closeIndex;else if(this.options.unpairedTags.indexOf(v)!==-1)I=D.closeIndex;else{let ur=this.readStopNodeData(m,N,q+1);if(!ur)throw new Error(`Unexpected end of ${N}`);I=ur.i,he=ur.tagContent}let Fe=new Le(v);v!==$&&Y&&(Fe[":@"]=this.buildAttributesMap($,_,v)),he&&(he=this.parseTextData(he,v,_,!0,Y,!0,!0)),_=_.substr(0,_.lastIndexOf(".")),Fe.add(this.options.textNodeName,he),this.addChild(S,Fe,_,_e)}else{if($.length>0&&$.lastIndexOf("/")===$.length-1){v[v.length-1]==="/"?(v=v.substr(0,v.length-1),_=_.substr(0,_.length-1),$=v):$=$.substr(0,$.length-1),this.options.transformTagName&&(v=this.options.transformTagName(v));let he=new Le(v);v!==$&&Y&&(he[":@"]=this.buildAttributesMap($,_,v)),this.addChild(S,he,_,_e),_=_.substr(0,_.lastIndexOf("."))}else{let he=new Le(v);this.tagsNodeStack.push(S),v!==$&&Y&&(he[":@"]=this.buildAttributesMap($,_,v)),this.addChild(S,he,_,_e),S=he}w="",I=q}}else w+=m[I];return f.child};function g2(m,f,S,w){this.options.captureMetaData||(w=void 0);let _=this.options.updateTag(f.tagname,S,f[":@"]);_===!1||(typeof _=="string"&&(f.tagname=_),m.addChild(f,w))}let y2=function(m){if(this.options.processEntities){for(let f in this.docTypeEntities){let S=this.docTypeEntities[f];m=m.replace(S.regx,S.val)}for(let f in this.lastEntities){let S=this.lastEntities[f];m=m.replace(S.regex,S.val)}if(this.options.htmlEntities)for(let f in this.htmlEntities){let S=this.htmlEntities[f];m=m.replace(S.regex,S.val)}m=m.replace(this.ampEntity.regex,this.ampEntity.val)}return m};function E2(m,f,S,w){return m&&(w===void 0&&(w=f.child.length===0),(m=this.parseTextData(m,f.tagname,S,!1,!!f[":@"]&&Object.keys(f[":@"]).length!==0,w))!==void 0&&m!==""&&f.add(this.options.textNodeName,m),m=""),m}function S2(m,f,S){let w="*."+S;for(let _ in m){let I=m[_];if(w===I||f===I)return!0}return!1}function lo(m,f,S,w){let _=m.indexOf(f,S);if(_===-1)throw new Error(w);return _+f.length-1}function Ym(m,f,S,w=">"){let _=(function(q,me,_e=">"){let he,Fe="";for(let ur=me;ur<q.length;ur++){let yn=q[ur];if(he)yn===he&&(he="");else if(yn==='"'||yn==="'")he=yn;else if(yn===_e[0]){if(!_e[1])return{data:Fe,index:ur};if(q[ur+1]===_e[1])return{data:Fe,index:ur}}else yn==="	"&&(yn=" ");Fe+=yn}})(m,f+1,w);if(!_)return;let I=_.data,D=_.index,v=I.search(/\s/),N=I,$=!0;v!==-1&&(N=I.substring(0,v),I=I.substring(v+1).trimStart());let Y=N;if(S){let q=N.indexOf(":");q!==-1&&(N=N.substr(q+1),$=N!==_.data.substr(q+1))}return{tagName:N,tagExp:I,closeIndex:D,attrExpPresent:$,rawTagName:Y}}function b2(m,f,S){let w=S,_=1;for(;S<m.length;S++)if(m[S]==="<")if(m[S+1]==="/"){let I=lo(m,">",S,`${f} is not closed`);if(m.substring(S+2,I).trim()===f&&(_--,_===0))return{tagContent:m.substring(w,S),i:I};S=I}else if(m[S+1]==="?")S=lo(m,"?>",S+1,"StopNode is not closed.");else if(m.substr(S+1,3)==="!--")S=lo(m,"-->",S+3,"StopNode is not closed.");else if(m.substr(S+1,2)==="![")S=lo(m,"]]>",S,"StopNode is not closed.")-2;else{let I=Ym(m,S,">");I&&((I&&I.tagName)===f&&I.tagExp[I.tagExp.length-1]!=="/"&&_++,S=I.closeIndex)}}function Rb(m,f,S){if(f&&typeof m=="string"){let w=m.trim();return w==="true"||w!=="false"&&(function(_,I={}){if(I=Object.assign({},a2,I),!_||typeof _!="string")return _;let D=_.trim();if(I.skipLike!==void 0&&I.skipLike.test(D))return _;if(_==="0")return 0;if(I.hex&&s2.test(D))return(function(N){if(parseInt)return parseInt(N,16);if(Number.parseInt)return Number.parseInt(N,16);if(window&&window.parseInt)return window.parseInt(N,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(D);if(D.search(/.+[eE].+/)!==-1)return(function(N,$,Y){if(!Y.eNotation)return N;let q=$.match(c2);if(q){let me=q[1]||"",_e=q[3].indexOf("e")===-1?"E":"e",he=q[2],Fe=me?N[he.length+1]===_e:N[he.length]===_e;return he.length>1&&Fe?N:he.length!==1||!q[3].startsWith(`.${_e}`)&&q[3][0]!==_e?Y.leadingZeros&&!Fe?($=(q[1]||"")+q[3],Number($)):N:Number($)}return N})(_,D,I);{let N=i2.exec(D);if(N){let $=N[1]||"",Y=N[2],q=((v=N[3])&&v.indexOf(".")!==-1&&((v=v.replace(/0+$/,""))==="."?v="0":v[0]==="."?v="0"+v:v[v.length-1]==="."&&(v=v.substring(0,v.length-1))),v),me=$?_[Y.length+1]===".":_[Y.length]===".";if(!I.leadingZeros&&(Y.length>1||Y.length===1&&!me))return _;{let _e=Number(D),he=String(_e);if(_e===0||_e===-0)return _e;if(he.search(/[eE]/)!==-1)return I.eNotation?_e:_;if(D.indexOf(".")!==-1)return he==="0"||he===q||he===`${$}${q}`?_e:_;let Fe=Y?q:D;return Y?Fe===he||$+Fe===he?_e:_:Fe===he||Fe===$+he?_e:_}}return _}var v})(m,S)}return m!==void 0?m:""}let Xm=Le.getMetaDataSymbol();function _2(m,f){return Db(m,f)}function Db(m,f,S){let w,_={};for(let I=0;I<m.length;I++){let D=m[I],v=T2(D),N="";if(N=S===void 0?v:S+"."+v,v===f.textNodeName)w===void 0?w=D[v]:w+=""+D[v];else{if(v===void 0)continue;if(D[v]){let $=Db(D[v],f,N),Y=w2($,f);D[Xm]!==void 0&&($[Xm]=D[Xm]),D[":@"]?I2($,D[":@"],N,f):Object.keys($).length!==1||$[f.textNodeName]===void 0||f.alwaysCreateTextNode?Object.keys($).length===0&&(f.alwaysCreateTextNode?$[f.textNodeName]="":$=""):$=$[f.textNodeName],_[v]!==void 0&&_.hasOwnProperty(v)?(Array.isArray(_[v])||(_[v]=[_[v]]),_[v].push($)):f.isArray(v,N,Y)?_[v]=[$]:_[v]=$}}}return typeof w=="string"?w.length>0&&(_[f.textNodeName]=w):w!==void 0&&(_[f.textNodeName]=w),_}function T2(m){let f=Object.keys(m);for(let S=0;S<f.length;S++){let w=f[S];if(w!==":@")return w}}function I2(m,f,S,w){if(f){let _=Object.keys(f),I=_.length;for(let D=0;D<I;D++){let v=_[D];w.isArray(v,S+"."+v,!0,!0)?m[v]=[f[v]]:m[v]=f[v]}}}function w2(m,f){let{textNodeName:S}=f,w=Object.keys(m).length;return w===0||!(w!==1||!m[S]&&typeof m[S]!="boolean"&&m[S]!==0)}class A2{constructor(f){this.externalEntities={},this.options=(function(S){return Object.assign({},X,S)})(f)}parse(f,S){if(typeof f!="string"){if(!f.toString)throw new Error("XML data is accepted in String or Bytes[] form.");f=f.toString()}if(S){S===!0&&(S={});let I=a(f,S);if(I!==!0)throw Error(`${I.err.msg}:${I.err.line}:${I.err.col}`)}let w=new u2(this.options);w.addExternalEntities(this.externalEntities);let _=w.parseXml(f);return this.options.preserveOrder||_===void 0?_:_2(_,this.options)}addEntity(f,S){if(S.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(S==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=S}static getMetaDataSymbol(){return Le.getMetaDataSymbol()}}function C2(m,f){let S="";return f.format&&f.indentBy.length>0&&(S=`
`),Pb(m,f,"",S)}function Pb(m,f,S,w){let _="",I=!1;for(let D=0;D<m.length;D++){let v=m[D],N=x2(v);if(N===void 0)continue;let $="";if($=S.length===0?N:`${S}.${N}`,N===f.textNodeName){let _e=v[N];v2($,f)||(_e=f.tagValueProcessor(N,_e),_e=Ob(_e,f)),I&&(_+=w),_+=_e,I=!1;continue}if(N===f.cdataPropName){I&&(_+=w),_+=`<![CDATA[${v[N][0][f.textNodeName]}]]>`,I=!1;continue}if(N===f.commentPropName){_+=w+`<!--${v[N][0][f.textNodeName]}-->`,I=!0;continue}if(N[0]==="?"){let _e=Nb(v[":@"],f),he=N==="?xml"?"":w,Fe=v[N][0][f.textNodeName];Fe=Fe.length!==0?" "+Fe:"",_+=he+`<${N}${Fe}${_e}?>`,I=!0;continue}let Y=w;Y!==""&&(Y+=f.indentBy);let q=w+`<${N}${Nb(v[":@"],f)}`,me=Pb(v[N],f,$,Y);f.unpairedTags.indexOf(N)!==-1?f.suppressUnpairedNode?_+=q+">":_+=q+"/>":me&&me.length!==0||!f.suppressEmptyNode?me&&me.endsWith(">")?_+=q+`>${me}${w}</${N}>`:(_+=q+">",me&&w!==""&&(me.includes("/>")||me.includes("</"))?_+=w+f.indentBy+me+w:_+=me,_+=`</${N}>`):_+=q+"/>",I=!0}return _}function x2(m){let f=Object.keys(m);for(let S=0;S<f.length;S++){let w=f[S];if(m.hasOwnProperty(w)&&w!==":@")return w}}function Nb(m,f){let S="";if(m&&!f.ignoreAttributes)for(let w in m){if(!m.hasOwnProperty(w))continue;let _=f.attributeValueProcessor(w,m[w]);_=Ob(_,f),_===!0&&f.suppressBooleanAttributes?S+=` ${w.substr(f.attributeNamePrefix.length)}`:S+=` ${w.substr(f.attributeNamePrefix.length)}="${_}"`}return S}function v2(m,f){let S=(m=m.substr(0,m.length-f.textNodeName.length-1)).substr(m.lastIndexOf(".")+1);for(let w in f.stopNodes)if(f.stopNodes[w]===m||f.stopNodes[w]==="*."+S)return!0;return!1}function Ob(m,f){if(m&&m.length>0&&f.processEntities)for(let S=0;S<f.entities.length;S++){let w=f.entities[S];m=m.replace(w.regex,w.val)}return m}let R2={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(m,f){return f},attributeValueProcessor:function(m,f){return f},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function gn(m){this.options=Object.assign({},R2,m),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=vb(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=N2),this.processTextOrObjNode=D2,this.options.format?(this.indentate=P2,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function D2(m,f,S,w){let _=this.j2x(m,S+1,w.concat(f));return m[this.options.textNodeName]!==void 0&&Object.keys(m).length===1?this.buildTextValNode(m[this.options.textNodeName],f,_.attrStr,S):this.buildObjectNode(_.val,f,_.attrStr,S)}function P2(m){return this.options.indentBy.repeat(m)}function N2(m){return!(!m.startsWith(this.options.attributeNamePrefix)||m===this.options.textNodeName)&&m.substr(this.attrPrefixLen)}gn.prototype.build=function(m){return this.options.preserveOrder?C2(m,this.options):(Array.isArray(m)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(m={[this.options.arrayNodeName]:m}),this.j2x(m,0,[]).val)},gn.prototype.j2x=function(m,f,S){let w="",_="",I=S.join(".");for(let D in m)if(Object.prototype.hasOwnProperty.call(m,D))if(m[D]===void 0)this.isAttribute(D)&&(_+="");else if(m[D]===null)this.isAttribute(D)||D===this.options.cdataPropName?_+="":D[0]==="?"?_+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:_+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(m[D]instanceof Date)_+=this.buildTextValNode(m[D],D,"",f);else if(typeof m[D]!="object"){let v=this.isAttribute(D);if(v&&!this.ignoreAttributesFn(v,I))w+=this.buildAttrPairStr(v,""+m[D]);else if(!v)if(D===this.options.textNodeName){let N=this.options.tagValueProcessor(D,""+m[D]);_+=this.replaceEntitiesValue(N)}else _+=this.buildTextValNode(m[D],D,"",f)}else if(Array.isArray(m[D])){let v=m[D].length,N="",$="";for(let Y=0;Y<v;Y++){let q=m[D][Y];if(q!==void 0)if(q===null)D[0]==="?"?_+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:_+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(typeof q=="object")if(this.options.oneListGroup){let me=this.j2x(q,f+1,S.concat(D));N+=me.val,this.options.attributesGroupName&&q.hasOwnProperty(this.options.attributesGroupName)&&($+=me.attrStr)}else N+=this.processTextOrObjNode(q,D,f,S);else if(this.options.oneListGroup){let me=this.options.tagValueProcessor(D,q);me=this.replaceEntitiesValue(me),N+=me}else N+=this.buildTextValNode(q,D,"",f)}this.options.oneListGroup&&(N=this.buildObjectNode(N,D,$,f)),_+=N}else if(this.options.attributesGroupName&&D===this.options.attributesGroupName){let v=Object.keys(m[D]),N=v.length;for(let $=0;$<N;$++)w+=this.buildAttrPairStr(v[$],""+m[D][v[$]])}else _+=this.processTextOrObjNode(m[D],D,f,S);return{attrStr:w,val:_}},gn.prototype.buildAttrPairStr=function(m,f){return f=this.options.attributeValueProcessor(m,""+f),f=this.replaceEntitiesValue(f),this.options.suppressBooleanAttributes&&f==="true"?" "+m:" "+m+'="'+f+'"'},gn.prototype.buildObjectNode=function(m,f,S,w){if(m==="")return f[0]==="?"?this.indentate(w)+"<"+f+S+"?"+this.tagEndChar:this.indentate(w)+"<"+f+S+this.closeTag(f)+this.tagEndChar;{let _="</"+f+this.tagEndChar,I="";return f[0]==="?"&&(I="?",_=""),!S&&S!==""||m.indexOf("<")!==-1?this.options.commentPropName!==!1&&f===this.options.commentPropName&&I.length===0?this.indentate(w)+`<!--${m}-->`+this.newLine:this.indentate(w)+"<"+f+S+I+this.tagEndChar+m+this.indentate(w)+_:this.indentate(w)+"<"+f+S+I+">"+m+_}},gn.prototype.closeTag=function(m){let f="";return this.options.unpairedTags.indexOf(m)!==-1?this.options.suppressUnpairedNode||(f="/"):f=this.options.suppressEmptyNode?"/":`></${m}`,f},gn.prototype.buildTextValNode=function(m,f,S,w){if(this.options.cdataPropName!==!1&&f===this.options.cdataPropName)return this.indentate(w)+`<![CDATA[${m}]]>`+this.newLine;if(this.options.commentPropName!==!1&&f===this.options.commentPropName)return this.indentate(w)+`<!--${m}-->`+this.newLine;if(f[0]==="?")return this.indentate(w)+"<"+f+S+"?"+this.tagEndChar;{let _=this.options.tagValueProcessor(f,m);return _=this.replaceEntitiesValue(_),_===""?this.indentate(w)+"<"+f+S+this.closeTag(f)+this.tagEndChar:this.indentate(w)+"<"+f+S+">"+_+"</"+f+this.tagEndChar}},gn.prototype.replaceEntitiesValue=function(m){if(m&&m.length>0&&this.options.processEntities)for(let f=0;f<this.options.entities.length;f++){let S=this.options.entities[f];m=m.replace(S.regex,S.val)}return m};let O2={validate:a};PC.exports=t})()});var OC=P(Zg=>{"use strict";c();Object.defineProperty(Zg,"__esModule",{value:!0});Zg.parseXML=$3;var O3=NC(),Jg=new O3.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Jg.addEntity("#xD","\r");Jg.addEntity("#10",`
`);function $3(e){return Jg.parse(e,!0)}});var Nu=P(Pu=>{"use strict";c();var k3=OC();function L3(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function M3(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Du=class{value;constructor(t){this.value=t}toString(){return M3(""+this.value)}},ey=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new Du(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${L3(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Pu,"parseXML",{enumerable:!0,get:function(){return k3.parseXML}});Pu.XmlNode=ey;Pu.XmlText=Du});var $C,kC,LC,Un,Ou=T(()=>{c();$C=A(Nu());It();ge();kC=A(te()),LC=A(Ve());$n();Wg();Un=class extends st{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new So(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=M.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(d=>!!d.getMemberTraits().eventPayload)){let d={},g=Object.keys(s)[0];return s[g].isBlobSchema()?d[g]=r:d[g]=this.read(s[g],r),d}let a=(this.serdeContext?.utf8Encoder??LC.toUtf8)(r),u=this.parseXml(a);return this.readSchema(t,n?u[n]:u)}readSchema(t,r){let n=M.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let u=n.getValueSchema(),d=[],g=u.getMergedTraits().xmlName??"member",h=i?r:(r[0]??r)[g],E=Array.isArray(h)?h:[h];for(let y of E)(y!=null||s)&&d.push(this.readSchema(u,y));return d}let a={};if(n.isMapSchema()){let u=n.getKeySchema(),d=n.getValueSchema(),g;i?g=Array.isArray(r)?r:[r]:g=Array.isArray(r.entry)?r.entry:[r.entry];let h=u.getMergedTraits().xmlName??"key",E=d.getMergedTraits().xmlName??"value";for(let y of g){let b=y[h],C=y[E];(C!=null||s)&&(a[b]=this.readSchema(d,C))}return a}if(n.isStructSchema()){let u=n.isUnionSchema(),d;u&&(d=new fs(r,a));for(let[g,h]of n.structIterator()){let E=h.getMergedTraits(),y=E.httpPayload?E.xmlName??h.getName():h.getMemberTraits().xmlName??g;u&&d.mark(y),r[y]!=null&&(a[g]=this.readSchema(h,r[y]))}return u&&d.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,$C.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,kC.getValueFromTextNode)(s)}return{}}}});var MC,UC,$u,BC=T(()=>{c();It();ge();ht();MC=A(te()),UC=A(je());$n();ki();$u=class extends st{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=M.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??UC.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Ut.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Re?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Rt(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,MC.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(o.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let u of r){if(u==null)continue;let d=this.getKey("member",s.getMergedTraits().xmlName),g=i?`${n}${a}`:`${n}${d}.${a}`;this.write(s,u,g),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,u=1;for(let[d,g]of Object.entries(r)){if(g==null)continue;let h=this.getKey("key",s.getMergedTraits().xmlName),E=a?`${n}${u}.${h}`:`${n}entry.${u}.${h}`,y=this.getKey("value",i.getMergedTraits().xmlName),b=a?`${n}${u}.${y}`:`${n}entry.${u}.${y}`;this.write(s,d,E),this.write(i,g,b),++u}}}else if(o.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of ms(o,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let u=this.getKey(i,a.getMergedTraits().xmlName),d=`${n}${u}`;this.write(a,r[i],d),s=!0}if(!s&&o.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,u]=i,d=`${n}${a}`;this.write(15,u,d)}}}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${dr(t)}=`}writeValue(t){this.buffer+=dr(t)}}});var Bn,ty=T(()=>{c();It();ge();ps();Ou();BC();Bn=class extends Hr{options;serializer;deserializer;mixin=new Ft;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new $u(r),this.deserializer=new Un(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Yt(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=M.of(t.output),i={};if(n.statusCode>=300){let h=await Mt(n.body,r);h.byteLength>0&&Object.assign(i,await o.read(15,h)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let h in n.headers){let E=n.headers[h];delete n.headers[h],n.headers[h.toLowerCase()]=E}let a=t.name.split("#")[1]??t.name,u=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,d=await Mt(n.body,r);return d.byteLength>0&&Object.assign(i,await o.read(s,d,u)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),u=this.loadQueryErrorMessage(o);a.message=u,a.Error={Type:a.Type,Code:a.Code,Message:u};let{errorSchema:d,errorMetadata:g}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,this.mixin.findQueryCompatibleError),h=M.of(d),E=z.for(d[1]).getErrorCtor(d)??Error,y=new E(u),b={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[C,x]of h.structIterator()){let R=x.getMergedTraits().xmlName??C,O=a[R]??o[R];b[C]=this.deserializer.readSchema(x,O)}throw this.mixin.decorateServiceException(Object.assign(y,g,{$fault:h.getMergedTraits().error,message:u},b),o)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var ku,FC=T(()=>{c();ty();ku=class extends Bn{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var GC,HC,ry,jC,Lu,ny=T(()=>{c();GC=A(Nu()),HC=A(te());Kg();ry=(e,t)=>wu(e,t).then(r=>{if(r.length){let n;try{n=(0,GC.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,HC.getValueFromTextNode)(i)}return{}}),jC=async(e,t)=>{let r=await ry(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Lu=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var yt,oy,Mu,Es,sy=T(()=>{c();yt=A(Nu());It();ge();ht();oy=A(te()),Mu=A(je());$n();ki();Es=class extends st{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=M.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Mu.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=yt.XmlNode.of(s),[a,u]=this.getXmlnsAttribute(t,n);for(let[g,h]of ms(t,r)){let E=r[g];if(E!=null||h.isIdempotencyToken()){if(h.getMergedTraits().xmlAttribute){i.addAttribute(h.getMergedTraits().xmlName??g,this.writeSimple(h,E));continue}if(h.isListSchema())this.writeList(h,E,i,u);else if(h.isMapSchema())this.writeMap(h,E,i,u);else if(h.isStructSchema())i.addChildNode(this.writeStruct(h,E,u));else{let y=yt.XmlNode.of(h.getMergedTraits().xmlName??h.getMemberName());this.writeSimpleInto(h,E,y,u),i.addChildNode(y)}}}let{$unknown:d}=r;if(d&&t.isUnionSchema()&&Array.isArray(d)&&Object.keys(r).length===1){let[g,h]=d,E=yt.XmlNode.of(g);if(typeof h!="string")if(r instanceof yt.XmlNode||r instanceof yt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,h,E,u),i.addChildNode(E)}return u&&i.addAttribute(a,u),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),u=!!a.sparse,d=!!s.xmlFlattened,[g,h]=this.getXmlnsAttribute(t,o),E=(y,b)=>{if(i.isListSchema())this.writeList(i,Array.isArray(b)?b:[b],y,h);else if(i.isMapSchema())this.writeMap(i,b,y,h);else if(i.isStructSchema()){let C=this.writeStruct(i,b,h);y.addChildNode(C.withName(d?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let C=yt.XmlNode.of(d?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,b,C,h),y.addChildNode(C)}};if(d)for(let y of r)(u||y!=null)&&E(n,y);else{let y=yt.XmlNode.of(s.xmlName??t.getMemberName());h&&y.addAttribute(g,h);for(let b of r)(u||b!=null)&&E(y,b);n.addChildNode(y)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),d=a.getMergedTraits().xmlName??"key",g=t.getValueSchema(),h=g.getMergedTraits(),E=h.xmlName??"value",y=!!h.sparse,b=!!i.xmlFlattened,[C,x]=this.getXmlnsAttribute(t,o),R=(O,k,j)=>{let X=yt.XmlNode.of(d,k),[ue,Le]=this.getXmlnsAttribute(a,x);Le&&X.addAttribute(ue,Le),O.addChildNode(X);let ne=yt.XmlNode.of(E);g.isListSchema()?this.writeList(g,j,ne,x):g.isMapSchema()?this.writeMap(g,j,ne,x,!0):g.isStructSchema()?ne=this.writeStruct(g,j,x):this.writeSimpleInto(g,j,ne,x),O.addChildNode(ne)};if(b){for(let[O,k]of Object.entries(r))if(y||k!=null){let j=yt.XmlNode.of(i.xmlName??t.getMemberName());R(j,O,k),n.addChildNode(j)}}else{let O;s||(O=yt.XmlNode.of(i.xmlName??t.getMemberName()),x&&O.addAttribute(C,x),n.addChildNode(O));for(let[k,j]of Object.entries(r))if(y||j!=null){let X=yt.XmlNode.of("entry");R(X,k,j),(s?n:O).addChildNode(X)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=M.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Mu.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Rt(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,oy.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,oy.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Re?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,Ut.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=M.of(t),a=new yt.XmlText(s),[u,d]=this.getXmlnsAttribute(i,o);d&&n.addAttribute(u,d),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Ss,iy=T(()=>{c();$n();Ou();sy();Ss=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Es(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Un(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Uu,qC=T(()=>{c();It();ge();ps();ny();iy();Uu=class extends Eo{codec;serializer;deserializer;mixin=new Ft;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Ss(r),this.serializer=new _o(this.codec.createSerializer(),r),this.deserializer=new bo(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=M.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return typeof o.body=="string"&&o.headers["content-type"]===this.getDefaultContentType()&&!o.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Lu(n,o)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),d=M.of(a),g=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",h=z.for(a[1]).getErrorCtor(a)??Error,E=new h(g);await this.deserializeHttpMessage(a,r,n,o);let y={};for(let[b,C]of d.structIterator()){let x=C.getMergedTraits().xmlName??b,R=o.Error?.[x]??o[x];y[b]=this.codec.createDeserializer().readSchema(C,R)}throw this.mixin.decorateServiceException(Object.assign(E,u,{$fault:d.getMergedTraits().error,message:g},y),o)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var Bu={};pt(Bu,{AwsEc2QueryProtocol:()=>ku,AwsJson1_0Protocol:()=>vu,AwsJson1_1Protocol:()=>Ru,AwsJsonRpcProtocol:()=>Ln,AwsQueryProtocol:()=>Bn,AwsRestJsonProtocol:()=>Mn,AwsRestXmlProtocol:()=>Uu,AwsSmithyRpcV2CborProtocol:()=>Iu,JsonCodec:()=>kn,JsonShapeDeserializer:()=>gs,JsonShapeSerializer:()=>ys,XmlCodec:()=>Ss,XmlShapeDeserializer:()=>Un,XmlShapeSerializer:()=>Es,_toBool:()=>mC,_toNum:()=>fC,_toStr:()=>pC,awsExpectUnion:()=>RC,loadRestJsonErrorCode:()=>hs,loadRestXmlErrorCode:()=>Lu,parseJsonBody:()=>Li,parseJsonErrorBody:()=>_C,parseXmlBody:()=>ry,parseXmlErrorBody:()=>jC});var Fn=T(()=>{c();dC();hC();AC();CC();xu();xC();Cu();Yg();Qg();DC();Mi();FC();ty();qC();iy();Ou();sy();ny()});var Jr={};pt(Jr,{AWSSDKSigV4Signer:()=>eg,AwsEc2QueryProtocol:()=>ku,AwsJson1_0Protocol:()=>vu,AwsJson1_1Protocol:()=>Ru,AwsJsonRpcProtocol:()=>Ln,AwsQueryProtocol:()=>Bn,AwsRestJsonProtocol:()=>Mn,AwsRestXmlProtocol:()=>Uu,AwsSdkSigV4ASigner:()=>Di,AwsSdkSigV4Signer:()=>nt,AwsSmithyRpcV2CborProtocol:()=>Iu,JsonCodec:()=>kn,JsonShapeDeserializer:()=>gs,JsonShapeSerializer:()=>ys,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>xn,NODE_SIGV4A_CONFIG_OPTIONS:()=>cA,XmlCodec:()=>Ss,XmlShapeDeserializer:()=>Un,XmlShapeSerializer:()=>Es,_toBool:()=>mC,_toNum:()=>fC,_toStr:()=>pC,awsExpectUnion:()=>RC,emitWarningIfUnsupportedVersion:()=>An,getBearerTokenEnvKey:()=>su,loadRestJsonErrorCode:()=>hs,loadRestXmlErrorCode:()=>Lu,parseJsonBody:()=>Li,parseJsonErrorBody:()=>_C,parseXmlBody:()=>ry,parseXmlErrorBody:()=>jC,resolveAWSSDKSigV4Config:()=>$A,resolveAwsSdkSigV4AConfig:()=>aA,resolveAwsSdkSigV4Config:()=>zr,setCredentialFeature:()=>Cn,setFeature:()=>Vw,setTokenFeature:()=>Ww,state:()=>ou,validateSigningProperties:()=>cs});var We=T(()=>{c();Bt();Sg();Fn()});var vo=P(bs=>{"use strict";c();var U3=(tt(),Z(To)),B3=wo(),F3=Te(),hr=(We(),Z(Jr)),KC=void 0;function G3(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function H3(e){let t=U3.normalizeProvider(e.userAgentAppId??KC),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!G3(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var j3=/\d{12}\.ddb/;async function q3(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&hr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?hr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):hr.setFeature(e,"RETRY_MODE_STANDARD","E"):hr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(j3)&&hr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":hr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":hr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":hr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&hr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))hr.setFeature(e,i,a)}}var VC="user-agent",ay="x-amz-user-agent",zC=" ",cy="/",V3=/[^!$%&'*+\-.^_`|~\w]/g,z3=/[^!$%&'*+\-.^_`|~\w#]/g,WC="-",W3=1024;function K3(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=W3){t.length?t+=","+n:t+=n;continue}break}return t}var YC=e=>(t,r)=>async n=>{let{request:o}=n;if(!F3.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Fu)||[],a=(await e.defaultUserAgentProvider()).map(Fu);await q3(r,e,n);let u=r;a.push(`m/${K3(Object.assign({},r.__smithy_context?.features,u.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(Fu)||[],g=await e.userAgentAppId();g&&a.push(Fu(["app",`${g}`]));let h=B3.getUserAgentPrefix(),E=(h?[h]:[]).concat([...a,...i,...d]).join(zC),y=[...a.filter(b=>b.startsWith("aws-sdk-")),...d].join(zC);return e.runtime!=="browser"?(y&&(s[ay]=s[ay]?`${s[VC]} ${y}`:y),s[VC]=E):s[ay]=E,t({...n,request:o})},Fu=e=>{let t=e[0].split(cy).map(i=>i.replace(V3,WC)).join(cy),r=e[1]?.replace(z3,WC),n=t.indexOf(cy),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,u)=>{switch(u){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},XC={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Y3=e=>({applyToStack:t=>{t.add(YC(e),XC)}});bs.DEFAULT_UA_APP_ID=KC;bs.getUserAgentMiddlewareOptions=XC;bs.getUserAgentPlugin=Y3;bs.resolveUserAgentConfig=H3;bs.userAgentMiddleware=YC});var QC=P(_s=>{"use strict";c();var X3=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},Q3=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};_s.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(_s.SelectorType||(_s.SelectorType={}));_s.booleanSelector=X3;_s.numberSelector=Q3});var wt=P(Xe=>{"use strict";c();var Gn=QC(),Gu=Ze(),J3=wn(),e0="AWS_USE_DUALSTACK_ENDPOINT",t0="use_dualstack_endpoint",Z3=!1,eV={environmentVariableSelector:e=>Gn.booleanSelector(e,e0,Gn.SelectorType.ENV),configFileSelector:e=>Gn.booleanSelector(e,t0,Gn.SelectorType.CONFIG),default:!1},r0="AWS_USE_FIPS_ENDPOINT",n0="use_fips_endpoint",tV=!1,rV={environmentVariableSelector:e=>Gn.booleanSelector(e,r0,Gn.SelectorType.ENV),configFileSelector:e=>Gn.booleanSelector(e,n0,Gn.SelectorType.CONFIG),default:!1},nV=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:Gu.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Gu.normalizeProvider(o??!1)})},oV=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},sV=e=>{let t=Gu.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?Gu.normalizeProvider(typeof r=="string"?o(r):r):()=>oV({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},o0="AWS_REGION",s0="region",iV={environmentVariableSelector:e=>e[o0],configFileSelector:e=>e[s0],default:()=>{throw new Error("Region is missing")}},aV={preferredFile:"credentials"},JC=new Set,cV=(e,t=J3.isValidHostLabel)=>{if(!JC.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else JC.add(e)},i0=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),uV=e=>i0(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,lV=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=uV(n);return cV(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return i0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},ZC=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,dV=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),pV=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",mV=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},fV=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=pV(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,u={useFipsEndpoint:t,useDualstackEndpoint:r},d=ZC(o[a]?.variants,u),g=ZC(s[i]?.variants,u),h=dV(a,{regionHostname:d,partitionHostname:g});if(h===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let E=mV(h,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:h,...E&&{signingRegion:E},...o[a]?.signingService&&{signingService:o[a].signingService}}};Xe.CONFIG_USE_DUALSTACK_ENDPOINT=t0;Xe.CONFIG_USE_FIPS_ENDPOINT=n0;Xe.DEFAULT_USE_DUALSTACK_ENDPOINT=Z3;Xe.DEFAULT_USE_FIPS_ENDPOINT=tV;Xe.ENV_USE_DUALSTACK_ENDPOINT=e0;Xe.ENV_USE_FIPS_ENDPOINT=r0;Xe.NODE_REGION_CONFIG_FILE_OPTIONS=aV;Xe.NODE_REGION_CONFIG_OPTIONS=iV;Xe.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=eV;Xe.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=rV;Xe.REGION_ENV_NAME=o0;Xe.REGION_INI_NAME=s0;Xe.getRegionInfo=fV;Xe.resolveCustomEndpointsConfig=nV;Xe.resolveEndpointsConfig=sV;Xe.resolveRegionConfig=lV});var Ts=P(Hu=>{"use strict";c();var hV=Te(),a0="content-length";function c0(e){return t=>async r=>{let n=r.request;if(hV.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(a0)===-1)try{let i=e(o);n.headers={...n.headers,[a0]:String(i)}}catch{}}return t({...r,request:n})}}var u0={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},gV=e=>({applyToStack:t=>{t.add(c0(e.bodyLengthChecker),u0)}});Hu.contentLengthMiddleware=c0;Hu.contentLengthMiddlewareOptions=u0;Hu.getContentLengthPlugin=gV});var ly=P(ju=>{"use strict";c();Object.defineProperty(ju,"__esModule",{value:!0});ju.getHomeDir=void 0;var yV=se("os"),EV=se("path"),uy={},SV=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",bV=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${EV.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=SV();return uy[o]||(uy[o]=(0,yV.homedir)()),uy[o]};ju.getHomeDir=bV});var dy=P(qu=>{"use strict";c();Object.defineProperty(qu,"__esModule",{value:!0});qu.getSSOTokenFilepath=void 0;var _V=se("crypto"),TV=se("path"),IV=ly(),wV=e=>{let r=(0,_V.createHash)("sha1").update(e).digest("hex");return(0,TV.join)((0,IV.getHomeDir)(),".aws","sso","cache",`${r}.json`)};qu.getSSOTokenFilepath=wV});var l0=P(Hn=>{"use strict";c();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.getSSOTokenFromFile=Hn.tokenIntercept=void 0;var AV=se("fs/promises"),CV=dy();Hn.tokenIntercept={};var xV=async e=>{if(Hn.tokenIntercept[e])return Hn.tokenIntercept[e];let t=(0,CV.getSSOTokenFilepath)(e),r=await(0,AV.readFile)(t,"utf8");return JSON.parse(r)};Hn.getSSOTokenFromFile=xV});var d0=P(Dt=>{"use strict";c();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.readFile=Dt.fileIntercept=Dt.filePromises=void 0;var vV=se("node:fs/promises");Dt.filePromises={};Dt.fileIntercept={};var RV=(e,t)=>Dt.fileIntercept[e]!==void 0?Dt.fileIntercept[e]:((!Dt.filePromises[e]||t?.ignoreCache)&&(Dt.filePromises[e]=(0,vV.readFile)(e,"utf8")),Dt.filePromises[e]);Dt.readFile=RV});var gr=P(Et=>{"use strict";c();var Ui=ly(),p0=dy(),py=l0(),Vu=se("path"),zu=En(),Is=d0(),f0="AWS_PROFILE",h0="default",DV=e=>e.profile||process.env[f0]||h0,Ro=".",PV=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ro);return r===-1?!1:Object.values(zu.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Ro),s=r.substring(0,o)===zu.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),NV="AWS_CONFIG_FILE",g0=()=>process.env[NV]||Vu.join(Ui.getHomeDir(),".aws","config"),OV="AWS_SHARED_CREDENTIALS_FILE",$V=()=>process.env[OV]||Vu.join(Ui.getHomeDir(),".aws","credentials"),kV=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,LV=["__proto__","profile __proto__"],my=e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),u=kV.exec(a);if(u){let[,d,,g]=u;Object.values(zu.IniSectionType).includes(d)&&(r=[d,g].join(Ro))}else r=a;if(LV.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[u,d]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(d==="")n=u;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let g=n?[n,u].join(Ro):u;t[r][g]=d}}}}return t},m0=()=>({}),y0=async(e={})=>{let{filepath:t=$V(),configFilepath:r=g0()}=e,n=Ui.getHomeDir(),o="~/",s=t;t.startsWith(o)&&(s=Vu.join(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=Vu.join(n,r.slice(2)));let a=await Promise.all([Is.readFile(i,{ignoreCache:e.ignoreCache}).then(my).then(PV).catch(m0),Is.readFile(s,{ignoreCache:e.ignoreCache}).then(my).catch(m0)]);return{configFile:a[0],credentialsFile:a[1]}},MV=e=>Object.entries(e).filter(([t])=>t.startsWith(zu.IniSectionType.SSO_SESSION+Ro)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ro)+1)]:n}),{}),UV=()=>({}),BV=async(e={})=>Is.readFile(e.configFilepath??g0()).then(my).then(MV).catch(UV),FV=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},GV=async e=>{let t=await y0(e);return FV(t.configFile,t.credentialsFile)},HV={getFileRecord(){return Is.fileIntercept},interceptFile(e,t){Is.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return py.tokenIntercept},interceptToken(e,t){py.tokenIntercept[e]=t}};Object.defineProperty(Et,"getSSOTokenFromFile",{enumerable:!0,get:function(){return py.getSSOTokenFromFile}});Object.defineProperty(Et,"readFile",{enumerable:!0,get:function(){return Is.readFile}});Et.CONFIG_PREFIX_SEPARATOR=Ro;Et.DEFAULT_PROFILE=h0;Et.ENV_PROFILE=f0;Et.externalDataInterceptor=HV;Et.getProfileName=DV;Et.loadSharedConfigFiles=y0;Et.loadSsoSessionData=BV;Et.parseKnownFiles=GV;Object.keys(Ui).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Et,e)&&Object.defineProperty(Et,e,{enumerable:!0,get:function(){return Ui[e]}})});Object.keys(p0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Et,e)&&Object.defineProperty(Et,e,{enumerable:!0,get:function(){return p0[e]}})})});var yr=P(b0=>{"use strict";c();var Bi=ot(),E0=gr();function S0(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var jV=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Bi.CredentialsProviderError(r.message||`Not found in ENV: ${S0(e.toString())}`,{logger:t?.logger})}},qV=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=E0.getProfileName(r),{configFile:o,credentialsFile:s}=await E0.loadSharedConfigFiles(r),i=s[n]||{},a=o[n]||{},u=t==="config"?{...i,...a}:{...a,...i};try{let g=e(u,t==="config"?o:s);if(g===void 0)throw new Error;return g}catch(d){throw new Bi.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${S0(e.toString())}`,{logger:r.logger})}},VV=e=>typeof e=="function",zV=e=>VV(e)?async()=>await e():Bi.fromStatic(e),WV=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return Bi.memoize(Bi.chain(jV(e,i),qV(t,n),zV(r)))};b0.loadConfig=WV});var w0=P(Wu=>{"use strict";c();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.getEndpointUrlConfig=void 0;var _0=gr(),T0="AWS_ENDPOINT_URL",I0="endpoint_url",KV=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[T0,...r].join("_")];if(n)return n;let o=t[T0];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(_0.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),I0].join(_0.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[I0];if(n)return n},default:void 0});Wu.getEndpointUrlConfig=KV});var A0=P(Ku=>{"use strict";c();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.getEndpointFromConfig=void 0;var YV=yr(),XV=w0(),QV=async e=>(0,YV.loadConfig)((0,XV.getEndpointUrlConfig)(e??""))();Ku.getEndpointFromConfig=QV});var Er=P(Zr=>{"use strict";c();var x0=A0(),C0=qr(),JV=(tt(),Z(To)),Yu=Ze(),ZV=_f(),e4=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),s4(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!o4(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},t4=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,r4=/(\d+\.){3}\d+/,n4=/\.\./,o4=e=>t4.test(e)&&!r4.test(e)&&!n4.test(e),s4=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},i4=(e,t,r,n=!1)=>{let o=async()=>{let s;return n?s=r.clientContextParams?.[e]??r[e]??r[t]:s=r[e]??r[t],typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await o();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:u,path:d}=s;return`${i}//${a}${u?":"+u:""}${d}`}}return s}:o},fy=e=>typeof e=="object"?"url"in e?C0.parseUrl(e.url):e:C0.parseUrl(e),v0=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await x0.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(fy(i)),r.isCustomEndpoint=!0)}let o=await R0(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},R0=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await i4(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await e4(n),n},D0=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&JV.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await v0(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let u=Yu.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},P0={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ZV.serializerMiddlewareOption.name},a4=(e,t)=>({applyToStack:r=>{r.addRelativeTo(D0({config:e,instructions:t}),P0)}}),c4=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>fy(await Yu.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Yu.normalizeProvider(n??!1),useFipsEndpoint:Yu.normalizeProvider(o??!1)}),u;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!u&&(u=x0.getEndpointFromConfig(e.serviceId)),u),a},u4=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Zr.endpointMiddleware=D0;Zr.endpointMiddlewareOptions=P0;Zr.getEndpointFromInstructions=v0;Zr.getEndpointPlugin=a4;Zr.resolveEndpointConfig=c4;Zr.resolveEndpointRequiredConfig=u4;Zr.resolveParams=R0;Zr.toEndpointV1=fy});var gy=P(jn=>{"use strict";c();var l4=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],d4=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],p4=["TimeoutError","RequestTimeout","RequestTimeoutException"],m4=[500,502,503,504],f4=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],h4=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],N0=e=>e?.$retryable!==void 0,g4=e=>l4.includes(e.name),O0=e=>e.$metadata?.clockSkewCorrected,$0=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},y4=e=>e.$metadata?.httpStatusCode===429||d4.includes(e.name)||e.$retryable?.throttling==!0,hy=(e,t=0)=>N0(e)||O0(e)||p4.includes(e.name)||f4.includes(e?.code||"")||h4.includes(e?.code||"")||m4.includes(e.$metadata?.httpStatusCode||0)||$0(e)||e.cause!==void 0&&t<=10&&hy(e.cause,t+1),E4=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!hy(e)}return!1};jn.isBrowserNetworkError=$0;jn.isClockSkewCorrectedError=O0;jn.isClockSkewError=g4;jn.isRetryableByTrait=N0;jn.isServerError=E4;jn.isThrottlingError=y4;jn.isTransientError=hy});var Do=P(Oe=>{"use strict";c();var S4=gy();Oe.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Oe.RETRY_MODES||(Oe.RETRY_MODES={}));var yy=3,b4=Oe.RETRY_MODES.STANDARD,Xu=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),S4.isThrottlingError(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Fi=100,_y=20*1e3,L0=500,Ey=500,M0=5,U0=10,B0=1,_4="amz-sdk-invocation-id",T4="amz-sdk-request",I4=()=>{let e=Fi;return{computeNextBackoffDelay:n=>Math.floor(Math.min(_y,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},k0=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(_y,e),getRetryCost:()=>r}),Gi=class{maxAttempts;mode=Oe.RETRY_MODES.STANDARD;capacity=Ey;retryBackoffStrategy=I4();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return k0({retryDelay:Fi,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?L0:Fi);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,k0({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ey,this.capacity+(t.getRetryCost()??B0))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${yy}`),yy}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?U0:M0}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Sy=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Oe.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Xu,this.standardRetryStrategy=new Gi(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},by=class extends Gi{computeNextBackoffDelay;constructor(t,r=Fi){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Oe.AdaptiveRetryStrategy=Sy;Oe.ConfiguredRetryStrategy=by;Oe.DEFAULT_MAX_ATTEMPTS=yy;Oe.DEFAULT_RETRY_DELAY_BASE=Fi;Oe.DEFAULT_RETRY_MODE=b4;Oe.DefaultRateLimiter=Xu;Oe.INITIAL_RETRY_TOKENS=Ey;Oe.INVOCATION_ID_HEADER=_4;Oe.MAXIMUM_RETRY_DELAY=_y;Oe.NO_RETRY_INCREMENT=B0;Oe.REQUEST_HEADER=T4;Oe.RETRY_COST=M0;Oe.StandardRetryStrategy=Gi;Oe.THROTTLING_RETRY_DELAY_BASE=L0;Oe.TIMEOUT_RETRY_COST=U0});var F0=P(Qu=>{"use strict";c();Object.defineProperty(Qu,"__esModule",{value:!0});Qu.isStreamingPayload=void 0;var w4=se("stream"),A4=e=>e?.body instanceof w4.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Qu.isStreamingPayload=A4});var Jt=P(qe=>{"use strict";c();var Ne=Do(),ws=Te(),qn=gy(),H0=Th(),G0=Ze(),C4=te(),x4=F0(),v4=(e,t)=>{let r=e,n=Ne.NO_RETRY_INCREMENT,o=Ne.RETRY_COST,s=Ne.TIMEOUT_RETRY_COST,i=e,a=h=>h.name==="TimeoutError"?s:o,u=h=>a(h)<=i;return Object.freeze({hasRetryTokens:u,retrieveRetryTokens:h=>{if(!u(h))throw new Error("No retry token available");let E=a(h);return i-=E,E},releaseRetryTokens:h=>{i+=h??n,i=Math.min(i,r)}})},j0=(e,t)=>Math.floor(Math.min(Ne.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),q0=e=>e?qn.isRetryableByTrait(e)||qn.isClockSkewError(e)||qn.isThrottlingError(e)||qn.isTransientError(e):!1,V0=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Ju=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Ne.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??q0,this.delayDecider=r?.delayDecider??j0,this.retryQuota=r?.retryQuota??v4(Ne.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Ne.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:u}=r;for(ws.HttpRequest.isInstance(u)&&(u.headers[Ne.INVOCATION_ID_HEADER]=H0.v4());;)try{ws.HttpRequest.isInstance(u)&&(u.headers[Ne.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:g}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),g.$metadata.attempts=s+1,g.$metadata.totalRetryDelay=i,{response:d,output:g}}catch(d){let g=V0(d);if(s++,this.shouldRetry(g,s,a)){o=this.retryQuota.retrieveRetryTokens(g);let h=this.delayDecider(qn.isThrottlingError(g)?Ne.THROTTLING_RETRY_DELAY_BASE:Ne.DEFAULT_RETRY_DELAY_BASE,s),E=R4(g.$response),y=Math.max(E||0,h);i+=y,await new Promise(b=>setTimeout(b,y));continue}throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=s,g.$metadata.totalRetryDelay=i,g}}},R4=e=>{if(!ws.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Ty=class extends Ju{rateLimiter;constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new Ne.DefaultRateLimiter,this.mode=Ne.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Iy="AWS_MAX_ATTEMPTS",wy="max_attempts",D4={environmentVariableSelector:e=>{let t=e[Iy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Iy} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[wy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${wy} mast be a number, got "${t}"`);return r},default:Ne.DEFAULT_MAX_ATTEMPTS},P4=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=G0.normalizeProvider(n??Ne.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await G0.normalizeProvider(r)()===Ne.RETRY_MODES.ADAPTIVE?new Ne.AdaptiveRetryStrategy(o):new Ne.StandardRetryStrategy(o))})},z0="AWS_RETRY_MODE",W0="retry_mode",N4={environmentVariableSelector:e=>e[z0],configFileSelector:e=>e[W0],default:Ne.DEFAULT_RETRY_MODE},K0=()=>e=>async t=>{let{request:r}=t;return ws.HttpRequest.isInstance(r)&&(delete r.headers[Ne.INVOCATION_ID_HEADER],delete r.headers[Ne.REQUEST_HEADER]),e(t)},Y0={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},O4=e=>({applyToStack:t=>{t.addRelativeTo(K0(),Y0)}}),X0=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if($4(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,d=0,{request:g}=n,h=ws.HttpRequest.isInstance(g);for(h&&(g.headers[Ne.INVOCATION_ID_HEADER]=H0.v4());;)try{h&&(g.headers[Ne.REQUEST_HEADER]=`attempt=${u+1}; max=${s}`);let{response:E,output:y}=await t(n);return o.recordSuccess(i),y.$metadata.attempts=u+1,y.$metadata.totalRetryDelay=d,{response:E,output:y}}catch(E){let y=k4(E);if(a=V0(E),h&&x4.isStreamingPayload(g))throw(r.logger instanceof C4.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,y)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=d,a}u=i.getRetryCount();let b=i.getRetryDelay();d+=b,await new Promise(C=>setTimeout(C,b))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},$4=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",k4=e=>{let t={error:e,errorType:L4(e)},r=J0(e.$response);return r&&(t.retryAfterHint=r),t},L4=e=>qn.isThrottlingError(e)?"THROTTLING":qn.isTransientError(e)?"TRANSIENT":qn.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",Q0={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},M4=e=>({applyToStack:t=>{t.add(X0(e),Q0)}}),J0=e=>{if(!ws.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};qe.AdaptiveRetryStrategy=Ty;qe.CONFIG_MAX_ATTEMPTS=wy;qe.CONFIG_RETRY_MODE=W0;qe.ENV_MAX_ATTEMPTS=Iy;qe.ENV_RETRY_MODE=z0;qe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=D4;qe.NODE_RETRY_MODE_CONFIG_OPTIONS=N4;qe.StandardRetryStrategy=Ju;qe.defaultDelayDecider=j0;qe.defaultRetryDecider=q0;qe.getOmitRetryHeadersPlugin=O4;qe.getRetryAfterHint=J0;qe.getRetryPlugin=M4;qe.omitRetryHeadersMiddleware=K0;qe.omitRetryHeadersMiddlewareOptions=Y0;qe.resolveRetryConfig=P4;qe.retryMiddleware=X0;qe.retryMiddlewareOptions=Q0});var Cy=P(Vn=>{"use strict";c();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.resolveHttpAuthSchemeConfig=Vn.defaultDynamoDBHttpAuthSchemeProvider=Vn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var U4=(We(),Z(Jr)),Ay=Ze(),B4=async(e,t,r)=>({operation:(0,Ay.getSmithyContext)(t).operation,region:await(0,Ay.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Vn.defaultDynamoDBHttpAuthSchemeParametersProvider=B4;function F4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var G4=e=>{let t=[];switch(e.operation){default:t.push(F4(e))}return t};Vn.defaultDynamoDBHttpAuthSchemeProvider=G4;var H4=e=>{let t=(0,U4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Ay.normalizeProvider)(e.authSchemePreference??[])})};Vn.resolveHttpAuthSchemeConfig=H4});var Z0=P((tge,j4)=>{j4.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.974.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/credential-provider-node":"^3.972.1","@aws-sdk/dynamodb-codec":"^3.972.1","@aws-sdk/middleware-endpoint-discovery":"^3.972.1","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.8",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var xy=P(zn=>{"use strict";c();var q4=(Bt(),Z(Vr)),V4=ot(),ex="AWS_ACCESS_KEY_ID",tx="AWS_SECRET_ACCESS_KEY",rx="AWS_SESSION_TOKEN",nx="AWS_CREDENTIAL_EXPIRATION",ox="AWS_CREDENTIAL_SCOPE",sx="AWS_ACCOUNT_ID",z4=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[ex],r=process.env[tx],n=process.env[rx],o=process.env[nx],s=process.env[ox],i=process.env[sx];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return q4.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new V4.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};zn.ENV_ACCOUNT_ID=sx;zn.ENV_CREDENTIAL_SCOPE=ox;zn.ENV_EXPIRATION=nx;zn.ENV_KEY=ex;zn.ENV_SECRET=tx;zn.ENV_SESSION=rx;zn.fromEnv=z4});var ji=P(it=>{"use strict";c();var Sr=ot(),W4=se("url"),K4=se("buffer"),Y4=se("http"),Ny=yr(),X4=qr();function Hi(e){return new Promise((t,r)=>{let n=Y4.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Sr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Sr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Sr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(K4.Buffer.concat(i)),n.destroy()})}),n.end()})}var ux=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",lx=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),dx=1e3,px=0,Oy=({maxRetries:e=px,timeout:t=dx})=>({maxRetries:e,timeout:t}),Ry=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},Zu="AWS_CONTAINER_CREDENTIALS_FULL_URI",el="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Dy="AWS_CONTAINER_AUTHORIZATION_TOKEN",Q4=(e={})=>{let{timeout:t,maxRetries:r}=Oy(e);return()=>Ry(async()=>{let n=await rz({logger:e.logger}),o=JSON.parse(await J4(t,n));if(!ux(o))throw new Sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return lx(o)},r)},J4=async(e,t)=>(process.env[Dy]&&(t.headers={...t.headers,Authorization:process.env[Dy]}),(await Hi({...t,timeout:e})).toString()),Z4="169.254.170.2",ez={localhost:!0,"127.0.0.1":!0},tz={"http:":!0,"https:":!0},rz=async({logger:e})=>{if(process.env[el])return{hostname:Z4,path:process.env[el]};if(process.env[Zu]){let t=W4.parse(process.env[Zu]);if(!t.hostname||!(t.hostname in ez))throw new Sr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in tz))throw new Sr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Sr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${el} or ${Zu} environment variable is set`,{tryNextLink:!1,logger:e})},Py=class e extends Sr.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};it.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(it.Endpoint||(it.Endpoint={}));var nz="AWS_EC2_METADATA_SERVICE_ENDPOINT",oz="ec2_metadata_service_endpoint",sz={environmentVariableSelector:e=>e[nz],configFileSelector:e=>e[oz],default:void 0},As;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(As||(As={}));var iz="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",az="ec2_metadata_service_endpoint_mode",cz={environmentVariableSelector:e=>e[iz],configFileSelector:e=>e[az],default:As.IPv4},mx=async()=>X4.parseUrl(await uz()||await lz()),uz=async()=>Ny.loadConfig(sz)(),lz=async()=>{let e=await Ny.loadConfig(cz)();switch(e){case As.IPv4:return it.Endpoint.IPv4;case As.IPv6:return it.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(As)}`)}},dz=300,pz=300,mz="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",ix=(e,t)=>{let r=dz+Math.floor(Math.random()*pz),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+mz);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},fz=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=ix(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=ix(n,r);else throw s}return n=o,o}},fx="/latest/meta-data/iam/security-credentials/",hz="/latest/api/token",vy="AWS_EC2_METADATA_V1_DISABLED",ax="ec2_metadata_v1_disabled",cx="x-aws-ec2-metadata-token",gz=(e={})=>fz(yz(e),{logger:e.logger}),yz=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=Oy(e),i=async(a,u)=>{if(t||u.headers?.[cx]==null){let h=!1,E=!1,y=await Ny.loadConfig({environmentVariableSelector:b=>{let C=b[vy];if(E=!!C&&C!=="false",C===void 0)throw new Sr.CredentialsProviderError(`${vy} not set in env, checking config file next.`,{logger:e.logger});return E},configFileSelector:b=>{let C=b[ax];return h=!!C&&C!=="false",h},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||y){let b=[];throw e.ec2MetadataV1Disabled&&b.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),h&&b.push(`config file profile (${ax})`),E&&b.push(`process environment variable (${vy})`),new Py(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${b.join(", ")}].`)}}let g=(await Ry(async()=>{let h;try{h=await Sz(u)}catch(E){throw E.statusCode===401&&(t=!1),E}return h},a)).trim();return Ry(async()=>{let h;try{h=await bz(g,u,e)}catch(E){throw E.statusCode===401&&(t=!1),E}return h},a)};return async()=>{let a=await mx();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let u;try{u=(await Ez({...a,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[cx]:u},timeout:o})}}},Ez=async e=>Hi({...e,path:hz,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Sz=async e=>(await Hi({...e,path:fx})).toString(),bz=async(e,t,r)=>{let n=JSON.parse((await Hi({...t,path:fx+e})).toString());if(!ux(n))throw new Sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return lx(n)};it.DEFAULT_MAX_RETRIES=px;it.DEFAULT_TIMEOUT=dx;it.ENV_CMDS_AUTH_TOKEN=Dy;it.ENV_CMDS_FULL_URI=Zu;it.ENV_CMDS_RELATIVE_URI=el;it.fromContainerMetadata=Q4;it.fromInstanceMetadata=gz;it.getInstanceMetadataEndpoint=mx;it.httpRequest=Hi;it.providerConfigFromInit=Oy});var hx=P(tl=>{"use strict";c();Object.defineProperty(tl,"__esModule",{value:!0});tl.checkUrl=void 0;var _z=ot(),Tz="169.254.170.2",Iz="169.254.170.23",wz="[fd00:ec2::23]",Az=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Tz||e.hostname===Iz||e.hostname===wz)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new _z.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};tl.checkUrl=Az});var gx=P(rl=>{"use strict";c();Object.defineProperty(rl,"__esModule",{value:!0});rl.createGetRequest=Rz;rl.getCredentials=Dz;var $y=ot(),Cz=Te(),xz=te(),vz=$c();function Rz(e){return new Cz.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Dz(e,t){let n=await(0,vz.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new $y.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,xz.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new $y.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new $y.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var yx=P(nl=>{"use strict";c();Object.defineProperty(nl,"__esModule",{value:!0});nl.retryWrapper=void 0;var Pz=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};nl.retryWrapper=Pz});var bx=P(ol=>{"use strict";c();Object.defineProperty(ol,"__esModule",{value:!0});ol.fromHttp=void 0;var Nz=(Ai(),Z(wi)),Oz=(Bt(),Z(Vr)),$z=_n(),Ex=ot(),kz=Nz.__importDefault(se("fs/promises")),Lz=hx(),Sx=gx(),Mz=yx(),Uz="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Bz="http://169.254.170.2",Fz="AWS_CONTAINER_CREDENTIALS_FULL_URI",Gz="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Hz="AWS_CONTAINER_AUTHORIZATION_TOKEN",jz=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Uz],n=e.awsContainerCredentialsFullUri??process.env[Fz],o=e.awsContainerAuthorizationToken??process.env[Hz],s=e.awsContainerAuthorizationTokenFile??process.env[Gz],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Bz}${r}`;else throw new Ex.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Lz.checkUrl)(a,e.logger);let u=$z.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Mz.retryWrapper)(async()=>{let d=(0,Sx.createGetRequest)(a);o?d.headers.Authorization=o:s&&(d.headers.Authorization=(await kz.default.readFile(s)).toString());try{let g=await u.handle(d);return(0,Sx.getCredentials)(g.response).then(h=>(0,Oz.setCredentialFeature)(h,"CREDENTIALS_HTTP","z"))}catch(g){throw new Ex.CredentialsProviderError(String(g),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};ol.fromHttp=jz});var ky=P(sl=>{"use strict";c();Object.defineProperty(sl,"__esModule",{value:!0});sl.fromHttp=void 0;var qz=bx();Object.defineProperty(sl,"fromHttp",{enumerable:!0,get:function(){return qz.fromHttp}})});function Vz(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function zz(e){return{schemeId:"smithy.api#noAuth"}}var qi,_x,Tx,Ix,Ly=T(()=>{c();We();qi=A(Ze()),_x=async(e,t,r)=>({operation:(0,qi.getSmithyContext)(t).operation,region:await(0,qi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Tx=e=>{let t=[];return e.operation==="CreateToken"?t.push(zz(e)):t.push(Vz(e)),t},Ix=e=>{let t=zr(e);return Object.assign(t,{authSchemePreference:(0,qi.normalizeProvider)(e.authSchemePreference??[])})}});var wx,Ax,My=T(()=>{c();wx=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Ax={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Cs,il=T(()=>{Cs={name:"@aws-sdk/nested-clients",version:"3.974.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var xs=P(Po=>{"use strict";c();var Cx=se("os"),Uy=se("process"),Kz=vo(),xx={isCrtAvailable:!1},Yz=()=>xx.isCrtAvailable?["md/crt-avail"]:null,vx=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${Cx.platform()}`,Cx.release()],["lang/js"],["md/nodejs",`${Uy.versions.node}`]],o=Yz();o&&n.push(o),e&&n.push([`api/${e}`,t]),Uy.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Uy.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},Xz=vx,Rx="AWS_SDK_UA_APP_ID",Dx="sdk_ua_app_id",Qz="sdk-ua-app-id",Jz={environmentVariableSelector:e=>e[Rx],configFileSelector:e=>e[Dx]??e[Qz],default:Kz.DEFAULT_UA_APP_ID};Po.NODE_APP_ID_CONFIG_OPTIONS=Jz;Po.UA_APP_ID_ENV_NAME=Rx;Po.UA_APP_ID_INI_NAME=Dx;Po.createDefaultUserAgentProvider=vx;Po.crtAvailability=xx;Po.defaultUserAgent=Xz});var vs=P(Ox=>{"use strict";c();var By=Qo(),Zz=Ve(),eW=se("buffer"),Px=se("crypto"),Fy=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(Zz.toUint8Array(Nx(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?Px.createHmac(this.algorithmIdentifier,Nx(this.secret)):Px.createHash(this.algorithmIdentifier)}};function Nx(e,t){return eW.Buffer.isBuffer(e)?e:typeof e=="string"?By.fromString(e,t):ArrayBuffer.isView(e)?By.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):By.fromArrayBuffer(e)}Ox.Hash=Fy});var Rs=P($x=>{"use strict";c();var Gy=se("node:fs"),tW=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Gy.ReadStream){if(e.path!=null)return Gy.lstatSync(e.path).size;if(typeof e.fd=="number")return Gy.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};$x.calculateBodyLength=tW});var Ds=P(Ux=>{"use strict";c();var rW=wt(),kx=yr(),nW=ot(),oW="AWS_EXECUTION_ENV",Lx="AWS_REGION",Mx="AWS_DEFAULT_REGION",sW="AWS_EC2_METADATA_DISABLED",iW=["in-region","cross-region","mobile","standard","legacy"],aW="/latest/meta-data/placement/region",cW="AWS_DEFAULTS_MODE",uW="defaults_mode",lW={environmentVariableSelector:e=>e[cW],configFileSelector:e=>e[uW],default:"legacy"},dW=({region:e=kx.loadConfig(rW.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=kx.loadConfig(lW)}={})=>nW.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return pW(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${iW.join(", ")}, got ${r}`)}}),pW=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await mW();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},mW=async()=>{if(process.env[oW]&&(process.env[Lx]||process.env[Mx]))return process.env[Lx]??process.env[Mx];if(!process.env[sW])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>A(ji())),r=await e();return(await t({...r,path:aW})).toString()}catch{}};Ux.resolveDefaultsModeConfig=dW});var Kx,Ht,Bx,Vi,Ps,Ns,en,Hy,jy,Fx,Gx,Hx,Yx,Xx,Gt,jx,Qx,qx,Vx,zx,Wx,fW,Jx,Zx=T(()=>{c();Kx="required",Ht="argv",Bx="isSet",Vi="booleanEquals",Ps="error",Ns="endpoint",en="tree",Hy="PartitionResult",jy="getAttr",Fx={[Kx]:!1,type:"string"},Gx={[Kx]:!0,default:!1,type:"boolean"},Hx={ref:"Endpoint"},Yx={fn:Vi,[Ht]:[{ref:"UseFIPS"},!0]},Xx={fn:Vi,[Ht]:[{ref:"UseDualStack"},!0]},Gt={},jx={fn:jy,[Ht]:[{ref:Hy},"supportsFIPS"]},Qx={ref:Hy},qx={fn:Vi,[Ht]:[!0,{fn:jy,[Ht]:[Qx,"supportsDualStack"]}]},Vx=[Yx],zx=[Xx],Wx=[{ref:"Region"}],fW={version:"1.0",parameters:{Region:Fx,UseDualStack:Gx,UseFIPS:Gx,Endpoint:Fx},rules:[{conditions:[{fn:Bx,[Ht]:[Hx]}],rules:[{conditions:Vx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ps},{conditions:zx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ps},{endpoint:{url:Hx,properties:Gt,headers:Gt},type:Ns}],type:en},{conditions:[{fn:Bx,[Ht]:Wx}],rules:[{conditions:[{fn:"aws.partition",[Ht]:Wx,assign:Hy}],rules:[{conditions:[Yx,Xx],rules:[{conditions:[{fn:Vi,[Ht]:[!0,jx]},qx],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gt,headers:Gt},type:Ns}],type:en},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ps}],type:en},{conditions:Vx,rules:[{conditions:[{fn:Vi,[Ht]:[jx,!0]}],rules:[{conditions:[{fn:"stringEquals",[Ht]:[{fn:jy,[Ht]:[Qx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Gt,headers:Gt},type:Ns},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Gt,headers:Gt},type:Ns}],type:en},{error:"FIPS is enabled but this partition does not support FIPS",type:Ps}],type:en},{conditions:zx,rules:[{conditions:[qx],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gt,headers:Gt},type:Ns}],type:en},{error:"DualStack is enabled but this partition does not support DualStack",type:Ps}],type:en},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Gt,headers:Gt},type:Ns}],type:en}],type:en},{error:"Invalid Configuration: Missing Region",type:Ps}]},Jx=fW});var ev,Os,hW,tv,rv=T(()=>{c();ev=A(wo()),Os=A(wn());Zx();hW=new Os.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),tv=(e,t={})=>hW.get(e,()=>(0,Os.resolveEndpoint)(Jx,{endpointParams:e,logger:t.logger}));Os.customEndpointFunctions.aws=ev.awsEndpointFunctions});var nv,ov,al,cl,sv,iv=T(()=>{c();We();Fn();tt();nv=A(te()),ov=A(qr()),al=A(je()),cl=A(Ve());Ly();rv();sv=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??al.fromBase64,base64Encoder:e?.base64Encoder??al.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tv,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Tx,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new nt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Xt}],logger:e?.logger??new nv.NoOpLogger,protocol:e?.protocol??Mn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??ov.parseUrl,utf8Decoder:e?.utf8Decoder??cl.fromUtf8,utf8Encoder:e?.utf8Encoder??cl.toUtf8})});var ul,Kn,av,ll,Wn,dl,pl,cv,uv,lv,dv,pv=T(()=>{c();il();We();ul=A(xs()),Kn=A(wt()),av=A(vs()),ll=A(Jt()),Wn=A(yr()),dl=A(_n()),pl=A(te()),cv=A(Rs()),uv=A(Ds()),lv=A(Do());iv();dv=e=>{(0,pl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,uv.resolveDefaultsModeConfig)(e),r=()=>t().then(pl.loadConfigsForDefaultMode),n=sv(e);An(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Wn.loadConfig)(xn,o),bodyLengthChecker:e?.bodyLengthChecker??cv.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ul.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Cs.version}),maxAttempts:e?.maxAttempts??(0,Wn.loadConfig)(ll.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Wn.loadConfig)(Kn.NODE_REGION_CONFIG_OPTIONS,{...Kn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:dl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Wn.loadConfig)({...ll.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||lv.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??av.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??dl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Wn.loadConfig)(Kn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Wn.loadConfig)(Kn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Wn.loadConfig)(ul.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var fv=P($s=>{"use strict";c();Object.defineProperty($s,"__esModule",{value:!0});$s.warning=void 0;$s.stsRegionDefaultResolver=yW;var mv=wt(),gW=yr();function yW(e={}){return(0,gW.loadConfig)({...mv.NODE_REGION_CONFIG_OPTIONS,async default(){return $s.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...mv.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}$s.warning={silence:!1}});var No=P(br=>{"use strict";c();var hv=fv(),zi=wt(),EW=e=>({setRegion(t){e.region=t},region(){return e.region}}),SW=e=>({region:e.region()});Object.defineProperty(br,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return zi.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(br,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return zi.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(br,"REGION_ENV_NAME",{enumerable:!0,get:function(){return zi.REGION_ENV_NAME}});Object.defineProperty(br,"REGION_INI_NAME",{enumerable:!0,get:function(){return zi.REGION_INI_NAME}});Object.defineProperty(br,"resolveRegionConfig",{enumerable:!0,get:function(){return zi.resolveRegionConfig}});br.getAwsRegionExtensionConfiguration=EW;br.resolveAwsRegionExtensionConfiguration=SW;Object.keys(hv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(br,e)&&Object.defineProperty(br,e,{enumerable:!0,get:function(){return hv[e]}})})});var gv,yv,Ev=T(()=>{c();gv=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},yv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ml,fl,hl,Sv,bv=T(()=>{c();ml=A(No()),fl=A(Te()),hl=A(te());Ev();Sv=(e,t)=>{let r=Object.assign((0,ml.getAwsRegionExtensionConfiguration)(e),(0,hl.getDefaultExtensionConfiguration)(e),(0,fl.getHttpHandlerExtensionConfiguration)(e),gv(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ml.resolveAwsRegionExtensionConfiguration)(r),(0,hl.resolveDefaultRuntimeConfig)(r),(0,fl.resolveHttpHandlerRuntimeConfig)(r),yv(r))}});var gl,_v,Tv,yl,Iv,wv,Av,El,qy,Wi,Vy=T(()=>{c();gl=A(Wo()),_v=A(Ko()),Tv=A(Yo()),yl=A(vo()),Iv=A(wt());tt();ge();wv=A(Ts()),Av=A(Er()),El=A(Jt()),qy=A(te());Ly();My();pv();bv();Wi=class extends qy.Client{config;constructor(...[t]){let r=dv(t||{});super(r),this.initConfig=r;let n=wx(r),o=(0,yl.resolveUserAgentConfig)(n),s=(0,El.resolveRetryConfig)(o),i=(0,Iv.resolveRegionConfig)(s),a=(0,gl.resolveHostHeaderConfig)(i),u=(0,Av.resolveEndpointConfig)(a),d=Ix(u),g=Sv(d,t?.extensions||[]);this.config=g,this.middlewareStack.use(ho(this.config)),this.middlewareStack.use((0,yl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,El.getRetryPlugin)(this.config)),this.middlewareStack.use((0,wv.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,gl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_v.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Tv.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(mo(this.config,{httpAuthSchemeParametersProvider:_x,identityProviderConfigProvider:async h=>new jr({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(fo(this.config))}destroy(){super.destroy()}}});var Cv,Ke,Sl=T(()=>{c();Cv=A(te()),Ke=class e extends Cv.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ki,Yi,Xi,Qi,Ji,Zi,ea,ta,ra,na,oa,zy=T(()=>{c();Sl();Ki=class e extends Ke{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Yi=class e extends Ke{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Xi=class e extends Ke{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Qi=class e extends Ke{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ji=class e extends Ke{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Zi=class e extends Ke{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ea=class e extends Ke{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},ta=class e extends Ke{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ra=class e extends Ke{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},na=class e extends Ke{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},oa=class e extends Ke{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var bW,_W,TW,IW,wW,AW,CW,xW,vW,RW,DW,PW,NW,OW,$W,kW,LW,MW,UW,BW,_r,FW,GW,HW,jW,qW,$e,VW,Zt,zW,WW,er,KW,xv,vv,YW,XW,QW,Rv,JW,Se,ZW,eK,tK,rK,Dv,Pv,Nv,Ov,$v,kv,Lv,Mv,Uv,Bv,Fv,Gv,Hv,jv,qv,Wy,Ky=T(()=>{c();ge();zy();Sl();bW="AccessDeniedException",_W="AuthorizationPendingException",TW="AccessToken",IW="ClientSecret",wW="CreateToken",AW="CreateTokenRequest",CW="CreateTokenResponse",xW="CodeVerifier",vW="ExpiredTokenException",RW="InvalidClientException",DW="InvalidGrantException",PW="InvalidRequestException",NW="InternalServerException",OW="InvalidScopeException",$W="IdToken",kW="RefreshToken",LW="SlowDownException",MW="UnauthorizedClientException",UW="UnsupportedGrantTypeException",BW="accessToken",_r="client",FW="clientId",GW="clientSecret",HW="codeVerifier",jW="code",qW="deviceCode",$e="error",VW="expiresIn",Zt="error_description",zW="grantType",WW="http",er="httpError",KW="idToken",xv="reason",vv="refreshToken",YW="redirectUri",XW="scope",QW="server",Rv="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",JW="tokenType",Se="com.amazonaws.ssooidc",ZW=[0,Se,TW,8,0],eK=[0,Se,IW,8,0],tK=[0,Se,xW,8,0],rK=[0,Se,$W,8,0],Dv=[0,Se,kW,8,0],Pv=[-3,Se,bW,{[$e]:_r,[er]:400},[$e,xv,Zt],[0,0,0]];z.for(Se).registerError(Pv,Ki);Nv=[-3,Se,_W,{[$e]:_r,[er]:400},[$e,Zt],[0,0]];z.for(Se).registerError(Nv,Yi);Ov=[3,Se,AW,0,[FW,GW,zW,qW,jW,vv,XW,YW,HW],[0,[()=>eK,0],0,0,0,[()=>Dv,0],64,0,[()=>tK,0]],3],$v=[3,Se,CW,0,[BW,JW,VW,vv,KW],[[()=>ZW,0],0,1,[()=>Dv,0],[()=>rK,0]]],kv=[-3,Se,vW,{[$e]:_r,[er]:400},[$e,Zt],[0,0]];z.for(Se).registerError(kv,Xi);Lv=[-3,Se,NW,{[$e]:QW,[er]:500},[$e,Zt],[0,0]];z.for(Se).registerError(Lv,Qi);Mv=[-3,Se,RW,{[$e]:_r,[er]:401},[$e,Zt],[0,0]];z.for(Se).registerError(Mv,Ji);Uv=[-3,Se,DW,{[$e]:_r,[er]:400},[$e,Zt],[0,0]];z.for(Se).registerError(Uv,Zi);Bv=[-3,Se,PW,{[$e]:_r,[er]:400},[$e,xv,Zt],[0,0,0]];z.for(Se).registerError(Bv,ea);Fv=[-3,Se,OW,{[$e]:_r,[er]:400},[$e,Zt],[0,0]];z.for(Se).registerError(Fv,ta);Gv=[-3,Se,LW,{[$e]:_r,[er]:400},[$e,Zt],[0,0]];z.for(Se).registerError(Gv,ra);Hv=[-3,Se,MW,{[$e]:_r,[er]:400},[$e,Zt],[0,0]];z.for(Se).registerError(Hv,na);jv=[-3,Se,UW,{[$e]:_r,[er]:400},[$e,Zt],[0,0]];z.for(Se).registerError(jv,oa);qv=[-3,Rv,"SSOOIDCServiceException",0,[],[]];z.for(Rv).registerError(qv,Ke);Wy=[9,Se,wW,{[WW]:["POST","/token",200]},()=>Ov,()=>$v]});var Vv,Yy,sa,Xy=T(()=>{c();Vv=A(Er()),Yy=A(te());My();Ky();sa=class extends Yy.Command.classBuilder().ep(Ax).m(function(t,r,n,o){return[(0,Vv.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(Wy).build(){}});var zv,nK,bl,Wv=T(()=>{c();zv=A(te());Xy();Vy();nK={CreateTokenCommand:sa},bl=class extends Wi{};(0,zv.createAggregatedClient)(nK,bl)});var Kv=T(()=>{c();Xy()});var oK,sK,Yv=T(()=>{c();oK={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},sK={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var Xv=T(()=>{c()});var Qy={};pt(Qy,{$Command:()=>Yy.Command,AccessDeniedException:()=>Ki,AccessDeniedException$:()=>Pv,AccessDeniedExceptionReason:()=>oK,AuthorizationPendingException:()=>Yi,AuthorizationPendingException$:()=>Nv,CreateToken$:()=>Wy,CreateTokenCommand:()=>sa,CreateTokenRequest$:()=>Ov,CreateTokenResponse$:()=>$v,ExpiredTokenException:()=>Xi,ExpiredTokenException$:()=>kv,InternalServerException:()=>Qi,InternalServerException$:()=>Lv,InvalidClientException:()=>Ji,InvalidClientException$:()=>Mv,InvalidGrantException:()=>Zi,InvalidGrantException$:()=>Uv,InvalidRequestException:()=>ea,InvalidRequestException$:()=>Bv,InvalidRequestExceptionReason:()=>sK,InvalidScopeException:()=>ta,InvalidScopeException$:()=>Fv,SSOOIDC:()=>bl,SSOOIDCClient:()=>Wi,SSOOIDCServiceException:()=>Ke,SSOOIDCServiceException$:()=>qv,SlowDownException:()=>ra,SlowDownException$:()=>Gv,UnauthorizedClientException:()=>na,UnauthorizedClientException$:()=>Hv,UnsupportedGrantTypeException:()=>oa,UnsupportedGrantTypeException$:()=>jv,__Client:()=>qy.Client});var Jy=T(()=>{c();Vy();Wv();Kv();Ky();Yv();zy();Xv();Sl()});var eR=P(aa=>{"use strict";c();var iK=(Bt(),Z(Vr)),aK=(Sg(),Z(MA)),Pt=ot(),ia=gr(),cK=se("fs"),uK=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Pt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=aK.getBearerTokenEnvKey(t);if(!(r in process.env))throw new Pt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return iK.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},lK=300*1e3,Zy="To refresh this SSO session run 'aws sso login' with the corresponding profile.",dK=async(e,t={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(Jy(),Qy)),o=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:o("logger"),userAgentAppId:o("userAgentAppId")}))},pK=async(e,t,r={},n)=>{let{CreateTokenCommand:o}=await Promise.resolve().then(()=>(Jy(),Qy));return(await dK(t,r,n)).send(new o({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},Qv=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Pt.TokenProviderError(`Token is expired. ${Zy}`,!1)},Oo=(e,t,r=!1)=>{if(typeof t>"u")throw new Pt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Zy}`,!1)},{writeFile:mK}=cK.promises,fK=(e,t)=>{let r=ia.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return mK(r,n)},Jv=new Date(0),Zv=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await ia.parseKnownFiles(e),n=ia.getProfileName({profile:e.profile??t?.profile}),o=r[n];if(o){if(!o.sso_session)throw new Pt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Pt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=o.sso_session,a=(await ia.loadSsoSessionData(e))[s];if(!a)throw new Pt.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!a[y])throw new Pt.TokenProviderError(`Sso session '${s}' is missing required property '${y}'.`,!1);a.sso_start_url;let u=a.sso_region,d;try{d=await ia.getSSOTokenFromFile(s)}catch{throw new Pt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${Zy}`,!1)}Oo("accessToken",d.accessToken),Oo("expiresAt",d.expiresAt);let{accessToken:g,expiresAt:h}=d,E={token:g,expiration:new Date(h)};if(E.expiration.getTime()-Date.now()>lK)return E;if(Date.now()-Jv.getTime()<30*1e3)return Qv(E),E;Oo("clientId",d.clientId,!0),Oo("clientSecret",d.clientSecret,!0),Oo("refreshToken",d.refreshToken,!0);try{Jv.setTime(Date.now());let y=await pK(d,u,e,t);Oo("accessToken",y.accessToken),Oo("expiresIn",y.expiresIn);let b=new Date(Date.now()+y.expiresIn*1e3);try{await fK(s,{...d,accessToken:y.accessToken,expiresAt:b.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:b}}catch{return Qv(E),E}},hK=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Pt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},gK=(e={})=>Pt.memoize(Pt.chain(Zv(e),async()=>{throw new Pt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);aa.fromEnvSigningName=uK;aa.fromSso=Zv;aa.fromStatic=hK;aa.nodeProvider=gK});var tE=P(Yn=>{"use strict";c();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.resolveHttpAuthSchemeConfig=Yn.defaultSSOHttpAuthSchemeProvider=Yn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var yK=(We(),Z(Jr)),eE=Ze(),EK=async(e,t,r)=>({operation:(0,eE.getSmithyContext)(t).operation,region:await(0,eE.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Yn.defaultSSOHttpAuthSchemeParametersProvider=EK;function SK(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function _l(e){return{schemeId:"smithy.api#noAuth"}}var bK=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(_l(e));break}case"ListAccountRoles":{t.push(_l(e));break}case"ListAccounts":{t.push(_l(e));break}case"Logout":{t.push(_l(e));break}default:t.push(SK(e))}return t};Yn.defaultSSOHttpAuthSchemeProvider=bK;var _K=e=>{let t=(0,yK.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,eE.normalizeProvider)(e.authSchemePreference??[])})};Yn.resolveHttpAuthSchemeConfig=_K});var tR=P((Wye,TK)=>{TK.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.974.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.0","@aws-sdk/middleware-host-header":"^3.972.1","@aws-sdk/middleware-logger":"^3.972.1","@aws-sdk/middleware-recursion-detection":"^3.972.1","@aws-sdk/middleware-user-agent":"^3.972.1","@aws-sdk/region-config-resolver":"^3.972.1","@aws-sdk/types":"^3.973.0","@aws-sdk/util-endpoints":"3.972.0","@aws-sdk/util-user-agent-browser":"^3.972.1","@aws-sdk/util-user-agent-node":"^3.972.1","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.21.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.10","@smithy/middleware-retry":"^4.4.26","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.10.11","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.25","@smithy/util-defaults-mode-node":"^4.2.28","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var gR=P(Tl=>{"use strict";c();Object.defineProperty(Tl,"__esModule",{value:!0});Tl.ruleSet=void 0;var pR="required",qt="fn",Vt="argv",Ms="ref",rR=!0,nR="isSet",ca="booleanEquals",ks="error",Ls="endpoint",tn="tree",rE="PartitionResult",nE="getAttr",oR={[pR]:!1,type:"string"},sR={[pR]:!0,default:!1,type:"boolean"},iR={[Ms]:"Endpoint"},mR={[qt]:ca,[Vt]:[{[Ms]:"UseFIPS"},!0]},fR={[qt]:ca,[Vt]:[{[Ms]:"UseDualStack"},!0]},jt={},aR={[qt]:nE,[Vt]:[{[Ms]:rE},"supportsFIPS"]},hR={[Ms]:rE},cR={[qt]:ca,[Vt]:[!0,{[qt]:nE,[Vt]:[hR,"supportsDualStack"]}]},uR=[mR],lR=[fR],dR=[{[Ms]:"Region"}],IK={version:"1.0",parameters:{Region:oR,UseDualStack:sR,UseFIPS:sR,Endpoint:oR},rules:[{conditions:[{[qt]:nR,[Vt]:[iR]}],rules:[{conditions:uR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ks},{conditions:lR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ks},{endpoint:{url:iR,properties:jt,headers:jt},type:Ls}],type:tn},{conditions:[{[qt]:nR,[Vt]:dR}],rules:[{conditions:[{[qt]:"aws.partition",[Vt]:dR,assign:rE}],rules:[{conditions:[mR,fR],rules:[{conditions:[{[qt]:ca,[Vt]:[rR,aR]},cR],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jt,headers:jt},type:Ls}],type:tn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ks}],type:tn},{conditions:uR,rules:[{conditions:[{[qt]:ca,[Vt]:[aR,rR]}],rules:[{conditions:[{[qt]:"stringEquals",[Vt]:[{[qt]:nE,[Vt]:[hR,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:jt,headers:jt},type:Ls},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:jt,headers:jt},type:Ls}],type:tn},{error:"FIPS is enabled but this partition does not support FIPS",type:ks}],type:tn},{conditions:lR,rules:[{conditions:[cR],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jt,headers:jt},type:Ls}],type:tn},{error:"DualStack is enabled but this partition does not support DualStack",type:ks}],type:tn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:jt,headers:jt},type:Ls}],type:tn}],type:tn},{error:"Invalid Configuration: Missing Region",type:ks}]};Tl.ruleSet=IK});var yR=P(Il=>{"use strict";c();Object.defineProperty(Il,"__esModule",{value:!0});Il.defaultEndpointResolver=void 0;var wK=wo(),oE=wn(),AK=gR(),CK=new oE.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),xK=(e,t={})=>CK.get(e,()=>(0,oE.resolveEndpoint)(AK.ruleSet,{endpointParams:e,logger:t.logger}));Il.defaultEndpointResolver=xK;oE.customEndpointFunctions.aws=wK.awsEndpointFunctions});var bR=P(wl=>{"use strict";c();Object.defineProperty(wl,"__esModule",{value:!0});wl.getRuntimeConfig=void 0;var vK=(We(),Z(Jr)),RK=(Fn(),Z(Bu)),DK=(tt(),Z(To)),PK=te(),NK=qr(),ER=je(),SR=Ve(),OK=tE(),$K=yR(),kK=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ER.fromBase64,base64Encoder:e?.base64Encoder??ER.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$K.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??OK.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new vK.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new DK.NoAuthSigner}],logger:e?.logger??new PK.NoOpLogger,protocol:e?.protocol??RK.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??NK.parseUrl,utf8Decoder:e?.utf8Decoder??SR.fromUtf8,utf8Encoder:e?.utf8Encoder??SR.toUtf8});wl.getRuntimeConfig=kK});var CR=P(Cl=>{"use strict";c();Object.defineProperty(Cl,"__esModule",{value:!0});Cl.getRuntimeConfig=void 0;var LK=(Ai(),Z(wi)),MK=LK.__importDefault(tR()),_R=(We(),Z(Jr)),TR=xs(),Al=wt(),UK=vs(),IR=Jt(),$o=yr(),wR=_n(),AR=te(),BK=Rs(),FK=Ds(),GK=Do(),HK=bR(),jK=e=>{(0,AR.emitWarningIfUnsupportedVersion)(process.version);let t=(0,FK.resolveDefaultsModeConfig)(e),r=()=>t().then(AR.loadConfigsForDefaultMode),n=(0,HK.getRuntimeConfig)(e);(0,_R.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,$o.loadConfig)(_R.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??BK.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,TR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:MK.default.version}),maxAttempts:e?.maxAttempts??(0,$o.loadConfig)(IR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,$o.loadConfig)(Al.NODE_REGION_CONFIG_OPTIONS,{...Al.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:wR.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,$o.loadConfig)({...IR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||GK.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??UK.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??wR.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$o.loadConfig)(Al.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,$o.loadConfig)(Al.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,$o.loadConfig)(TR.NODE_APP_ID_CONFIG_OPTIONS,o)}};Cl.getRuntimeConfig=jK});var oD=P(le=>{"use strict";c();var xR=Wo(),qK=Ko(),VK=Yo(),vR=vo(),zK=wt(),ua=(tt(),Z(To)),Bs=(ge(),Z(Ei)),WK=Ts(),pa=Er(),RR=Jt(),tr=te(),DR=tE(),KK=CR(),PR=No(),NR=Te(),YK=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),$l={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},XK=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},QK=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),JK=(e,t)=>{let r=Object.assign(PR.getAwsRegionExtensionConfiguration(e),tr.getDefaultExtensionConfiguration(e),NR.getHttpHandlerExtensionConfiguration(e),XK(e));return t.forEach(n=>n.configure(r)),Object.assign(e,PR.resolveAwsRegionExtensionConfiguration(r),tr.resolveDefaultRuntimeConfig(r),NR.resolveHttpHandlerRuntimeConfig(r),QK(r))},Us=class extends tr.Client{config;constructor(...[t]){let r=KK.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=YK(r),o=vR.resolveUserAgentConfig(n),s=RR.resolveRetryConfig(o),i=zK.resolveRegionConfig(s),a=xR.resolveHostHeaderConfig(i),u=pa.resolveEndpointConfig(a),d=DR.resolveHttpAuthSchemeConfig(u),g=JK(d,t?.extensions||[]);this.config=g,this.middlewareStack.use(Bs.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(vR.getUserAgentPlugin(this.config)),this.middlewareStack.use(RR.getRetryPlugin(this.config)),this.middlewareStack.use(WK.getContentLengthPlugin(this.config)),this.middlewareStack.use(xR.getHostHeaderPlugin(this.config)),this.middlewareStack.use(qK.getLoggerPlugin(this.config)),this.middlewareStack.use(VK.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(ua.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:DR.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new ua.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(ua.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Xn=class e extends tr.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},xl=class e extends Xn{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},vl=class e extends Xn{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Rl=class e extends Xn{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Dl=class e extends Xn{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ZK="AccountInfo",e6="AccountListType",t6="AccessTokenType",r6="GetRoleCredentials",n6="GetRoleCredentialsRequest",o6="GetRoleCredentialsResponse",s6="InvalidRequestException",i6="Logout",a6="ListAccounts",c6="ListAccountsRequest",u6="ListAccountRolesRequest",l6="ListAccountRolesResponse",d6="ListAccountsResponse",p6="ListAccountRoles",m6="LogoutRequest",f6="RoleCredentials",h6="RoleInfo",g6="RoleListType",y6="ResourceNotFoundException",E6="SecretAccessKeyType",S6="SessionTokenType",b6="TooManyRequestsException",_6="UnauthorizedException",kl="accountId",T6="accessKeyId",I6="accountList",w6="accountName",Ll="accessToken",OR="account_id",Ml="client",Ul="error",A6="emailAddress",C6="expiration",Bl="http",Fl="httpError",Gl="httpHeader",ko="httpQuery",Hl="message",$R="maxResults",kR="max_result",jl="nextToken",LR="next_token",x6="roleCredentials",v6="roleList",MR="roleName",R6="role_name",UR="smithy.ts.sdk.synthetic.com.amazonaws.sso",D6="secretAccessKey",P6="sessionToken",ql="x-amz-sso_bearer_token",ve="com.amazonaws.sso",Vl=[0,ve,t6,8,0],N6=[0,ve,E6,8,0],O6=[0,ve,S6,8,0],BR=[3,ve,ZK,0,[kl,w6,A6],[0,0,0]],FR=[3,ve,n6,0,[MR,kl,Ll],[[0,{[ko]:R6}],[0,{[ko]:OR}],[()=>Vl,{[Gl]:ql}]],3],GR=[3,ve,o6,0,[x6],[[()=>YR,0]]],HR=[-3,ve,s6,{[Ul]:Ml,[Fl]:400},[Hl],[0]];Bs.TypeRegistry.for(ve).registerError(HR,xl);var jR=[3,ve,u6,0,[Ll,kl,jl,$R],[[()=>Vl,{[Gl]:ql}],[0,{[ko]:OR}],[0,{[ko]:LR}],[1,{[ko]:kR}]],2],qR=[3,ve,l6,0,[jl,v6],[0,()=>L6]],VR=[3,ve,c6,0,[Ll,jl,$R],[[()=>Vl,{[Gl]:ql}],[0,{[ko]:LR}],[1,{[ko]:kR}]],1],zR=[3,ve,d6,0,[jl,I6],[0,()=>k6]],WR=[3,ve,m6,0,[Ll],[[()=>Vl,{[Gl]:ql}]],1],KR=[-3,ve,y6,{[Ul]:Ml,[Fl]:404},[Hl],[0]];Bs.TypeRegistry.for(ve).registerError(KR,vl);var YR=[3,ve,f6,0,[T6,D6,P6,C6],[0,[()=>N6,0],[()=>O6,0],1]],XR=[3,ve,h6,0,[MR,kl],[0,0]],QR=[-3,ve,b6,{[Ul]:Ml,[Fl]:429},[Hl],[0]];Bs.TypeRegistry.for(ve).registerError(QR,Rl);var JR=[-3,ve,_6,{[Ul]:Ml,[Fl]:401},[Hl],[0]];Bs.TypeRegistry.for(ve).registerError(JR,Dl);var $6="unit",ZR=[-3,UR,"SSOServiceException",0,[],[]];Bs.TypeRegistry.for(UR).registerError(ZR,Xn);var k6=[1,ve,e6,0,()=>BR],L6=[1,ve,g6,0,()=>XR],eD=[9,ve,r6,{[Bl]:["GET","/federation/credentials",200]},()=>FR,()=>GR],tD=[9,ve,p6,{[Bl]:["GET","/assignment/roles",200]},()=>jR,()=>qR],rD=[9,ve,a6,{[Bl]:["GET","/assignment/accounts",200]},()=>VR,()=>zR],nD=[9,ve,i6,{[Bl]:["POST","/logout",200]},()=>WR,()=>$6],Pl=class extends tr.Command.classBuilder().ep($l).m(function(t,r,n,o){return[pa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(eD).build(){},la=class extends tr.Command.classBuilder().ep($l).m(function(t,r,n,o){return[pa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(tD).build(){},da=class extends tr.Command.classBuilder().ep($l).m(function(t,r,n,o){return[pa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(rD).build(){},Nl=class extends tr.Command.classBuilder().ep($l).m(function(t,r,n,o){return[pa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(nD).build(){},M6={GetRoleCredentialsCommand:Pl,ListAccountRolesCommand:la,ListAccountsCommand:da,LogoutCommand:Nl},Ol=class extends Us{};tr.createAggregatedClient(M6,Ol);var U6=ua.createPaginator(Us,la,"nextToken","nextToken","maxResults"),B6=ua.createPaginator(Us,da,"nextToken","nextToken","maxResults");Object.defineProperty(le,"$Command",{enumerable:!0,get:function(){return tr.Command}});Object.defineProperty(le,"__Client",{enumerable:!0,get:function(){return tr.Client}});le.AccountInfo$=BR;le.GetRoleCredentials$=eD;le.GetRoleCredentialsCommand=Pl;le.GetRoleCredentialsRequest$=FR;le.GetRoleCredentialsResponse$=GR;le.InvalidRequestException=xl;le.InvalidRequestException$=HR;le.ListAccountRoles$=tD;le.ListAccountRolesCommand=la;le.ListAccountRolesRequest$=jR;le.ListAccountRolesResponse$=qR;le.ListAccounts$=rD;le.ListAccountsCommand=da;le.ListAccountsRequest$=VR;le.ListAccountsResponse$=zR;le.Logout$=nD;le.LogoutCommand=Nl;le.LogoutRequest$=WR;le.ResourceNotFoundException=vl;le.ResourceNotFoundException$=KR;le.RoleCredentials$=YR;le.RoleInfo$=XR;le.SSO=Ol;le.SSOClient=Us;le.SSOServiceException=Xn;le.SSOServiceException$=ZR;le.TooManyRequestsException=Rl;le.TooManyRequestsException$=QR;le.UnauthorizedException=Dl;le.UnauthorizedException$=JR;le.paginateListAccountRoles=U6;le.paginateListAccounts=B6});var iD=P(sE=>{"use strict";c();var sD=oD();Object.defineProperty(sE,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return sD.GetRoleCredentialsCommand}});Object.defineProperty(sE,"SSOClient",{enumerable:!0,get:function(){return sD.SSOClient}})});var iE=P(Wl=>{"use strict";c();var rr=ot(),zl=gr(),aD=(Bt(),Z(Vr)),F6=eR(),uD=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ma=!1,cD=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:u,profile:d,filepath:g,configFilepath:h,ignoreCache:E,logger:y})=>{let b,C="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Tt=await F6.fromSso({profile:d,filepath:g,configFilepath:h,ignoreCache:E})();b={accessToken:Tt.token,expiresAt:new Date(Tt.expiration).toISOString()}}catch(Tt){throw new rr.CredentialsProviderError(Tt.message,{tryNextLink:ma,logger:y})}else try{b=await zl.getSSOTokenFromFile(e)}catch{throw new rr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${C}`,{tryNextLink:ma,logger:y})}if(new Date(b.expiresAt).getTime()-Date.now()<=0)throw new rr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${C}`,{tryNextLink:ma,logger:y});let{accessToken:x}=b,{SSOClient:R,GetRoleCredentialsCommand:O}=await Promise.resolve().then(function(){return iD()}),k=s||new R(Object.assign({},i??{},{logger:i?.logger??u?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??u?.userAgentAppId??a?.userAgentAppId})),j;try{j=await k.send(new O({accountId:r,roleName:o,accessToken:x}))}catch(Tt){throw new rr.CredentialsProviderError(Tt,{tryNextLink:ma,logger:y})}let{roleCredentials:{accessKeyId:X,secretAccessKey:ue,sessionToken:Le,expiration:ne,credentialScope:pe,accountId:Ce}={}}=j;if(!X||!ue||!Le||!ne)throw new rr.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ma,logger:y});let Ye={accessKeyId:X,secretAccessKey:ue,sessionToken:Le,expiration:new Date(ne),...pe&&{credentialScope:pe},...Ce&&{accountId:Ce}};return t?aD.setCredentialFeature(Ye,"CREDENTIALS_SSO","s"):aD.setCredentialFeature(Ye,"CREDENTIALS_SSO_LEGACY","u"),Ye},lD=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new rr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},G6=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,u=zl.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let g=(await zl.parseKnownFiles(e))[u];if(!g)throw new rr.CredentialsProviderError(`Profile ${u} was not found.`,{logger:e.logger});if(!uD(g))throw new rr.CredentialsProviderError(`Profile ${u} is not configured with SSO credentials.`,{logger:e.logger});if(g?.sso_session){let R=(await zl.loadSsoSessionData(e))[g.sso_session],O=` configurations in profile ${u} and sso-session ${g.sso_session}`;if(o&&o!==R.sso_region)throw new rr.CredentialsProviderError("Conflicting SSO region"+O,{tryNextLink:!1,logger:e.logger});if(r&&r!==R.sso_start_url)throw new rr.CredentialsProviderError("Conflicting SSO start_url"+O,{tryNextLink:!1,logger:e.logger});g.sso_region=R.sso_region,g.sso_start_url=R.sso_start_url}let{sso_start_url:h,sso_account_id:E,sso_region:y,sso_role_name:b,sso_session:C}=lD(g,e.logger);return cD({ssoStartUrl:h,ssoSession:C,ssoAccountId:E,ssoRegion:y,ssoRoleName:b,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:u,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!o||!s)throw new rr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return cD({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:u,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Wl.fromSSO=G6;Wl.isSsoProfile=uD;Wl.validateSsoProfile=lD});function H6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function j6(e){return{schemeId:"smithy.api#noAuth"}}var fa,dD,pD,mD,aE=T(()=>{c();We();fa=A(Ze()),dD=async(e,t,r)=>({operation:(0,fa.getSmithyContext)(t).operation,region:await(0,fa.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});pD=e=>{let t=[];return e.operation==="CreateOAuth2Token"?t.push(j6(e)):t.push(H6(e)),t},mD=e=>{let t=zr(e);return Object.assign(t,{authSchemePreference:(0,fa.normalizeProvider)(e.authSchemePreference??[])})}});var fD,hD,cE=T(()=>{c();fD=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),hD={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ID,ct,gD,Lo,Fs,Qn,nr,Xl,uE,yD,ED,SD,lE,dE,at,pE,Kl,Yl,bD,_D,TD,q6,wD,AD=T(()=>{c();ID="required",ct="argv",gD="isSet",Lo="booleanEquals",Fs="error",Qn="endpoint",nr="tree",Xl="PartitionResult",uE="stringEquals",yD={[ID]:!0,default:!1,type:"boolean"},ED={[ID]:!1,type:"string"},SD={ref:"Endpoint"},lE={fn:Lo,[ct]:[{ref:"UseFIPS"},!0]},dE={fn:Lo,[ct]:[{ref:"UseDualStack"},!0]},at={},pE={fn:"getAttr",[ct]:[{ref:Xl},"name"]},Kl={fn:Lo,[ct]:[{ref:"UseFIPS"},!1]},Yl={fn:Lo,[ct]:[{ref:"UseDualStack"},!1]},bD={fn:"getAttr",[ct]:[{ref:Xl},"supportsFIPS"]},_D={fn:Lo,[ct]:[!0,{fn:"getAttr",[ct]:[{ref:Xl},"supportsDualStack"]}]},TD=[{ref:"Region"}],q6={version:"1.0",parameters:{UseDualStack:yD,UseFIPS:yD,Endpoint:ED,Region:ED},rules:[{conditions:[{fn:gD,[ct]:[SD]}],rules:[{conditions:[lE],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fs},{rules:[{conditions:[dE],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fs},{endpoint:{url:SD,properties:at,headers:at},type:Qn}],type:nr}],type:nr},{rules:[{conditions:[{fn:gD,[ct]:TD}],rules:[{conditions:[{fn:"aws.partition",[ct]:TD,assign:Xl}],rules:[{conditions:[{fn:uE,[ct]:[pE,"aws"]},Kl,Yl],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:at,headers:at},type:Qn},{conditions:[{fn:uE,[ct]:[pE,"aws-cn"]},Kl,Yl],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:at,headers:at},type:Qn},{conditions:[{fn:uE,[ct]:[pE,"aws-us-gov"]},Kl,Yl],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:at,headers:at},type:Qn},{conditions:[lE,dE],rules:[{conditions:[{fn:Lo,[ct]:[!0,bD]},_D],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:Qn}],type:nr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fs}],type:nr},{conditions:[lE,Yl],rules:[{conditions:[{fn:Lo,[ct]:[bD,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:Qn}],type:nr},{error:"FIPS is enabled but this partition does not support FIPS",type:Fs}],type:nr},{conditions:[Kl,dE],rules:[{conditions:[_D],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:Qn}],type:nr},{error:"DualStack is enabled but this partition does not support DualStack",type:Fs}],type:nr},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:Qn}],type:nr}],type:nr},{error:"Invalid Configuration: Missing Region",type:Fs}],type:nr}]},wD=q6});var CD,Gs,V6,xD,vD=T(()=>{c();CD=A(wo()),Gs=A(wn());AD();V6=new Gs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),xD=(e,t={})=>V6.get(e,()=>(0,Gs.resolveEndpoint)(wD,{endpointParams:e,logger:t.logger}));Gs.customEndpointFunctions.aws=CD.awsEndpointFunctions});var RD,DD,Ql,Jl,PD,ND=T(()=>{c();We();Fn();tt();RD=A(te()),DD=A(qr()),Ql=A(je()),Jl=A(Ve());aE();vD();PD=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??Ql.fromBase64,base64Encoder:e?.base64Encoder??Ql.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??xD,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??pD,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new nt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Xt}],logger:e?.logger??new RD.NoOpLogger,protocol:e?.protocol??Mn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??DD.parseUrl,utf8Decoder:e?.utf8Decoder??Jl.fromUtf8,utf8Encoder:e?.utf8Encoder??Jl.toUtf8})});var Zl,Zn,OD,ed,Jn,td,rd,$D,kD,LD,MD,UD=T(()=>{c();il();We();Zl=A(xs()),Zn=A(wt()),OD=A(vs()),ed=A(Jt()),Jn=A(yr()),td=A(_n()),rd=A(te()),$D=A(Rs()),kD=A(Ds()),LD=A(Do());ND();MD=e=>{(0,rd.emitWarningIfUnsupportedVersion)(process.version);let t=(0,kD.resolveDefaultsModeConfig)(e),r=()=>t().then(rd.loadConfigsForDefaultMode),n=PD(e);An(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Jn.loadConfig)(xn,o),bodyLengthChecker:e?.bodyLengthChecker??$D.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Zl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Cs.version}),maxAttempts:e?.maxAttempts??(0,Jn.loadConfig)(ed.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Jn.loadConfig)(Zn.NODE_REGION_CONFIG_OPTIONS,{...Zn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:td.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Jn.loadConfig)({...ed.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||LD.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??OD.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??td.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jn.loadConfig)(Zn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Jn.loadConfig)(Zn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Jn.loadConfig)(Zl.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var BD,FD,GD=T(()=>{c();BD=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},FD=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var nd,od,sd,HD,jD=T(()=>{c();nd=A(No()),od=A(Te()),sd=A(te());GD();HD=(e,t)=>{let r=Object.assign((0,nd.getAwsRegionExtensionConfiguration)(e),(0,sd.getDefaultExtensionConfiguration)(e),(0,od.getHttpHandlerExtensionConfiguration)(e),BD(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,nd.resolveAwsRegionExtensionConfiguration)(r),(0,sd.resolveDefaultRuntimeConfig)(r),(0,od.resolveHttpHandlerRuntimeConfig)(r),FD(r))}});var id,qD,VD,ad,zD,WD,KD,cd,mE,ha,fE=T(()=>{c();id=A(Wo()),qD=A(Ko()),VD=A(Yo()),ad=A(vo()),zD=A(wt());tt();ge();WD=A(Ts()),KD=A(Er()),cd=A(Jt()),mE=A(te());aE();cE();UD();jD();ha=class extends mE.Client{config;constructor(...[t]){let r=MD(t||{});super(r),this.initConfig=r;let n=fD(r),o=(0,ad.resolveUserAgentConfig)(n),s=(0,cd.resolveRetryConfig)(o),i=(0,zD.resolveRegionConfig)(s),a=(0,id.resolveHostHeaderConfig)(i),u=(0,KD.resolveEndpointConfig)(a),d=mD(u),g=HD(d,t?.extensions||[]);this.config=g,this.middlewareStack.use(ho(this.config)),this.middlewareStack.use((0,ad.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,cd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,WD.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,id.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,qD.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,VD.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(mo(this.config,{httpAuthSchemeParametersProvider:dD,identityProviderConfigProvider:async h=>new jr({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(fo(this.config))}destroy(){super.destroy()}}});var YD,or,ud=T(()=>{c();YD=A(te()),or=class e extends YD.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ga,ya,Ea,Sa,hE=T(()=>{c();ud();ga=class e extends or{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},ya=class e extends or{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Ea=class e extends or{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Sa=class e extends or{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var z6,W6,K6,Y6,X6,Q6,J6,Z6,e8,t8,r8,XD,QD,gE,JD,ZD,n8,eo,eP,tP,o8,yE,rP,Nt,dd,ld,nP,s8,oP,sP,aP,i8,a8,iP,St,cP,uP,lP,dP,pP,mP,fP,hP,gP,yP,EP,EE,SE=T(()=>{c();ge();hE();ud();z6="AccessDeniedException",W6="AccessToken",K6="CreateOAuth2Token",Y6="CreateOAuth2TokenRequest",X6="CreateOAuth2TokenRequestBody",Q6="CreateOAuth2TokenResponseBody",J6="CreateOAuth2TokenResponse",Z6="InternalServerException",e8="RefreshToken",t8="TooManyRequestsError",r8="ValidationException",XD="accessKeyId",QD="accessToken",gE="client",JD="clientId",ZD="codeVerifier",n8="code",eo="error",eP="expiresIn",tP="grantType",o8="http",yE="httpError",rP="idToken",Nt="jsonName",dd="message",ld="refreshToken",nP="redirectUri",s8="server",oP="secretAccessKey",sP="sessionToken",aP="smithy.ts.sdk.synthetic.com.amazonaws.signin",i8="tokenInput",a8="tokenOutput",iP="tokenType",St="com.amazonaws.signin",cP=[0,St,e8,8,0],uP=[-3,St,z6,{[eo]:gE},[eo,dd],[0,0],2];z.for(St).registerError(uP,ga);lP=[3,St,W6,8,[XD,oP,sP],[[0,{[Nt]:XD}],[0,{[Nt]:oP}],[0,{[Nt]:sP}]],3],dP=[3,St,Y6,0,[i8],[[()=>pP,16]],1],pP=[3,St,X6,0,[JD,tP,n8,nP,ZD,ld],[[0,{[Nt]:JD}],[0,{[Nt]:tP}],0,[0,{[Nt]:nP}],[0,{[Nt]:ZD}],[()=>cP,{[Nt]:ld}]],2],mP=[3,St,J6,0,[a8],[[()=>fP,16]],1],fP=[3,St,Q6,0,[QD,iP,eP,ld,rP],[[()=>lP,{[Nt]:QD}],[0,{[Nt]:iP}],[1,{[Nt]:eP}],[()=>cP,{[Nt]:ld}],[0,{[Nt]:rP}]],4],hP=[-3,St,Z6,{[eo]:s8,[yE]:500},[eo,dd],[0,0],2];z.for(St).registerError(hP,ya);gP=[-3,St,t8,{[eo]:gE,[yE]:429},[eo,dd],[0,0],2];z.for(St).registerError(gP,Ea);yP=[-3,St,r8,{[eo]:gE,[yE]:400},[eo,dd],[0,0],2];z.for(St).registerError(yP,Sa);EP=[-3,aP,"SigninServiceException",0,[],[]];z.for(aP).registerError(EP,or);EE=[9,St,K6,{[o8]:["POST","/v1/token",200]},()=>dP,()=>mP]});var SP,bE,ba,_E=T(()=>{c();SP=A(Er()),bE=A(te());cE();SE();ba=class extends bE.Command.classBuilder().ep(hD).m(function(t,r,n,o){return[(0,SP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(EE).build(){}});var bP,c8,pd,_P=T(()=>{c();bP=A(te());_E();fE();c8={CreateOAuth2TokenCommand:ba},pd=class extends ha{};(0,bP.createAggregatedClient)(c8,pd)});var TP=T(()=>{c();_E()});var u8,IP=T(()=>{c();u8={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var wP=T(()=>{c()});var AP={};pt(AP,{$Command:()=>bE.Command,AccessDeniedException:()=>ga,AccessDeniedException$:()=>uP,AccessToken$:()=>lP,CreateOAuth2Token$:()=>EE,CreateOAuth2TokenCommand:()=>ba,CreateOAuth2TokenRequest$:()=>dP,CreateOAuth2TokenRequestBody$:()=>pP,CreateOAuth2TokenResponse$:()=>mP,CreateOAuth2TokenResponseBody$:()=>fP,InternalServerException:()=>ya,InternalServerException$:()=>hP,OAuth2ErrorCode:()=>u8,Signin:()=>pd,SigninClient:()=>ha,SigninServiceException:()=>or,SigninServiceException$:()=>EP,TooManyRequestsError:()=>Ea,TooManyRequestsError$:()=>gP,ValidationException:()=>Sa,ValidationException$:()=>yP,__Client:()=>mE.Client});var CP=T(()=>{c();fE();_P();TP();SE();IP();hE();wP();ud()});var vP=P(xP=>{"use strict";c();var l8=(Bt(),Z(Vr)),to=ot(),wE=gr(),d8=Te(),md=se("node:crypto"),TE=se("node:fs"),p8=se("node:os"),IE=se("node:path"),AE=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new to.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(CP(),AP)),{logger:o,userAgentAppId:s}=this.callerClientConfig??{},a=(h=>h?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,u=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,d=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:u,requestHandler:a,logger:o,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(d.middlewareStack);let g={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let h=await d.send(new n(g)),{accessKeyId:E,secretAccessKey:y,sessionToken:b}=h.tokenOutput?.accessToken??{},{refreshToken:C,expiresIn:x}=h.tokenOutput??{};if(!E||!y||!b||!C)throw new to.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let R=(x??900)*1e3,O=new Date(Date.now()+R),k={...t,accessToken:{...t.accessToken,accessKeyId:E,secretAccessKey:y,sessionToken:b,expiresAt:O.toISOString()},refreshToken:C};await this.saveToken(k);let j=k.accessToken;return{accessKeyId:j.accessKeyId,secretAccessKey:j.secretAccessKey,sessionToken:j.sessionToken,accountId:j.accountId,expiration:O}}catch(h){if(h.name==="AccessDeniedException"){let E=h.error,y;switch(E){case"TOKEN_EXPIRED":y="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":y="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":y="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:y=`Failed to refresh token: ${String(h)}. Please re-authenticate using \`aws login\``}throw new to.CredentialsProviderError(y,{logger:this.logger,tryNextLink:!1})}throw new to.CredentialsProviderError(`Failed to refresh token: ${String(h)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await wE.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await TE.promises.readFile(t,"utf8")}let n=JSON.parse(r),o=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!n[s]);if(n.accessToken?.accountId||o.push("accountId"),o.length>0)throw new to.CredentialsProviderError(`Token validation failed, missing fields: ${o.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new to.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=IE.dirname(r);try{await TE.promises.mkdir(n,{recursive:!0})}catch{}await TE.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??IE.join(p8.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=md.createHash("sha256").update(r).digest("hex");return IE.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],o=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],i=t.subarray(r,r+s);o=o[0]===0?o.subarray(1):o,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-o.length),o]),u=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,u])}createDPoPInterceptor(t){t.add(r=>async n=>{if(d8.HttpRequest.isInstance(n.request)){let o=n.request,s=`${o.protocol}//${o.hostname}${o.port?`:${o.port}`:""}${o.path}`,i=await this.generateDpop(o.method,s);o.headers={...o.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let o=md.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=md.createPublicKey(o).export({format:"der",type:"spki"}),a=-1;for(let O=0;O<i.length;O++)if(i[O]===4){a=O;break}let u=i.slice(a+1,a+33),d=i.slice(a+33,a+65),g={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:u.toString("base64url"),y:d.toString("base64url")}},h={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},E=Buffer.from(JSON.stringify(g)).toString("base64url"),y=Buffer.from(JSON.stringify(h)).toString("base64url"),b=`${E}.${y}`,C=md.sign("sha256",Buffer.from(b),o),R=this.derToRawSignature(C).toString("base64url");return`${b}.${R}`}catch(o){throw new to.CredentialsProviderError(`Failed to generate Dpop proof: ${o instanceof Error?o.message:String(o)}`,{logger:this.logger,tryNextLink:!1})}}},m8=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await wE.parseKnownFiles(e||{}),n=wE.getProfileName({profile:e?.profile??t?.profile}),o=r[n];if(!o?.login_session)throw new to.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new AE(o,e,t).loadCredentials();return l8.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};xP.fromLoginCredentials=m8});function f8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function h8(e){return{schemeId:"smithy.api#noAuth"}}var _a,RP,DP,g8,PP,CE=T(()=>{c();We();_a=A(Ze());Ta();RP=async(e,t,r)=>({operation:(0,_a.getSmithyContext)(t).operation,region:await(0,_a.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});DP=e=>{let t=[];return e.operation==="AssumeRoleWithWebIdentity"?t.push(h8(e)):t.push(f8(e)),t},g8=e=>Object.assign(e,{stsClientCtor:Tr}),PP=e=>{let t=g8(e),r=zr(t);return Object.assign(r,{authSchemePreference:(0,_a.normalizeProvider)(e.authSchemePreference??[])})}});var NP,fd,hd=T(()=>{c();NP=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),fd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var jP,J,ye,ro,Qe,qP,VP,De,OP,Ir,Hs,vE,$P,xE,zP,kP,Je,LP,WP,KP,ut,Ot,MP,YP,XP,UP,QP,BP,FP,GP,HP,y8,JP,ZP=T(()=>{c();jP="required",J="type",ye="argv",ro="booleanEquals",Qe="stringEquals",qP="sigv4",VP="us-east-1",De="endpoint",OP="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ir="tree",Hs="error",vE="getAttr",$P={[jP]:!1,[J]:"string"},xE={[jP]:!0,default:!1,[J]:"boolean"},zP={ref:"Endpoint"},kP={fn:"isSet",[ye]:[{ref:"Region"}]},Je={ref:"Region"},LP={fn:"aws.partition",[ye]:[Je],assign:"PartitionResult"},WP={ref:"UseFIPS"},KP={ref:"UseDualStack"},ut={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:qP,signingName:"sts",signingRegion:VP}]},headers:{}},Ot={},MP={conditions:[{fn:Qe,[ye]:[Je,"aws-global"]}],[De]:ut,[J]:De},YP={fn:ro,[ye]:[WP,!0]},XP={fn:ro,[ye]:[KP,!0]},UP={fn:vE,[ye]:[{ref:"PartitionResult"},"supportsFIPS"]},QP={ref:"PartitionResult"},BP={fn:ro,[ye]:[!0,{fn:vE,[ye]:[QP,"supportsDualStack"]}]},FP=[{fn:"isSet",[ye]:[zP]}],GP=[YP],HP=[XP],y8={version:"1.0",parameters:{Region:$P,UseDualStack:xE,UseFIPS:xE,Endpoint:$P,UseGlobalEndpoint:xE},rules:[{conditions:[{fn:ro,[ye]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ye]:FP},kP,LP,{fn:ro,[ye]:[WP,!1]},{fn:ro,[ye]:[KP,!1]}],rules:[{conditions:[{fn:Qe,[ye]:[Je,"ap-northeast-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"ap-south-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"ap-southeast-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"ap-southeast-2"]}],endpoint:ut,[J]:De},MP,{conditions:[{fn:Qe,[ye]:[Je,"ca-central-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"eu-central-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"eu-north-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"eu-west-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"eu-west-2"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"eu-west-3"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"sa-east-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,VP]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"us-east-2"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"us-west-1"]}],endpoint:ut,[J]:De},{conditions:[{fn:Qe,[ye]:[Je,"us-west-2"]}],endpoint:ut,[J]:De},{endpoint:{url:OP,properties:{authSchemes:[{name:qP,signingName:"sts",signingRegion:"{Region}"}]},headers:Ot},[J]:De}],[J]:Ir},{conditions:FP,rules:[{conditions:GP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[J]:Hs},{conditions:HP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[J]:Hs},{endpoint:{url:zP,properties:Ot,headers:Ot},[J]:De}],[J]:Ir},{conditions:[kP],rules:[{conditions:[LP],rules:[{conditions:[YP,XP],rules:[{conditions:[{fn:ro,[ye]:[!0,UP]},BP],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},[J]:De}],[J]:Ir},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[J]:Hs}],[J]:Ir},{conditions:GP,rules:[{conditions:[{fn:ro,[ye]:[UP,!0]}],rules:[{conditions:[{fn:Qe,[ye]:[{fn:vE,[ye]:[QP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ot,headers:Ot},[J]:De},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},[J]:De}],[J]:Ir},{error:"FIPS is enabled but this partition does not support FIPS",[J]:Hs}],[J]:Ir},{conditions:HP,rules:[{conditions:[BP],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},[J]:De}],[J]:Ir},{error:"DualStack is enabled but this partition does not support DualStack",[J]:Hs}],[J]:Ir},MP,{endpoint:{url:OP,properties:Ot,headers:Ot},[J]:De}],[J]:Ir}],[J]:Ir},{error:"Invalid Configuration: Missing Region",[J]:Hs}]},JP=y8});var eN,js,E8,tN,rN=T(()=>{c();eN=A(wo()),js=A(wn());ZP();E8=new js.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),tN=(e,t={})=>E8.get(e,()=>(0,js.resolveEndpoint)(JP,{endpointParams:e,logger:t.logger}));js.customEndpointFunctions.aws=eN.awsEndpointFunctions});var nN,oN,gd,yd,sN,iN=T(()=>{c();We();Fn();tt();nN=A(te()),oN=A(qr()),gd=A(je()),yd=A(Ve());CE();rN();sN=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??gd.fromBase64,base64Encoder:e?.base64Encoder??gd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tN,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??DP,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new nt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Xt}],logger:e?.logger??new nN.NoOpLogger,protocol:e?.protocol??Bn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??oN.parseUrl,utf8Decoder:e?.utf8Decoder??yd.fromUtf8,utf8Encoder:e?.utf8Encoder??yd.toUtf8})});var Ed,oo,aN,Sd,no,bd,_d,cN,uN,lN,dN,pN=T(()=>{c();il();We();Ed=A(xs()),oo=A(wt());tt();aN=A(vs()),Sd=A(Jt()),no=A(yr()),bd=A(_n()),_d=A(te()),cN=A(Rs()),uN=A(Ds()),lN=A(Do());iN();dN=e=>{(0,_d.emitWarningIfUnsupportedVersion)(process.version);let t=(0,uN.resolveDefaultsModeConfig)(e),r=()=>t().then(_d.loadConfigsForDefaultMode),n=sN(e);An(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,no.loadConfig)(xn,o),bodyLengthChecker:e?.bodyLengthChecker??cN.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ed.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Cs.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new nt},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Xt}],maxAttempts:e?.maxAttempts??(0,no.loadConfig)(Sd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,no.loadConfig)(oo.NODE_REGION_CONFIG_OPTIONS,{...oo.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:bd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,no.loadConfig)({...Sd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||lN.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??aN.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??bd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,no.loadConfig)(oo.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,no.loadConfig)(oo.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,no.loadConfig)(Ed.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var mN,fN,hN=T(()=>{c();mN=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},fN=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Td,Id,wd,gN,yN=T(()=>{c();Td=A(No()),Id=A(Te()),wd=A(te());hN();gN=(e,t)=>{let r=Object.assign((0,Td.getAwsRegionExtensionConfiguration)(e),(0,wd.getDefaultExtensionConfiguration)(e),(0,Id.getHttpHandlerExtensionConfiguration)(e),mN(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Td.resolveAwsRegionExtensionConfiguration)(r),(0,wd.resolveDefaultRuntimeConfig)(r),(0,Id.resolveHttpHandlerRuntimeConfig)(r),fN(r))}});var Ad,EN,SN,Cd,bN,_N,TN,xd,RE,Tr,Ta=T(()=>{c();Ad=A(Wo()),EN=A(Ko()),SN=A(Yo()),Cd=A(vo()),bN=A(wt());tt();ge();_N=A(Ts()),TN=A(Er()),xd=A(Jt()),RE=A(te());CE();hd();pN();yN();Tr=class extends RE.Client{config;constructor(...[t]){let r=dN(t||{});super(r),this.initConfig=r;let n=NP(r),o=(0,Cd.resolveUserAgentConfig)(n),s=(0,xd.resolveRetryConfig)(o),i=(0,bN.resolveRegionConfig)(s),a=(0,Ad.resolveHostHeaderConfig)(i),u=(0,TN.resolveEndpointConfig)(a),d=PP(u),g=gN(d,t?.extensions||[]);this.config=g,this.middlewareStack.use(ho(this.config)),this.middlewareStack.use((0,Cd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,xd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,_N.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ad.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,EN.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,SN.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(mo(this.config,{httpAuthSchemeParametersProvider:RP,identityProviderConfigProvider:async h=>new jr({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(fo(this.config))}destroy(){super.destroy()}}});var IN,At,vd=T(()=>{c();IN=A(te()),At=class e extends IN.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ia,wa,Aa,Ca,xa,va,Ra,DE=T(()=>{c();vd();Ia=class e extends At{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wa=class e extends At{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Aa=class e extends At{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ca=class e extends At{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xa=class e extends At{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},va=class e extends At{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ra=class e extends At{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var S8,b8,_8,T8,I8,w8,PE,A8,C8,x8,v8,NE,R8,wN,D8,P8,N8,O8,$8,k8,L8,M8,AN,CN,U8,B8,F8,G8,H8,j8,xN,q8,V8,vN,z8,RN,W8,K8,OE,Y8,X8,Q8,J8,Z8,e5,t5,r5,n5,o5,Mo,Uo,s5,Bo,Fo,Go,i5,DN,a5,be,c5,u5,$E,PN,NN,ON,$N,kE,kN,LN,MN,UN,BN,FN,GN,HN,jN,qN,VN,zN,l5,d5,LE,ME,Rd=T(()=>{c();ge();DE();vd();S8="Arn",b8="AccessKeyId",_8="AssumeRole",T8="AssumedRoleId",I8="AssumeRoleRequest",w8="AssumeRoleResponse",PE="AssumedRoleUser",A8="AssumeRoleWithWebIdentity",C8="AssumeRoleWithWebIdentityRequest",x8="AssumeRoleWithWebIdentityResponse",v8="Audience",NE="Credentials",R8="ContextAssertion",wN="DurationSeconds",D8="Expiration",P8="ExternalId",N8="ExpiredTokenException",O8="IDPCommunicationErrorException",$8="IDPRejectedClaimException",k8="InvalidIdentityTokenException",L8="Key",M8="MalformedPolicyDocumentException",AN="Policy",CN="PolicyArns",U8="ProviderArn",B8="ProvidedContexts",F8="ProvidedContextsListType",G8="ProvidedContext",H8="PolicyDescriptorType",j8="ProviderId",xN="PackedPolicySize",q8="PackedPolicyTooLargeException",V8="Provider",vN="RoleArn",z8="RegionDisabledException",RN="RoleSessionName",W8="SecretAccessKey",K8="SubjectFromWebIdentityToken",OE="SourceIdentity",Y8="SerialNumber",X8="SessionToken",Q8="Tags",J8="TokenCode",Z8="TransitiveTagKeys",e5="Tag",t5="Value",r5="WebIdentityToken",n5="arn",o5="accessKeySecretType",Mo="awsQueryError",Uo="client",s5="clientTokenType",Bo="error",Fo="httpError",Go="message",i5="policyDescriptorListType",DN="smithy.ts.sdk.synthetic.com.amazonaws.sts",a5="tagListType",be="com.amazonaws.sts",c5=[0,be,o5,8,0],u5=[0,be,s5,8,0],$E=[3,be,PE,0,[T8,S8],[0,0],2],PN=[3,be,I8,0,[vN,RN,CN,AN,wN,Q8,Z8,P8,Y8,J8,OE,B8],[0,0,()=>zN,0,1,()=>d5,64,0,0,0,0,()=>l5],2],NN=[3,be,w8,0,[NE,PE,xN,OE],[[()=>kE,0],()=>$E,1,0]],ON=[3,be,C8,0,[vN,RN,r5,j8,CN,AN,wN],[0,0,[()=>u5,0],0,()=>zN,0,1],3],$N=[3,be,x8,0,[NE,K8,PE,xN,V8,v8,OE],[[()=>kE,0],0,()=>$E,1,0,0,0]],kE=[3,be,NE,0,[b8,W8,X8,D8],[0,[()=>c5,0],0,4],4],kN=[-3,be,N8,{[Mo]:["ExpiredTokenException",400],[Bo]:Uo,[Fo]:400},[Go],[0]];z.for(be).registerError(kN,Ia);LN=[-3,be,O8,{[Mo]:["IDPCommunicationError",400],[Bo]:Uo,[Fo]:400},[Go],[0]];z.for(be).registerError(LN,Ra);MN=[-3,be,$8,{[Mo]:["IDPRejectedClaim",403],[Bo]:Uo,[Fo]:403},[Go],[0]];z.for(be).registerError(MN,xa);UN=[-3,be,k8,{[Mo]:["InvalidIdentityToken",400],[Bo]:Uo,[Fo]:400},[Go],[0]];z.for(be).registerError(UN,va);BN=[-3,be,M8,{[Mo]:["MalformedPolicyDocument",400],[Bo]:Uo,[Fo]:400},[Go],[0]];z.for(be).registerError(BN,wa);FN=[-3,be,q8,{[Mo]:["PackedPolicyTooLarge",400],[Bo]:Uo,[Fo]:400},[Go],[0]];z.for(be).registerError(FN,Aa);GN=[3,be,H8,0,[n5],[0]],HN=[3,be,G8,0,[U8,R8],[0,0]],jN=[-3,be,z8,{[Mo]:["RegionDisabledException",403],[Bo]:Uo,[Fo]:403},[Go],[0]];z.for(be).registerError(jN,Ca);qN=[3,be,e5,0,[L8,t5],[0,0],2],VN=[-3,DN,"STSServiceException",0,[],[]];z.for(DN).registerError(VN,At);zN=[1,be,i5,0,()=>GN],l5=[1,be,F8,0,()=>HN],d5=[1,be,a5,0,()=>qN],LE=[9,be,_8,0,()=>PN,()=>NN],ME=[9,be,A8,0,()=>ON,()=>$N]});var WN,KN,Ho,Dd=T(()=>{c();WN=A(Er()),KN=A(te());hd();Rd();Ho=class extends KN.Command.classBuilder().ep(fd).m(function(t,r,n,o){return[(0,WN.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(LE).build(){}});var YN,XN,jo,Pd=T(()=>{c();YN=A(Er()),XN=A(te());hd();Rd();jo=class extends XN.Command.classBuilder().ep(fd).m(function(t,r,n,o){return[(0,YN.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(ME).build(){}});var QN,p5,Nd,JN=T(()=>{c();QN=A(te());Dd();Pd();Ta();p5={AssumeRoleCommand:Ho,AssumeRoleWithWebIdentityCommand:jo},Nd=class extends Tr{};(0,QN.createAggregatedClient)(p5,Nd)});var ZN=T(()=>{c();Dd();Pd()});var eO=T(()=>{c()});var tO,rO,nO,oO,sO,iO,aO=T(()=>{c();Bt();tO=A(No());Dd();Pd();rO=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},nO=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i="",a=o??s??(i=await(0,tO.stsRegionDefaultResolver)(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},oO=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:g=e?.parentClientConfig?.logger,profile:h=e?.parentClientConfig?.profile,region:E,requestHandler:y=e?.parentClientConfig?.requestHandler,credentialProviderLogger:b,userAgentAppId:C=e?.parentClientConfig?.userAgentAppId}=e,x=await nO(E,e?.parentClientConfig?.region,b,{logger:g,profile:h}),R=!iO(y);r=new t({...e,userAgentAppId:C,profile:h,credentialDefaultProvider:()=>async()=>n,region:x,requestHandler:R?y:void 0,logger:g})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Ho(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let u=rO(a),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...u&&{accountId:u}};return Cn(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},sO=(e,t)=>{let r;return async n=>{if(!r){let{logger:u=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:g,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:E,userAgentAppId:y=e?.parentClientConfig?.userAgentAppId}=e,b=await nO(g,e?.parentClientConfig?.region,E,{logger:u,profile:d}),C=!iO(h);r=new t({...e,userAgentAppId:y,profile:d,region:b,requestHandler:C?h:void 0,logger:u})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new jo(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=rO(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&Cn(a,"RESOLVED_ACCOUNT_ID","T"),Cn(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},iO=e=>e?.metadata?.handlerProtocol==="h2"});var cO,uO,lO,m5,dO=T(()=>{c();aO();Ta();cO=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,uO=(e={},t)=>oO(e,cO(Tr,t)),lO=(e={},t)=>sO(e,cO(Tr,t)),m5=e=>t=>e({roleAssumer:uO(t),roleAssumerWithWebIdentity:lO(t),...t})});var UE={};pt(UE,{AssumeRole$:()=>LE,AssumeRoleCommand:()=>Ho,AssumeRoleRequest$:()=>PN,AssumeRoleResponse$:()=>NN,AssumeRoleWithWebIdentity$:()=>ME,AssumeRoleWithWebIdentityCommand:()=>jo,AssumeRoleWithWebIdentityRequest$:()=>ON,AssumeRoleWithWebIdentityResponse$:()=>$N,AssumedRoleUser$:()=>$E,Credentials$:()=>kE,ExpiredTokenException:()=>Ia,ExpiredTokenException$:()=>kN,IDPCommunicationErrorException:()=>Ra,IDPCommunicationErrorException$:()=>LN,IDPRejectedClaimException:()=>xa,IDPRejectedClaimException$:()=>MN,InvalidIdentityTokenException:()=>va,InvalidIdentityTokenException$:()=>UN,MalformedPolicyDocumentException:()=>wa,MalformedPolicyDocumentException$:()=>BN,PackedPolicyTooLargeException:()=>Aa,PackedPolicyTooLargeException$:()=>FN,PolicyDescriptorType$:()=>GN,ProvidedContext$:()=>HN,RegionDisabledException:()=>Ca,RegionDisabledException$:()=>jN,STS:()=>Nd,STSClient:()=>Tr,STSServiceException:()=>At,STSServiceException$:()=>VN,Tag$:()=>qN,__Client:()=>RE.Client,decorateDefaultCredentialProvider:()=>m5,getDefaultRoleAssumer:()=>uO,getDefaultRoleAssumerWithWebIdentity:()=>lO});var BE=T(()=>{c();Ta();JN();ZN();Rd();DE();eO();dO();vd()});var HE=P(pO=>{"use strict";c();var GE=gr(),FE=ot(),f5=se("child_process"),h5=se("util"),g5=(Bt(),Z(Vr)),y5=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return g5.setCredentialFeature(o,"CREDENTIALS_PROCESS","w"),o},E5=async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=h5.promisify(GE.externalDataInterceptor?.getTokenRecord?.().exec??f5.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return y5(e,a,t)}catch(i){throw new FE.CredentialsProviderError(i.message,{logger:r})}}else throw new FE.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new FE.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},S5=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await GE.parseKnownFiles(e);return E5(GE.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};pO.fromProcess=S5});var jE=P(wr=>{"use strict";c();var b5=wr&&wr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),_5=wr&&wr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),T5=wr&&wr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&b5(r,t,n[o]);return _5(r,t),r}})();Object.defineProperty(wr,"__esModule",{value:!0});wr.fromWebToken=void 0;var I5=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:u}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:g}=await Promise.resolve().then(()=>T5((BE(),Z(UE))));d=g({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:u})};wr.fromWebToken=I5});var fO=P(Od=>{"use strict";c();Object.defineProperty(Od,"__esModule",{value:!0});Od.fromTokenFile=void 0;var w5=(Bt(),Z(Vr)),A5=ot(),C5=gr(),x5=se("fs"),v5=jE(),mO="AWS_WEB_IDENTITY_TOKEN_FILE",R5="AWS_ROLE_ARN",D5="AWS_ROLE_SESSION_NAME",P5=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[mO],n=e?.roleArn??process.env[R5],o=e?.roleSessionName??process.env[D5];if(!r||!n)throw new A5.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,v5.fromWebToken)({...e,webIdentityToken:C5.externalDataInterceptor?.getTokenRecord?.()[r]??(0,x5.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:o})(t);return r===process.env[mO]&&(0,w5.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Od.fromTokenFile=P5});var qE=P(Da=>{"use strict";c();var hO=fO(),gO=jE();Object.keys(hO).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Da,e)&&Object.defineProperty(Da,e,{enumerable:!0,get:function(){return hO[e]}})});Object.keys(gO).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Da,e)&&Object.defineProperty(Da,e,{enumerable:!0,get:function(){return gO[e]}})})});var TO=P(_O=>{"use strict";c();var zE=gr(),Pa=ot(),rn=(Bt(),Z(Vr)),N5=vP(),O5=(e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>A(ky())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>A(ji()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Pa.chain(s(o??{}),i(o))().then(VE)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>A(ji()));return async()=>s(o)().then(VE)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>A(xy()));return async()=>s(o)().then(VE)}};if(e in n)return n[e];throw new Pa.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},VE=e=>rn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),$5=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(k5(e,{profile:t,logger:r})||L5(e,{profile:t,logger:r})),k5=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},L5=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},M5=async(e,t,r,n,o={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:u}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:g}=await Promise.resolve().then(()=>(BE(),UE));r.roleAssumer=g({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:u??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in o)throw new Pa.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${zE.getProfileName(r)}. Profiles visited: `+Object.keys(o).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let d=a?s(a,t,r,n,{...o,[a]:!0},yO(t[a]??{})):(await O5(i.credential_source,e,r.logger)(r))();if(yO(i))return d.then(g=>rn.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let g={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:h}=i;if(h){if(!r.mfaCodeProvider)throw new Pa.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});g.SerialNumber=h,g.TokenCode=await r.mfaCodeProvider(h)}let E=await d;return r.roleAssumer(E,g).then(y=>rn.setCredentialFeature(y,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},yO=e=>!e.role_arn&&!!e.credential_source,U5=e=>!!(e&&e.login_session),B5=async(e,t,r)=>{let n=await N5.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return rn.setCredentialFeature(n,"CREDENTIALS_PROFILE_LOGIN","AC")},F5=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",G5=async(e,t)=>Promise.resolve().then(()=>A(HE())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>rn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),H5=async(e,t,r={},n)=>{let{fromSSO:o}=await Promise.resolve().then(()=>A(iE()));return o({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(s=>t.sso_session?rn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):rn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},j5=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),EO=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,SO=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return rn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},q5=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,V5=async(e,t,r)=>Promise.resolve().then(()=>A(qE())).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(o=>rn.setCredentialFeature(o,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),bO=async(e,t,r,n,o={},s=!1)=>{let i=t[e];if(Object.keys(o).length>0&&EO(i))return SO(i,r);if(s||$5(i,{profile:e,logger:r.logger}))return M5(e,t,r,n,o,bO);if(EO(i))return SO(i,r);if(q5(i))return V5(i,r,n);if(F5(i))return G5(r,e);if(j5(i))return await H5(e,i,r,n);if(U5(i))return B5(e,r,n);throw new Pa.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},z5=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await zE.parseKnownFiles(e);return bO(zE.getProfileName({profile:e.profile??t?.profile}),r,e,t)};_O.fromIni=z5});var CO=P($d=>{"use strict";c();var WE=xy(),Na=ot(),W5=gr(),IO="AWS_EC2_METADATA_DISABLED",K5=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>A(ji()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>A(ky()));return Na.chain(s(e),n(e))}return process.env[IO]&&process.env[IO]!=="false"?async()=>{throw new Na.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))};function Y5(e,t){let r=X5(e),n,o,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||t?.(s))if(s)o||(o=r(a).then(u=>{s=u,o=void 0}));else return n=r(a).then(u=>{s=u,n=void 0}),i(a);return s};return i}var X5=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(o){if(r=o,o?.tryNextLink)continue;throw o}throw r},wO=!1,Q5=(e={})=>Y5([async()=>{if(e.profile??process.env[W5.ENV_PROFILE])throw process.env[WE.ENV_KEY]&&process.env[WE.ENV_SECRET]&&(wO||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),wO=!0)),new Na.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),WE.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new Na.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>A(iE()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>A(TO()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>A(HE()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>A(qE()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await K5(e))()),async()=>{throw new Na.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],AO),J5=e=>e?.expiration!==void 0,AO=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;$d.credentialsTreatedAsExpired=AO;$d.credentialsWillNeedRefresh=J5;$d.defaultProvider=Q5});var NO=P(PO=>{"use strict";c();var QE=(Fn(),Z(Bu)),xO=(ge(),Z(Ei)),vO=te(),RO=je(),KE=class extends QE.JsonCodec{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let t=new YE(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new XE(this.settings);return t.setSerdeContext(this.serdeContext),t}},DO="com.amazonaws.dynamodb#AttributeValue",YE=class extends QE.JsonShapeSerializer{_write(t,r,n){let o=xO.NormalizedSchema.of(t);if(o.isStructSchema()&&o.getName(!0)===DO&&r&&typeof r=="object"){let s=r,i=vO._json(s),a=this.serdeContext?.base64Encoder??RO.toBase64;if(s.B instanceof Uint8Array&&(i.B=a(s.B)),Array.isArray(s.BS)&&(i.BS=s.BS.map(a)),Array.isArray(s.L)&&(i.L=s.L.filter(u=>u!=null).map(u=>this._write(o,u,n))),s.M&&typeof s.M=="object"){i.M={};for(let[u,d]of Object.entries(s.M))d!=null&&(i.M[u]=this._write(o,d,n))}return i}return super._write(o,r,n)}},XE=class extends QE.JsonShapeDeserializer{_read(t,r){let n=xO.NormalizedSchema.of(t);if(n.isStructSchema()&&n.getName(!0)===DO&&r&&typeof r=="object"){let o=r,s=vO._json(o),i=this.serdeContext?.base64Decoder??RO.fromBase64;if(typeof o.B=="string"&&(s.B=i(o.B)),Array.isArray(o.BS)&&(s.BS=o.BS.map(i)),Array.isArray(o.L)&&(s.L=o.L.map(a=>this._read(n,a))),o.M&&typeof o.M=="object"){s.M={};for(let[a,u]of Object.entries(o.M))s.M[a]=this._read(n,u)}return s}return super._read(n,r)}};PO.DynamoDBJsonCodec=KE});var n$=P(Ld=>{"use strict";c();Object.defineProperty(Ld,"__esModule",{value:!0});Ld.ruleSet=void 0;var eS="required",V="type",Ue="rules",we="conditions",U="fn",B="argv",ae="ref",kd="assign",Ar="url",Cr="properties",xr="headers",e$="metricValues",Z5=!1,Be="error",lt="stringEquals",OO="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",Ct="endpoint",He="tree",tS="dynamodb",Oa={[eS]:!1,[V]:"string"},$O={[eS]:!0,default:!1,[V]:"boolean"},kO={[U]:"isSet",[B]:[{[ae]:"Endpoint"}]},eY={[ae]:"Endpoint"},LO={[U]:"isSet",[B]:[{[ae]:"Region"}]},t$={[ae]:"Region"},MO={[U]:"aws.partition",[B]:[t$],[kd]:"PartitionResult"},UO={[we]:[{[U]:"booleanEquals",[B]:[{[ae]:"UseFIPS"},!0]}],[Be]:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:Be},qs={[U]:"booleanEquals",[B]:[{[ae]:"UseFIPS"},!0]},BO={[we]:[{[U]:"booleanEquals",[B]:[{[ae]:"UseDualStack"},!0]}],[Be]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:Be},r$={[U]:"booleanEquals",[B]:[{[ae]:"UseDualStack"},!0]},FO={[Ct]:{[Ar]:"{Endpoint}",[Cr]:{},[xr]:{}},[V]:Ct},nn={},GO={[U]:"booleanEquals",[B]:[{[U]:"getAttr",[B]:[{[ae]:"PartitionResult"},"supportsFIPS"]},!0]},HO={[U]:"booleanEquals",[B]:[{[U]:"getAttr",[B]:[{[ae]:"PartitionResult"},"supportsDualStack"]},!0]},JE={[we]:[{[U]:"isSet",[B]:[{[ae]:"AccountIdEndpointMode"}]},{[U]:lt,[B]:[{[ae]:"AccountIdEndpointMode"},"required"]}],[Ue]:[{[Be]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Be}],[V]:He},$a={[U]:"getAttr",[B]:[{[ae]:"PartitionResult"},"name"]},jO={[Ct]:{[Ar]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Cr]:{},[xr]:{}},[V]:Ct},qO={[Ar]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cr]:{[e$]:["O"]},[xr]:{}},ZE={[e$]:["O"]},VO={[Be]:"Credentials-sourced account ID parameter is invalid",[V]:Be},zO={[we]:[{[U]:"isSet",[B]:[{[ae]:"AccountIdEndpointMode"}]},{[U]:lt,[B]:[{[ae]:"AccountIdEndpointMode"},"required"]}],[Ue]:[{[we]:[{[U]:"not",[B]:[qs]}],[Ue]:[{[we]:[{[U]:lt,[B]:[$a,"aws"]}],[Ue]:[{[Be]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:Be}],[V]:He},{[Be]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:Be}],[V]:He},{[Be]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Be}],[V]:He},WO={[Ar]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Cr]:ZE,[xr]:{}},KO=[qs],YO=[r$],XO=[{[U]:"isSet",[B]:[{[ae]:"AccountIdEndpointMode"}]},{[U]:"not",[B]:[{[U]:lt,[B]:[{[ae]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:lt,[B]:[$a,"aws"]},{[U]:"not",[B]:[qs]},{[U]:"isSet",[B]:[{[ae]:"ResourceArn"}]},{[U]:"aws.parseArn",[B]:[{[ae]:"ResourceArn"}],[kd]:"ParsedArn"},{[U]:lt,[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"service"]},tS]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"region"]},!1]},{[U]:lt,[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"region"]},"{Region}"]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"accountId"]},!1]}],QO=[{[U]:"isSet",[B]:[{[ae]:"AccountIdEndpointMode"}]},{[U]:"not",[B]:[{[U]:lt,[B]:[{[ae]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:lt,[B]:[$a,"aws"]},{[U]:"not",[B]:[qs]},{[U]:"isSet",[B]:[{[ae]:"ResourceArnList"}]},{[U]:"getAttr",[B]:[{[ae]:"ResourceArnList"},"[0]"],[kd]:"FirstArn"},{[U]:"aws.parseArn",[B]:[{[ae]:"FirstArn"}],[kd]:"ParsedArn"},{[U]:lt,[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"service"]},tS]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"region"]},!1]},{[U]:lt,[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"region"]},"{Region}"]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ae]:"ParsedArn"},"accountId"]},!1]}],JO=[{[U]:"isSet",[B]:[{[ae]:"AccountIdEndpointMode"}]},{[U]:"not",[B]:[{[U]:lt,[B]:[{[ae]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:lt,[B]:[$a,"aws"]},{[U]:"not",[B]:[qs]},{[U]:"isSet",[B]:[{[ae]:"AccountId"}]}],ZO=[{[U]:"isValidHostLabel",[B]:[{[ae]:"AccountId"},!1]}],tY={version:"1.0",parameters:{Region:Oa,UseDualStack:$O,UseFIPS:$O,Endpoint:Oa,AccountId:Oa,AccountIdEndpointMode:Oa,ResourceArn:Oa,ResourceArnList:{[eS]:Z5,[V]:"stringArray"}},[Ue]:[{[we]:[kO,LO,MO],[Ue]:[UO,BO,{[we]:[{[U]:lt,[B]:[eY,OO]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[V]:Be},FO],[V]:He},{[we]:[kO],[Ue]:[UO,BO,FO],[V]:He},{[we]:[LO],[Ue]:[{[we]:[MO],[Ue]:[{[we]:[{[U]:lt,[B]:[t$,"local"]}],[Ue]:[{[we]:KO,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:Be},{[we]:YO,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:Be},{endpoint:{[Ar]:"http://localhost:8000",[Cr]:{authSchemes:[{name:"sigv4",signingRegion:"us-east-1",signingName:tS}]},[xr]:nn},[V]:Ct}],[V]:He},{[we]:[qs,r$],[Ue]:[{[we]:[GO,HO],[Ue]:[JE,{endpoint:{[Ar]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cr]:nn,[xr]:nn},[V]:Ct}],[V]:He},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:Be}],[V]:He},{[we]:KO,[Ue]:[{[we]:[GO],[Ue]:[{[we]:[{[U]:lt,[B]:[$a,"aws-us-gov"]}],[Ue]:[JE,jO],[V]:He},JE,{endpoint:{[Ar]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Cr]:nn,[xr]:nn},[V]:Ct}],[V]:He},{error:"FIPS is enabled but this partition does not support FIPS",[V]:Be}],[V]:He},{[we]:YO,[Ue]:[{[we]:[HO],[Ue]:[{[we]:XO,endpoint:qO,[V]:Ct},{[we]:QO,endpoint:qO,[V]:Ct},{[we]:JO,[Ue]:[{[we]:ZO,[Ue]:[{endpoint:{[Ar]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cr]:ZE,[xr]:nn},[V]:Ct}],[V]:He},VO],[V]:He},zO,{endpoint:{[Ar]:OO,[Cr]:nn,[xr]:nn},[V]:Ct}],[V]:He},{error:"DualStack is enabled but this partition does not support DualStack",[V]:Be}],[V]:He},{[we]:XO,endpoint:WO,[V]:Ct},{[we]:QO,endpoint:WO,[V]:Ct},{[we]:JO,[Ue]:[{[we]:ZO,[Ue]:[{endpoint:{[Ar]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Cr]:ZE,[xr]:nn},[V]:Ct}],[V]:He},VO],[V]:He},zO,jO],[V]:He}],[V]:He},{error:"Invalid Configuration: Missing Region",[V]:Be}]};Ld.ruleSet=tY});var o$=P(Md=>{"use strict";c();Object.defineProperty(Md,"__esModule",{value:!0});Md.defaultEndpointResolver=void 0;var rY=wo(),rS=wn(),nY=n$(),oY=new rS.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),sY=(e,t={})=>oY.get(e,()=>(0,rS.resolveEndpoint)(nY.ruleSet,{endpointParams:e,logger:t.logger}));Md.defaultEndpointResolver=sY;rS.customEndpointFunctions.aws=rY.awsEndpointFunctions});var a$=P(Ud=>{"use strict";c();Object.defineProperty(Ud,"__esModule",{value:!0});Ud.getRuntimeConfig=void 0;var iY=(We(),Z(Jr)),aY=(Fn(),Z(Bu)),cY=NO(),uY=te(),lY=qr(),s$=je(),i$=Ve(),dY=Cy(),pY=o$(),mY=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??s$.fromBase64,base64Encoder:e?.base64Encoder??s$.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??pY.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dY.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new iY.AwsSdkSigV4Signer}],logger:e?.logger??new uY.NoOpLogger,protocol:e?.protocol??aY.AwsJson1_0Protocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new cY.DynamoDBJsonCodec},serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??lY.parseUrl,utf8Decoder:e?.utf8Decoder??i$.fromUtf8,utf8Encoder:e?.utf8Encoder??i$.toUtf8});Ud.getRuntimeConfig=mY});var m$=P(Fd=>{"use strict";c();Object.defineProperty(Fd,"__esModule",{value:!0});Fd.getRuntimeConfig=void 0;var fY=(Ai(),Z(wi)),hY=fY.__importDefault(Z0()),c$=(We(),Z(Jr)),gY=(Zm(),Z(Jm)),yY=CO(),EY=pf(),u$=xs(),Bd=wt(),SY=vs(),l$=Jt(),on=yr(),d$=_n(),p$=te(),bY=Rs(),_Y=Ds(),TY=Do(),IY=a$(),wY=e=>{(0,p$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,_Y.resolveDefaultsModeConfig)(e),r=()=>t().then(p$.loadConfigsForDefaultMode),n=(0,IY.getRuntimeConfig)(e);(0,c$.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,on.loadConfig)(gY.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,on.loadConfig)(c$.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??bY.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??yY.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,u$.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:hY.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,on.loadConfig)(EY.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,on.loadConfig)(l$.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,on.loadConfig)(Bd.NODE_REGION_CONFIG_OPTIONS,{...Bd.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:d$.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,on.loadConfig)({...l$.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||TY.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??SY.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??d$.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,on.loadConfig)(Bd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,on.loadConfig)(Bd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,on.loadConfig)(u$.NODE_APP_ID_CONFIG_OPTIONS,o)}};Fd.getRuntimeConfig=wY});var y$=P(bt=>{"use strict";c();var Gd=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},AY=e=>new Promise(t=>setTimeout(t,e*1e3)),g$={minDelay:2,maxDelay:120};bt.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(bt.WaiterState||(bt.WaiterState={}));var CY=e=>{if(e.state===bt.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},Gd())}`);throw t.name="AbortError",t}else if(e.state===bt.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},Gd())}`);throw t.name="TimeoutError",t}else if(e.state!==bt.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,Gd())}`);return e},xY=(e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return vY(e,o)},vY=(e,t)=>e+Math.random()*(t-e),RY=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let u={},{state:d,reason:g}=await a(o,i);if(g){let b=f$(g);u[b]|=0,u[b]+=1}if(d!==bt.WaiterState.RETRY)return{state:d,reason:g,observedResponses:u};let h=1,E=Date.now()+r*1e3,y=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let R="AbortController signal aborted.";return u[R]|=0,u[R]+=1,{state:bt.WaiterState.ABORTED,observedResponses:u}}let b=xY(e,t,y,h);if(Date.now()+b*1e3>E)return{state:bt.WaiterState.TIMEOUT,observedResponses:u};await AY(b);let{state:C,reason:x}=await a(o,i);if(x){let R=f$(x);u[R]|=0,u[R]+=1}if(C!==bt.WaiterState.RETRY)return{state:C,reason:x,observedResponses:u};h+=1}},f$=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,Gd())??"Unknown"),DY=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},h$=e=>{let t,r=new Promise(n=>{t=()=>n({state:bt.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},PY=async(e,t,r)=>{let n={...g$,...e};DY(n);let o=[RY(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=h$(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=h$(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})};bt.checkExceptions=CY;bt.createWaiter=PY;bt.waiterServiceDefaults=g$});var wb=P(l=>{"use strict";c();var NY=(Zm(),Z(Jm)),OY=pf(),E$=Wo(),$Y=Ko(),kY=Yo(),S$=vo(),LY=wt(),sn=(tt(),Z(To)),ie=(ge(),Z(Ei)),MY=Ts(),F=Er(),b$=Jt(),L=te(),_$=Cy(),UY=m$(),T$=No(),I$=Te(),ce=y$(),BY=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},re=class e extends L.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Hd=class e extends re{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jd=class e extends re{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qd=class e extends re{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},Vd=class e extends re{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},zd=class e extends re{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},Wd=class e extends re{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Kd=class e extends re{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},Yd=class e extends re{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xd=class e extends re{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qd=class e extends re{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jd=class e extends re{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zd=class e extends re{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ep=class e extends re{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tp=class e extends re{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rp=class e extends re{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},np=class e extends re{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},op=class e extends re{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sp=class e extends re{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ip=class e extends re{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ap=class e extends re{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cp=class e extends re{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},up=class e extends re{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lp=class e extends re{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},dp=class e extends re{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},pp=class e extends re{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mp=class e extends re{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fp=class e extends re{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hp=class e extends re{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gp=class e extends re{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yp=class e extends re{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ep=class e extends re{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Sp=class e extends re{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bp=class e extends re{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_p=class e extends re{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},Tp=class e extends re{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},FY="Action",GY="ArchivalBackupArn",nS="ApproximateCreationDateTimePrecision",HY="AttributeDefinition",jY="ArchivalDateTime",za="AttributeDefinitions",qY="AttributeMap",VY="AccountMaxReadCapacityUnits",zY="AccountMaxWriteCapacityUnits",hm="AttributeName",WY="ArchivalReason",A$="ArchivalSummary",C$="AutoScalingDisabled",KY="AutoScalingPolicyDescription",YY="AutoScalingPolicyDescriptionList",XY="AutoScalingPolicyUpdate",x$="AutoScalingRoleArn",QY="AutoScalingSettingsDescription",JY="AutoScalingSettingsUpdate",ZY="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",e9="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",t9="AttributeType",gm="AttributesToGet",v$="AttributeUpdates",r9="AttributeValue",oS="AttributeValueList",n9="AttributeValueUpdate",o9="Address",sS="Attributes",s9="Backfilling",Wa="BackupArn",R$="BackupCreationDateTime",iS="BackupDescription",aS="BackupDetails",D$="BackupExpiryDateTime",i9="BatchExecuteStatement",a9="BatchExecuteStatementInput",c9="BatchExecuteStatementOutput",u9="BatchGetItem",l9="BatchGetItemInput",d9="BatchGetItemOutput",p9="BatchGetResponseMap",m9="BatchGetRequestMap",f9="BackupInUseException",Ka="BillingMode",P$="BillingModeOverride",N$="BillingModeSummary",cS="BackupName",h9="BackupNotFoundException",g9="BOOL",O$="BackupStatus",$$="BackupSizeBytes",y9="BilledSizeBytes",E9="BatchStatementError",S9="BatchStatementRequest",b9="BatchStatementResponse",_9="BS",T9="BackupSummary",k$="BackupSummaries",uS="BackupType",I9="BatchWriteItem",w9="BatchWriteItemInput",A9="BatchWriteItemOutput",C9="BatchWriteItemRequestMap",x9="B",L$="Code",v9="CreateBackup",lS="ContinuousBackupsDescription",R9="CreateBackupInput",D9="CreateBackupOutput",P9="ContinuousBackupsStatus",N9="ContinuousBackupsUnavailableException",xt="ConsumedCapacity",O9="ConditionalCheckFailedException",$9="ConsumedCapacityMultiple",M$="ConditionCheck",U$="CreationDateTime",qo="ConditionExpression",k9="CreateGlobalSecondaryIndexAction",L9="CreateGlobalTable",M9="CreateGlobalTableInput",U9="CreateGlobalTableOutput",B9="CreateGlobalTableWitnessGroupMemberAction",F9="ContributorInsightsAction",ym="ContributorInsightsMode",G9="ContributorInsightsRuleList",H9="ContributorInsightsSummary",dS="ContributorInsightsStatus",B$="ContributorInsightsSummaries",F$="ComparisonOperator",Ya="ConditionalOperator",j9="CsvOptions",q9="CachePeriodInMinutes",zs="ConsistentRead",V9="CreateReplicaAction",z9="CreateReplicationGroupMemberAction",W9="CancellationReasonList",K9="ConfirmRemoveSelfResourceAccess",G$="ClientRequestToken",Y9="CancellationReason",X9="CancellationReasons",Em="ClientToken",Q9="CreateTableInput",J9="CreateTableOutput",Z9="CreateTable",H$="CapacityUnits",j$="CloudWatchLogGroupArn",eX="Capacity",tX="Condition",q$="Count",Sm="Create",rX="Csv",nX="Delimiter",oX="DeleteBackup",sX="DeleteBackupInput",iX="DescribeBackupInput",aX="DeleteBackupOutput",cX="DescribeBackupOutput",uX="DescribeBackup",lX="DescribeContinuousBackups",dX="DescribeContinuousBackupsInput",pX="DescribeContinuousBackupsOutput",mX="DescribeContributorInsights",fX="DescribeContributorInsightsInput",hX="DescribeContributorInsightsOutput",gX="DescribeEndpoints",yX="DescribeExportInput",EX="DescribeExportOutput",SX="DescribeEndpointsRequest",bX="DescribeEndpointsResponse",_X="DescribeExport",TX="DeleteGlobalSecondaryIndexAction",IX="DescribeGlobalTable",wX="DescribeGlobalTableInput",AX="DescribeGlobalTableOutput",CX="DescribeGlobalTableSettings",xX="DescribeGlobalTableSettingsInput",vX="DescribeGlobalTableSettingsOutput",RX="DeleteGlobalTableWitnessGroupMemberAction",DX="DeleteItem",PX="DuplicateItemException",NX="DeleteItemInput",OX="DescribeImportInput",$X="DeleteItemOutput",kX="DescribeImportOutput",LX="DescribeImport",MX="DescribeKinesisStreamingDestination",UX="DescribeKinesisStreamingDestinationInput",BX="DescribeKinesisStreamingDestinationOutput",FX="DisableKinesisStreamingDestination",GX="DescribeLimits",HX="DescribeLimitsInput",jX="DescribeLimitsOutput",pS="DeletionProtectionEnabled",V$="DeleteRequest",qX="DeleteReplicaAction",VX="DeleteReplicationGroupMemberAction",zX="DeleteResourcePolicy",WX="DeleteResourcePolicyInput",KX="DeleteResourcePolicyOutput",mS="DestinationStatus",YX="DestinationStatusDescription",z$="DisableScaleIn",XX="DeleteTable",QX="DeleteTableInput",JX="DescribeTableInput",ZX="DeleteTableOutput",eQ="DescribeTableOutput",tQ="DescribeTableReplicaAutoScaling",rQ="DescribeTableReplicaAutoScalingInput",nQ="DescribeTableReplicaAutoScalingOutput",oQ="DescribeTimeToLive",sQ="DescribeTimeToLiveInput",iQ="DescribeTimeToLiveOutput",aQ="DescribeTable",Ws="Delete",cQ="Error",fS="ExportArn",uQ="ExpectedAttributeMap",zt="ExpressionAttributeNames",cn="ExpressionAttributeValues",lQ="ExpressionAttributeValueMap",dQ="ExpectedAttributeValue",pQ="ErrorCount",mQ="ExportConflictException",hS="ExportDescription",fQ="ExceptionDescription",W$="ExportFormat",hQ="ExportFromTime",gS="EnableKinesisStreamingConfiguration",gQ="EnableKinesisStreamingDestination",yQ="ExportManifest",EQ="ExceptionName",SQ="ExportNotFoundException",bQ="EarliestRestorableDateTime",K$="ExpectedRevisionId",Y$="ExportStatus",_Q="ExclusiveStartBackupArn",TQ="ExclusiveStartGlobalTableName",IQ="ExecuteStatementInput",X$="ExclusiveStartKey",wQ="ExecuteStatementOutput",AQ="ExclusiveStartTableName",CQ="ExportSummary",xQ="ExecuteStatement",Q$="ExportSummaries",yS="EndTime",vQ="ExecuteTransactionInput",RQ="ExecuteTransactionOutput",DQ="ExportToTime",PQ="ExportTableToPointInTime",NQ="ExportTableToPointInTimeInput",OQ="ExportTableToPointInTimeOutput",J$="ExportTime",$Q="ExecuteTransaction",ES="ExportType",kQ="ExportViewType",Z$="Endpoints",e1="Enabled",LQ="Endpoint",SS="Expected",MQ="Exists",t1="FailureCode",UQ="FilterConditionMap",r1="FailureException",n1="FilterExpression",o1="FailureMessage",s1="Get",BQ="GetItem",FQ="GetItemInput",GQ="GetItemOutput",HQ="GetResourcePolicy",jQ="GetResourcePolicyInput",qQ="GetResourcePolicyOutput",Rr="GlobalSecondaryIndexes",VQ="GlobalSecondaryIndexAutoScalingUpdate",zQ="GlobalSecondaryIndexAutoScalingUpdateList",WQ="GlobalSecondaryIndexDescription",KQ="GlobalSecondaryIndexDescriptionList",YQ="GlobalSecondaryIndexInfo",XQ="GlobalSecondaryIndexList",i1="GlobalSecondaryIndexOverride",QQ="GlobalSecondaryIndexUpdate",JQ="GlobalSecondaryIndexUpdateList",a1="GlobalSecondaryIndexUpdates",ZQ="GlobalSecondaryIndexWarmThroughputDescription",eJ="GlobalSecondaryIndex",tJ="GlobalTable",rJ="GlobalTableArn",nJ="GlobalTableAlreadyExistsException",oJ="GlobalTableBillingMode",bm="GlobalTableDescription",c1="GlobalTableGlobalSecondaryIndexSettingsUpdate",sJ="GlobalTableGlobalSecondaryIndexSettingsUpdateList",iJ="GlobalTableList",un="GlobalTableName",aJ="GlobalTableNotFoundException",cJ="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",uJ="GlobalTableProvisionedWriteCapacityUnits",lJ="GlobalTableStatus",dJ="GlobalTableVersion",pJ="GlobalTableWitnesses",mJ="GlobalTableWitnessDescription",fJ="GlobalTableWitnessDescriptionList",hJ="GlobalTableWitnessGroupUpdate",gJ="GlobalTableWitnessGroupUpdateList",yJ="GlobalTableWitnessUpdates",EJ="GlobalTables",SJ="HeaderList",ln="Item",bS="ImportArn",u1="IndexArn",Xa="ItemCount",bJ="ImportConflictException",_J="ItemCollectionKey",TJ="ItemCollectionKeyAttributeMap",Ks="ItemCollectionMetrics",IJ="ItemCollectionMetricsMultiple",wJ="ItemCollectionMetricsPerTable",AJ="ItemCollectionSizeLimitExceededException",l1="InputCompressionType",CJ="InaccessibleEncryptionDateTime",xJ="InvalidEndpointException",_S="IncrementalExportSpecification",vJ="InvalidExportTimeException",TS="InputFormat",IS="InputFormatOptions",RJ="ImportedItemCount",DJ="ItemList",Pe="IndexName",PJ="ImportNotFoundException",NJ="IndexNotFoundException",OJ="IdempotentParameterMismatchException",$J="ItemResponse",kJ="ItemResponseList",LJ="InvalidRestoreTimeException",wS="IndexStatus",d1="IndexSizeBytes",MJ="InternalServerError",p1="ImportSummaryList",UJ="ImportSummary",m1="ImportStatus",BJ="ImportTable",AS="ImportTableDescription",FJ="ImportTableInput",GJ="ImportTableOutput",CS="Items",Dr="Key",HJ="KeysAndAttributes",f1="KeyConditions",jJ="KeyConditionExpression",h1="KinesisDataStreamDestinations",qJ="KinesisDataStreamDestination",VJ="KeyList",zJ="KMSMasterKeyArn",_m="KMSMasterKeyId",Wt="KeySchema",WJ="KinesisStreamingDestinationInput",KJ="KinesisStreamingDestinationOutput",YJ="KeySchemaElement",XJ="KeyType",QJ="Keys",Ys="Limit",JJ="ListAttributeValue",ZJ="ListBackups",e7="ListBackupsInput",t7="ListBackupsOutput",r7="ListContributorInsights",n7="ListContributorInsightsInput",o7="ListContributorInsightsOutput",s7="LastDecreaseDateTime",i7="ListExports",a7="LastEvaluatedBackupArn",c7="LimitExceededException",u7="LastEvaluatedGlobalTableName",l7="ListExportsInput",xS="LastEvaluatedKey",d7="ListExportsOutput",p7="LastEvaluatedTableName",m7="ListGlobalTables",f7="ListGlobalTablesInput",h7="ListGlobalTablesOutput",g7="ListImports",y7="LastIncreaseDateTime",E7="ListImportsInput",S7="ListImportsOutput",b7="LatestRestorableDateTime",_7="LatestStreamArn",Qa="LocalSecondaryIndexes",T7="LocalSecondaryIndexDescription",I7="LocalSecondaryIndexDescriptionList",w7="LocalSecondaryIndexInfo",A7="LocalSecondaryIndexList",g1="LocalSecondaryIndexOverride",C7="LocalSecondaryIndex",x7="LatestStreamLabel",v7="ListTables",R7="ListTablesInput",D7="ListTablesOutput",P7="ListTagsOfResource",N7="ListTagsOfResourceInput",O7="ListTagsOfResourceOutput",y1="LastUpdateDateTime",$7="LastUpdateToPayPerRequestDateTime",k7="L",Xs="Message",L7="MapAttributeValue",E1="MaxResults",S1="MultiRegionConsistency",b1="MaxReadRequestUnits",_1="MinimumUnits",T1="MaximumUnits",M7="MaxWriteRequestUnits",U7="M",B7="N",F7="NonKeyAttributes",G7="NumberOfDecreasesToday",H7="NS",Pr="NextToken",j7="NULL",sr="OnDemandThroughput",so="OnDemandThroughputOverride",vS="Parameters",Ja="ProjectionExpression",q7="PutItem",V7="ProcessedItemCount",z7="PutItemInput",W7="PutItemInputAttributeMap",K7="PutItemOutput",I1="PointInTimeRecoveryDescription",Y7="PointInTimeRecoveryEnabled",X7="PointInTimeRecoveryStatus",w1="PointInTimeRecoverySpecification",Q7="PointInTimeRecoveryUnavailableException",A1="PolicyName",J7="PolicyNotFoundException",Z7="PartiQLBatchRequest",eZ="PartiQLBatchResponse",C1="PutRequest",x1="ProvisionedReadCapacityAutoScalingSettings",tZ="ProvisionedReadCapacityAutoScalingSettingsUpdate",rZ="ProvisionedReadCapacityAutoScalingUpdate",v1="ProvisionedReadCapacityUnits",nZ="PutResourcePolicy",oZ="PutResourcePolicyInput",sZ="PutResourcePolicyOutput",iZ="PageSize",aZ="ProcessedSizeBytes",cZ="PreparedStatementParameters",uZ="ParameterizedStatement",lZ="ParameterizedStatements",ir="ProvisionedThroughput",dZ="ProvisionedThroughputDescription",pZ="ProvisionedThroughputExceededException",io="ProvisionedThroughputOverride",mZ="ProjectionType",R1="ProvisionedWriteCapacityAutoScalingSettings",fZ="ProvisionedWriteCapacityAutoScalingSettingsUpdate",D1="ProvisionedWriteCapacityAutoScalingUpdate",P1="ProvisionedWriteCapacityUnits",N1="Policy",ao="Projection",O1="Put",hZ="Query",gZ="QueryFilter",yZ="QueryInput",EZ="QueryOutput",Tm="Responses",Qs="ResourceArn",SZ="ReplicaAlreadyExistsException",bZ="ReplicaAutoScalingDescription",_Z="ReplicaAutoScalingDescriptionList",TZ="ReplicaAutoScalingUpdate",IZ="ReplicaAutoScalingUpdateList",wZ="ReplicaBillingModeSummary",$t="ReturnConsumedCapacity",Za="ReadCapacityUnits",AZ="ReplicaDescription",CZ="ReplicaDescriptionList",$1="RestoreDateTime",RS="ReplicationGroup",xZ="ReplicaGlobalSecondaryIndex",vZ="ReplicaGlobalSecondaryIndexAutoScalingDescription",RZ="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",DZ="ReplicaGlobalSecondaryIndexAutoScalingUpdate",PZ="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",NZ="ReplicaGlobalSecondaryIndexDescription",OZ="ReplicaGlobalSecondaryIndexDescriptionList",$Z="ReplicaGlobalSecondaryIndexList",kZ="ReplicaGlobalSecondaryIndexSettings",LZ="ReplicaGlobalSecondaryIndexSettingsDescription",MZ="ReplicaGlobalSecondaryIndexSettingsDescriptionList",k1="ReplicaGlobalSecondaryIndexSettingsUpdate",UZ="ReplicaGlobalSecondaryIndexSettingsUpdateList",BZ="ReplicaGlobalSecondaryIndexUpdates",FZ="ReplicationGroupUpdate",GZ="ReplicationGroupUpdateList",L1="RequestItems",ec="ReturnItemCollectionMetrics",HZ="ReplicaInaccessibleDateTime",jZ="RestoreInProgress",qZ="ResourceInUseException",DS="RevisionId",VZ="ReplicaList",zZ="RequestLimitExceeded",_t="RegionName",WZ="ReplicaNotFoundException",KZ="ResourceNotFoundException",YZ="ResourcePolicy",M1="RecoveryPeriodInDays",U1="ReplicaProvisionedReadCapacityAutoScalingSettings",XZ="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",QZ="ReplicaProvisionedReadCapacityAutoScalingUpdate",B1="ReplicaProvisionedReadCapacityUnits",F1="ReplicaProvisionedWriteCapacityAutoScalingSettings",JZ="ReplicaProvisionedWriteCapacityUnits",G1="ReplicaSettings",ZZ="ReplicaStatusDescription",eee="ReplicaSettingsDescriptionList",tee="ReplicaSettingsDescription",ree="ReplicaStatusPercentProgress",H1="ReplicaSettingsUpdate",nee="ReplicaSettingsUpdateList",PS="ReplicaStatus",j1="RestoreSummary",oee="ReplicaTableClass",q1="ReplicaTableClassSummary",see="RestoreTableFromBackup",iee="RestoreTableFromBackupInput",aee="RestoreTableFromBackupOutput",cee="RestoreTableToPointInTime",uee="RestoreTableToPointInTimeInput",lee="RestoreTableToPointInTimeOutput",dee="ReplicaUpdate",pee="ReplicaUpdateList",NS="ReadUnitsPerSecond",OS="ReplicaUpdates",$S="ReturnValues",Nr="ReturnValuesOnConditionCheckFailure",mee="ReplicatedWriteConflictException",fee="Replica",V1="Replicas",hee="Statements",tc="StreamArn",kS="S3Bucket",gee="SourceBackupArn",LS="S3BucketOwner",Im="S3BucketSource",z1="ScannedCount",yee="StreamDescription",Eee="StreamEnabled",See="SizeEstimateRangeGB",bee="ScanFilter",_ee="ScanInput",W1="ScaleInCooldown",Tee="SecondaryIndexesCapacityMap",Iee="ScanIndexForward",wee="S3KeyPrefix",Aee="ScanOutput",K1="ScaleOutCooldown",Cee="ScalingPolicies",xee="ScalingPolicyUpdate",Y1="S3Prefix",wm="StreamSpecification",X1="S3SseAlgorithm",MS="SSEDescription",Am="SSESpecification",Q1="SSESpecificationOverride",J1="SSEType",Z1="S3SseKmsKeyId",vee="SS",US="StartTime",ek="SourceTableArn",tk="SourceTableDetails",rk="SourceTableFeatureDetails",Ree="SourceTableName",Dee="StreamViewType",Pee="S",Nee="Scan",nk="Select",Oee="Segment",BS="Statement",FS="Status",ok="Table",dn="TableArn",$ee="TableAlreadyExistsException",GS="TableAutoScalingDescription",HS="TableClass",kee="TableCreationDateTime",Lee="TransactionCanceledException",Mee="TransactionConflictException",sk="TableClassOverride",jS="TableCreationParameters",ik="TableClassSummary",Js="TableDescription",Uee="ThrottlingException",Bee="TransactGetItem",Fee="TransactGetItemsInput",Gee="TransactGetItemList",Hee="TransactGetItemsOutput",jee="TransactGetItems",rc="TableId",qee="TransactionInProgressException",Vee="TableInUseException",ak="TransactItems",zee="TagKeys",Wee="TagList",Kee="TableMaxReadCapacityUnits",Yee="TableMaxWriteCapacityUnits",Q="TableName",Xee="TableNotFoundException",Qee="TableNames",ck="ThrottlingReasons",Jee="TagResourceInput",Zee="ThrottlingReasonList",ete="TimeRangeLowerBound",tte="TimeRangeUpperBound",rte="TagResource",nte="ThrottlingReason",ote="TransactStatements",uk="TableSizeBytes",lk="TableStatus",ste="TotalSegments",qS="TimeToLiveDescription",ite="TimeToLiveStatus",VS="TimeToLiveSpecification",dk="TargetTableName",pk="TargetTrackingScalingPolicyConfiguration",mk="TargetValue",ate="TransactWriteItem",cte="TransactWriteItemsInput",ute="TransactWriteItemList",lte="TransactWriteItemsOutput",dte="TransactWriteItems",pte="TableWarmThroughputDescription",zS="Tags",mte="Tag",Cm="Update",fte="UpdateContinuousBackups",hte="UpdateContinuousBackupsInput",gte="UpdateContinuousBackupsOutput",yte="UpdateContributorInsights",Ete="UpdateContributorInsightsInput",Ste="UpdateContributorInsightsOutput",fk="UpdateExpression",bte="UpdateGlobalSecondaryIndexAction",_te="UpdateGlobalTable",Tte="UpdateGlobalTableInput",Ite="UpdateGlobalTableOutput",wte="UpdateGlobalTableSettings",Ate="UpdateGlobalTableSettingsInput",Cte="UpdateGlobalTableSettingsOutput",xte="UnprocessedItems",vte="UpdateItemInput",Rte="UpdateItemOutput",Dte="UpdateItem",Pte="UnprocessedKeys",WS="UpdateKinesisStreamingConfiguration",Nte="UpdateKinesisStreamingDestination",Ote="UpdateKinesisStreamingDestinationInput",$te="UpdateKinesisStreamingDestinationOutput",kte="UseLatestRestorableTime",Lte="UntagResource",Mte="UpdateReplicationGroupMemberAction",Ute="UntagResourceInput",Bte="UpdateTable",Fte="UpdateTableInput",Gte="UpdateTableOutput",Hte="UpdateTableReplicaAutoScaling",jte="UpdateTableReplicaAutoScalingInput",qte="UpdateTableReplicaAutoScalingOutput",Vte="UpdateTimeToLive",zte="UpdateTimeToLiveInput",Wte="UpdateTimeToLiveOutput",KS="Value",xm="WriteCapacityUnits",Kte="WriteRequest",Yte="WriteRequests",Xte="WitnessStatus",Or="WarmThroughput",YS="WriteUnitsPerSecond",Qte="awsQueryError",fe="client",de="error",hk="httpError",Jte="httpHeader",Ee="message",Zte="reason",ere="resource",tre="server",gk="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",rre="throttlingReasons",nre="x-amz-confirm-remove-self-resource-access",p="com.amazonaws.dynamodb",yk=[3,p,A$,0,[jY,WY,GY],[4,0,0]],Ek=[3,p,HY,0,[hm,t9],[0,0],2],Sk=[3,p,n9,0,[KS,FY],[()=>Kt,0]],bk=[3,p,KY,0,[A1,pk],[0,()=>Tk]],_k=[3,p,XY,0,[pk,A1],[()=>Ik,0],1],an=[3,p,QY,0,[_1,T1,C$,x$,Cee],[1,1,2,0,()=>ore]],pn=[3,p,JY,0,[_1,T1,C$,x$,xee],[1,1,2,0,()=>_k]],Tk=[3,p,ZY,0,[mk,z$,W1,K1],[1,2,1,1],1],Ik=[3,p,e9,0,[mk,z$,W1,K1],[1,2,1,1],1],XS=[3,p,iS,0,[aS,tk,rk],[()=>QS,()=>$U,()=>kU]],QS=[3,p,aS,0,[Wa,cS,O$,uS,R$,$$,D$],[0,0,0,0,4,1,4],5],wk=[-3,p,f9,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(wk,Hd);var Ak=[-3,p,h9,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(Ak,jd);var Ck=[3,p,T9,0,[Q,rc,dn,Wa,cS,R$,D$,O$,uS,$$],[0,0,0,0,0,4,4,0,0,1]],xk=[3,p,a9,0,[hee,$t],[()=>Cre,0],1],vk=[3,p,c9,0,[Tm,xt],[()=>xre,()=>ni]],Rk=[3,p,l9,0,[L1,$t],[()=>RB,0],1],Dk=[3,p,d9,0,[Tm,Pte,xt],[()=>Hre,()=>RB,()=>ni]],Pk=[3,p,E9,0,[L$,Xs,ln],[0,0,()=>$r]],Nk=[3,p,S9,0,[BS,vS,zs,Nr],[0,()=>Sb,2,0],1],Ok=[3,p,b9,0,[cQ,Q,ln],[()=>Pk,0,()=>$r]],$k=[3,p,w9,0,[L1,$t,ec],[()=>DB,0,0],1],kk=[3,p,A9,0,[xte,Ks,xt],[()=>DB,()=>NB,()=>ni]],JS=[3,p,N$,0,[Ka,$7],[0,4]],Lk=[3,p,Y9,0,[ln,L$,Xs],[()=>$r,0,0]],ZS=[3,p,eX,0,[Za,xm,H$],[1,1,1]],eb=[3,p,tX,0,[F$,oS],[0,()=>IB],1],Mk=[-3,p,O9,{[de]:fe},[Ee,ln],[0,()=>$r]];ie.TypeRegistry.for(p).registerError(Mk,_p);var Uk=[3,p,M$,0,[Dr,Q,qo,zt,cn,Nr],[()=>vt,0,0,128,()=>fn,0],3],mn=[3,p,xt,0,[Q,H$,Za,xm,ok,Qa,Rr],[0,1,1,1,()=>ZS,()=>w$,()=>w$]],tb=[3,p,lS,0,[P9,I1],[0,()=>KM],1],Bk=[-3,p,N9,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(Bk,Jd);var Fk=[3,p,H9,0,[Q,Pe,dS,ym],[0,0,0,0]],Gk=[3,p,R9,0,[Q,cS],[0,0],2],Hk=[3,p,D9,0,[aS],[()=>QS]],jk=[3,p,k9,0,[Pe,Wt,ao,ir,sr,Or],[0,()=>cr,()=>co,()=>ar,()=>kt,()=>ri],3],qk=[3,p,M9,0,[un,RS],[0,()=>xB],2],Vk=[3,p,U9,0,[bm],[()=>vm]],zk=[3,p,B9,0,[_t],[0],1],Wk=[3,p,V9,0,[_t],[0],1],Kk=[3,p,z9,0,[_t,_m,io,so,Rr,sk],[0,0,()=>ei,()=>Zs,()=>CB,0],1],Yk=[3,p,Q9,0,[za,Q,Wt,Qa,Rr,Ka,ir,wm,Am,zS,HS,pS,Or,YZ,sr],[()=>Pm,0,()=>cr,()=>Eb,()=>Nm,0,()=>ar,()=>oc,()=>ti,()=>bb,0,2,()=>ri,0,()=>kt],3],Xk=[3,p,J9,0,[Js],[()=>Vo]],Qk=[3,p,j9,0,[nX,SJ],[0,64]],Jk=[3,p,Ws,0,[Dr,Q,qo,zt,cn,Nr],[()=>vt,0,0,128,()=>fn,0],2],Zk=[3,p,sX,0,[Wa],[0],1],eL=[3,p,aX,0,[iS],[()=>XS]],tL=[3,p,TX,0,[Pe],[0],1],rL=[3,p,RX,0,[_t],[0],1],nL=[3,p,NX,0,[Q,Dr,SS,Ya,$S,$t,ec,qo,zt,cn,Nr],[0,()=>vt,()=>Tb,0,0,0,0,0,128,()=>fn,0],2],oL=[3,p,$X,0,[sS,xt,Ks],[()=>$r,()=>mn,()=>nc]],sL=[3,p,qX,0,[_t],[0],1],iL=[3,p,VX,0,[_t],[0],1],aL=[3,p,V$,0,[Dr],[()=>vt],1],cL=[3,p,WX,0,[Qs,K$],[0,0],1],uL=[3,p,KX,0,[DS],[0]],lL=[3,p,QX,0,[Q],[0],1],dL=[3,p,ZX,0,[Js],[()=>Vo]],pL=[3,p,iX,0,[Wa],[0],1],mL=[3,p,cX,0,[iS],[()=>XS]],fL=[3,p,dX,0,[Q],[0],1],hL=[3,p,pX,0,[lS],[()=>tb]],gL=[3,p,fX,0,[Q,Pe],[0,0],1],yL=[3,p,hX,0,[Q,Pe,G9,dS,y1,r1,ym],[0,0,64,0,4,()=>XL,0]],EL=[3,p,SX,0,[],[]],SL=[3,p,bX,0,[Z$],[()=>cre],1],bL=[3,p,yX,0,[fS],[0],1],_L=[3,p,EX,0,[hS],[()=>nb]],TL=[3,p,wX,0,[un],[0],1],IL=[3,p,AX,0,[bm],[()=>vm]],wL=[3,p,xX,0,[un],[0],1],AL=[3,p,vX,0,[un,G1],[0,()=>vB]],CL=[3,p,OX,0,[bS],[0],1],xL=[3,p,kX,0,[AS],[()=>sb],1],vL=[3,p,UX,0,[Q],[0],1],RL=[3,p,BX,0,[Q,h1],[0,()=>_re]],DL=[3,p,HX,0,[],[]],PL=[3,p,jX,0,[VY,zY,Kee,Yee],[1,1,1,1]],NL=[3,p,JX,0,[Q],[0],1],OL=[3,p,eQ,0,[ok],[()=>Vo]],$L=[3,p,rQ,0,[Q],[0],1],kL=[3,p,nQ,0,[GS],[()=>pb]],LL=[3,p,sQ,0,[Q],[0],1],ML=[3,p,iQ,0,[qS],[()=>hb]],UL=[-3,p,PX,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(UL,up);var rb=[3,p,gS,0,[nS],[0]],BL=[3,p,LQ,0,[o9,q9],[0,1],2],FL=[3,p,IQ,0,[BS,vS,zs,Pr,$t,Ys,Nr],[0,()=>Sb,2,0,0,1,0],1],GL=[3,p,wQ,0,[CS,Pr,xt,xS],[()=>Om,0,()=>mn,()=>vt]],HL=[3,p,vQ,0,[ote,G$,$t],[()=>Are,[0,4],0],1],jL=[3,p,RQ,0,[Tm,xt],[()=>wB,()=>ni]],qL=[3,p,dQ,0,[KS,MQ,F$,oS],[()=>Kt,2,0,()=>IB]],VL=[-3,p,mQ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(VL,pp);var nb=[3,p,hS,0,[fS,Y$,US,yS,yQ,dn,rc,J$,Em,kS,LS,Y1,X1,Z1,t1,o1,W$,y9,Xa,ES,_S],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>ib]],zL=[-3,p,SQ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(zL,ip);var WL=[3,p,CQ,0,[fS,Y$,ES],[0,0,0]],KL=[3,p,NQ,0,[dn,kS,J$,Em,LS,Y1,X1,Z1,W$,ES,_S],[0,0,4,[0,4],0,0,0,0,0,0,()=>ib],2],YL=[3,p,OQ,0,[hS],[()=>nb]],XL=[3,p,r1,0,[EQ,fQ],[0,0]],QL=[3,p,s1,0,[Dr,Q,Ja,zt],[()=>vt,0,0,128],2],JL=[3,p,FQ,0,[Q,Dr,gm,zs,$t,Ja,zt],[0,()=>vt,64,2,0,0,128],2],ZL=[3,p,GQ,0,[ln,xt],[()=>$r,()=>mn]],eM=[3,p,jQ,0,[Qs],[0],1],tM=[3,p,qQ,0,[N1,DS],[0,0]],rM=[3,p,eJ,0,[Pe,Wt,ao,ir,sr,Or],[0,()=>cr,()=>co,()=>ar,()=>kt,()=>ri],3],nM=[3,p,VQ,0,[Pe,D1],[0,()=>pn]],oM=[3,p,WQ,0,[Pe,Wt,ao,wS,s9,ir,d1,Xa,u1,sr,Or],[0,()=>cr,()=>co,0,2,()=>lb,1,1,0,()=>kt,()=>ob]],sM=[3,p,YQ,0,[Pe,Wt,ao,ir,sr],[0,()=>cr,()=>co,()=>ar,()=>kt]],iM=[3,p,QQ,0,[Cm,Sm,Ws],[()=>oB,()=>jk,()=>tL]],ob=[3,p,ZQ,0,[NS,YS,FS],[1,1,0]],aM=[3,p,tJ,0,[un,RS],[0,()=>xB]],cM=[-3,p,nJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(cM,rp);var vm=[3,p,bm,0,[RS,rJ,U$,lJ,un],[()=>AB,0,4,0,0]],uM=[3,p,c1,0,[Pe,P1,fZ],[0,1,()=>pn],1],lM=[-3,p,aJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(lM,ap);var dM=[3,p,mJ,0,[_t,Xte],[0,0]],pM=[3,p,hJ,0,[Sm,Ws],[()=>zk,()=>rL]],mM=[-3,p,OJ,{[de]:fe},[Xs],[0]];ie.TypeRegistry.for(p).registerError(mM,lp);var fM=[-3,p,bJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(fM,hp);var hM=[-3,p,PJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(hM,cp);var gM=[3,p,UJ,0,[bS,m1,dn,Im,j$,TS,US,yS],[0,0,0,()=>Rm,0,0,4,4]],sb=[3,p,AS,0,[bS,m1,dn,rc,Em,Im,pQ,j$,TS,IS,l1,jS,US,yS,aZ,V7,RJ,t1,o1],[0,0,0,0,0,()=>Rm,1,0,0,()=>ab,0,()=>mb,4,4,1,1,1,0,0]],yM=[3,p,FJ,0,[Im,TS,jS,Em,IS,l1],[()=>Rm,0,()=>mb,[0,4],()=>ab,0],3],EM=[3,p,GJ,0,[AS],[()=>sb],1],ib=[3,p,_S,0,[hQ,DQ,kQ],[4,4,0]],SM=[-3,p,NJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(SM,bp);var ab=[3,p,IS,0,[rX],[()=>Qk]],bM=[-3,p,MJ,{[de]:tre},[Ee],[0]];ie.TypeRegistry.for(p).registerError(bM,qd);var _M=[-3,p,xJ,{[de]:fe,[hk]:421},[Xs],[0]];ie.TypeRegistry.for(p).registerError(_M,Wd);var TM=[-3,p,vJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(TM,mp);var IM=[-3,p,LJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(IM,yp);var nc=[3,p,Ks,0,[_J,See],[()=>jre,65]],wM=[-3,p,AJ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(wM,Xd);var AM=[3,p,$J,0,[ln],[()=>$r]],CM=[3,p,HJ,0,[QJ,gm,zs,Ja,zt],[()=>bre,64,2,0,128],1],xM=[3,p,YJ,0,[hm,XJ],[0,0],2],vM=[3,p,qJ,0,[tc,mS,YX,nS],[0,0,0,0]],cb=[3,p,WJ,0,[Q,tc,gS],[0,0,()=>rb],2],ub=[3,p,KJ,0,[Q,tc,mS,gS],[0,0,0,()=>rb]],RM=[-3,p,c7,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(RM,Zd);var DM=[3,p,e7,0,[Q,Ys,ete,tte,_Q,uS],[0,1,4,4,0,0]],PM=[3,p,t7,0,[k$,a7],[()=>sre,0]],NM=[3,p,n7,0,[Q,Pr,E1],[0,0,1]],OM=[3,p,o7,0,[B$,Pr],[()=>are,0]],$M=[3,p,l7,0,[dn,E1,Pr],[0,1,0]],kM=[3,p,d7,0,[Q$,Pr],[()=>ure,0]],LM=[3,p,f7,0,[TQ,Ys,_t],[0,1,0]],MM=[3,p,h7,0,[EJ,u7],[()=>hre,0]],UM=[3,p,E7,0,[dn,iZ,Pr],[0,1,0]],BM=[3,p,S7,0,[p1,Pr],[()=>Ere,0]],FM=[3,p,R7,0,[AQ,Ys],[0,1]],GM=[3,p,D7,0,[Qee,p7],[64,0]],HM=[3,p,N7,0,[Qs,Pr],[0,0],1],jM=[3,p,O7,0,[zS,Pr],[()=>bb,0]],qM=[3,p,C7,0,[Pe,Wt,ao],[0,()=>cr,()=>co],3],VM=[3,p,T7,0,[Pe,Wt,ao,d1,Xa,u1],[0,()=>cr,()=>co,1,1,0]],zM=[3,p,w7,0,[Pe,Wt,ao],[0,()=>cr,()=>co]],kt=[3,p,sr,0,[b1,M7],[1,1]],Zs=[3,p,so,0,[b1],[1]],WM=[3,p,uZ,0,[BS,vS,Nr],[0,()=>Sb,0],1],KM=[3,p,I1,0,[X7,M1,bQ,b7],[0,1,4,4]],YM=[3,p,w1,0,[Y7,M1],[2,1],1],XM=[-3,p,Q7,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(XM,fp);var QM=[-3,p,J7,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(QM,sp);var co=[3,p,ao,0,[mZ,F7],[0,64]],ar=[3,p,ir,0,[Za,xm],[1,1],2],lb=[3,p,dZ,0,[y7,s7,G7,Za,xm],[4,4,1,1,1]],JM=[-3,p,pZ,{[de]:fe},[Ee,ck],[0,()=>_b]];ie.TypeRegistry.for(p).registerError(JM,Kd);var ei=[3,p,io,0,[Za],[1]],ZM=[3,p,O1,0,[ln,Q,qo,zt,cn,Nr],[()=>Ib,0,0,128,()=>fn,0],2],eU=[3,p,z7,0,[Q,ln,SS,$S,$t,ec,Ya,qo,zt,cn,Nr],[0,()=>Ib,()=>Tb,0,0,0,0,0,128,()=>fn,0],2],tU=[3,p,K7,0,[sS,xt,Ks],[()=>$r,()=>mn,()=>nc]],rU=[3,p,C1,0,[ln],[()=>Ib],1],nU=[3,p,oZ,0,[Qs,N1,K$,K9],[0,0,0,[2,{[Jte]:nre}]],2],oU=[3,p,sZ,0,[DS],[0]],sU=[3,p,yZ,0,[Q,Pe,nk,gm,Ys,zs,f1,gZ,Ya,Iee,X$,$t,Ja,n1,jJ,zt,cn],[0,0,0,64,1,2,()=>qre,()=>PB,0,2,()=>vt,0,0,0,0,128,()=>fn],1],iU=[3,p,EZ,0,[CS,q$,z1,xS,xt],[()=>Om,1,1,()=>vt,()=>mn]],aU=[3,p,fee,0,[_t],[0]],cU=[-3,p,SZ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(cU,Ep);var uU=[3,p,bZ,0,[_t,Rr,U1,F1,PS],[0,()=>Dre,()=>an,()=>an,0]],lU=[3,p,TZ,0,[_t,BZ,QZ],[0,()=>Pre,()=>pn],1],dU=[3,p,AZ,0,[_t,PS,ZZ,ree,_m,io,so,Or,Rr,HZ,q1],[0,0,0,0,0,()=>ei,()=>Zs,()=>fb,()=>Nre,4,()=>Dm]],pU=[3,p,xZ,0,[Pe,io,so],[0,()=>ei,()=>Zs],1],mU=[3,p,vZ,0,[Pe,wS,x1,R1],[0,0,()=>an,()=>an]],fU=[3,p,DZ,0,[Pe,rZ],[0,()=>pn]],hU=[3,p,NZ,0,[Pe,io,so,Or],[0,()=>ei,()=>Zs,()=>ob]],gU=[3,p,LZ,0,[Pe,wS,v1,x1,P1,R1],[0,0,1,()=>an,1,()=>an],1],yU=[3,p,k1,0,[Pe,v1,tZ],[0,1,()=>pn],1],EU=[-3,p,WZ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(EU,Sp);var SU=[3,p,tee,0,[_t,PS,wZ,B1,U1,JZ,F1,kZ,q1],[0,0,()=>JS,1,()=>an,1,()=>an,()=>Ore,()=>Dm],1],bU=[3,p,H1,0,[_t,B1,XZ,k1,oee],[0,1,()=>pn,()=>$re,0],1],_U=[-3,p,mee,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(_U,Qd);var TU=[3,p,FZ,0,[Sm,Cm,Ws],[()=>Kk,()=>mB,()=>iL]],IU=[3,p,dee,0,[Sm,Ws],[()=>Wk,()=>sL]],wU=[-3,p,zZ,{[de]:fe},[Ee,ck],[0,()=>_b]];ie.TypeRegistry.for(p).registerError(wU,Vd);var AU=[-3,p,qZ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(AU,np);var CU=[-3,p,KZ,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(CU,Yd);var xU=[3,p,j1,0,[$1,jZ,gee,ek],[4,2,0,0],2],vU=[3,p,iee,0,[dk,Wa,P$,i1,g1,io,so,Q1],[0,0,0,()=>Nm,()=>Eb,()=>ar,()=>kt,()=>ti],2],RU=[3,p,aee,0,[Js],[()=>Vo]],DU=[3,p,uee,0,[dk,ek,Ree,kte,$1,P$,i1,g1,io,so,Q1],[0,0,0,2,4,0,()=>Nm,()=>Eb,()=>ar,()=>kt,()=>ti],1],PU=[3,p,lee,0,[Js],[()=>Vo]],Rm=[3,p,Im,0,[kS,LS,wee],[0,0,0],1],NU=[3,p,_ee,0,[Q,Pe,gm,Ys,nk,bee,Ya,X$,$t,ste,Oee,Ja,n1,zt,cn,zs],[0,0,64,1,0,()=>PB,0,()=>vt,0,1,1,0,0,128,()=>fn,2],1],OU=[3,p,Aee,0,[CS,q$,z1,xS,xt],[()=>Om,1,1,()=>vt,()=>mn]],$U=[3,p,tk,0,[Q,rc,Wt,kee,ir,dn,uk,sr,Xa,Ka],[0,0,()=>cr,4,()=>ar,0,1,()=>kt,1,0],5],kU=[3,p,rk,0,[Qa,Rr,yee,qS,MS],[()=>wre,()=>pre,()=>oc,()=>hb,()=>db]],db=[3,p,MS,0,[FS,J1,zJ,CJ],[0,0,0,4]],ti=[3,p,Am,0,[e1,J1,_m],[2,0,0]],oc=[3,p,wm,0,[Eee,Dee],[2,0],1],LU=[-3,p,$ee,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(LU,gp);var pb=[3,p,GS,0,[Q,lk,V1],[0,0,()=>vre]],Dm=[3,p,ik,0,[HS,y1],[0,4]],mb=[3,p,jS,0,[Q,za,Wt,Ka,ir,sr,Am,Rr],[0,()=>Pm,()=>cr,0,()=>ar,()=>kt,()=>ti,()=>Nm],3],Vo=[3,p,Js,0,[za,Q,Wt,lk,U$,ir,uk,Xa,dn,rc,N$,Qa,Rr,wm,x7,_7,dJ,V1,pJ,j1,MS,A$,ik,pS,sr,Or,S1],[()=>Pm,0,()=>cr,0,4,()=>lb,1,1,0,0,()=>JS,()=>Ire,()=>dre,()=>oc,0,0,0,()=>AB,()=>gre,()=>xU,()=>db,()=>yk,()=>Dm,2,()=>kt,()=>fb,0]],MU=[-3,p,Vee,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(MU,ep);var UU=[-3,p,Xee,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(UU,tp);var fb=[3,p,pte,0,[NS,YS,FS],[1,1,0]],BU=[3,p,mte,0,[Dr,KS],[0,0],2],FU=[3,p,Jee,0,[Qs,zS],[0,()=>bb],2],GU=[-3,p,Uee,{[Qte]:["Throttling",400],[de]:fe,[hk]:400},[Ee,rre],[0,()=>_b]];ie.TypeRegistry.for(p).registerError(GU,zd);var HU=[3,p,nte,0,[Zte,ere],[0,0]],hb=[3,p,qS,0,[ite,hm],[0,0]],gb=[3,p,VS,0,[e1,hm],[2,0],2],jU=[3,p,Bee,0,[s1],[()=>QL],1],qU=[3,p,Fee,0,[ak,$t],[()=>Ure,0],1],VU=[3,p,Hee,0,[xt,Tm],[()=>ni,()=>wB]],zU=[-3,p,Lee,{[de]:fe},[Xs,X9],[0,()=>ire]];ie.TypeRegistry.for(p).registerError(zU,Tp);var WU=[-3,p,Mee,{[de]:fe},[Ee],[0]];ie.TypeRegistry.for(p).registerError(WU,op);var KU=[-3,p,qee,{[de]:fe},[Xs],[0]];ie.TypeRegistry.for(p).registerError(KU,dp);var YU=[3,p,ate,0,[M$,O1,Ws,Cm],[()=>Uk,()=>ZM,()=>Jk,()=>ZU]],XU=[3,p,cte,0,[ak,$t,ec,G$],[()=>Bre,0,0,[0,4]],1],QU=[3,p,lte,0,[xt,Ks],[()=>ni,()=>NB]],JU=[3,p,Ute,0,[Qs,zee],[0,64],2],ZU=[3,p,Cm,0,[Dr,fk,Q,qo,zt,cn,Nr],[()=>vt,0,0,0,128,()=>fn,0],3],eB=[3,p,hte,0,[Q,w1],[0,()=>YM],2],tB=[3,p,gte,0,[lS],[()=>tb]],rB=[3,p,Ete,0,[Q,F9,Pe,ym],[0,0,0,0],2],nB=[3,p,Ste,0,[Q,Pe,dS,ym],[0,0,0,0]],oB=[3,p,bte,0,[Pe,ir,sr,Or],[0,()=>ar,()=>kt,()=>ri],1],sB=[3,p,Tte,0,[un,OS],[0,()=>Mre],2],iB=[3,p,Ite,0,[bm],[()=>vm]],aB=[3,p,Ate,0,[un,oJ,uJ,cJ,c1,H1],[0,0,1,()=>pn,()=>fre,()=>kre],1],cB=[3,p,Cte,0,[un,G1],[0,()=>vB]],uB=[3,p,vte,0,[Q,Dr,v$,SS,Ya,$S,$t,ec,fk,qo,zt,cn,Nr],[0,()=>vt,()=>Gre,()=>Tb,0,0,0,0,0,0,128,()=>fn,0],2],lB=[3,p,Rte,0,[sS,xt,Ks],[()=>$r,()=>mn,()=>nc]],yb=[3,p,WS,0,[nS],[0]],dB=[3,p,Ote,0,[Q,tc,WS],[0,0,()=>yb],2],pB=[3,p,$te,0,[Q,tc,mS,WS],[0,0,0,()=>yb]],mB=[3,p,Mte,0,[_t,_m,io,so,Rr,sk],[0,0,()=>ei,()=>Zs,()=>CB,0],1],fB=[3,p,Fte,0,[Q,za,Ka,ir,a1,wm,Am,OS,HS,pS,S1,yJ,sr,Or],[0,()=>Pm,0,()=>ar,()=>mre,()=>oc,()=>ti,()=>Lre,0,2,0,()=>yre,()=>kt,()=>ri],1],hB=[3,p,Gte,0,[Js],[()=>Vo]],gB=[3,p,jte,0,[Q,a1,D1,OS],[0,()=>lre,()=>pn,()=>Rre],1],yB=[3,p,qte,0,[GS],[()=>pb]],EB=[3,p,zte,0,[Q,VS],[0,()=>gb],2],SB=[3,p,Wte,0,[VS],[()=>gb]],ri=[3,p,Or,0,[NS,YS],[1,1]],bB=[3,p,Kte,0,[C1,V$],[()=>rU,()=>aL]],_B="unit",TB=[-3,gk,"DynamoDBServiceException",0,[],[]];ie.TypeRegistry.for(gk).registerError(TB,re);var Pm=[1,p,za,0,()=>Ek],IB=[1,p,oS,0,()=>Kt],ore=[1,p,YY,0,()=>bk],sre=[1,p,k$,0,()=>Ck],ire=[1,p,W9,0,()=>Lk],ni=[1,p,$9,0,()=>mn],are=[1,p,B$,0,()=>Fk],cre=[1,p,Z$,0,()=>BL],ure=[1,p,Q$,0,()=>WL],lre=[1,p,zQ,0,()=>nM],dre=[1,p,KQ,0,()=>oM],pre=[1,p,Rr,0,()=>sM],Nm=[1,p,XQ,0,()=>rM],mre=[1,p,JQ,0,()=>iM],fre=[1,p,sJ,0,()=>uM],hre=[1,p,iJ,0,()=>aM],gre=[1,p,fJ,0,()=>dM],yre=[1,p,gJ,0,()=>pM],Ere=[1,p,p1,0,()=>gM],Sre=[1,p,IJ,0,()=>nc],Om=[1,p,DJ,0,()=>$r],wB=[1,p,kJ,0,()=>AM],bre=[1,p,VJ,0,()=>vt],cr=[1,p,Wt,0,()=>xM],_re=[1,p,h1,0,()=>vM],Tre=[1,p,JJ,0,()=>Kt],Ire=[1,p,I7,0,()=>VM],wre=[1,p,Qa,0,()=>zM],Eb=[1,p,A7,0,()=>qM],Are=[1,p,lZ,0,()=>WM],Cre=[1,p,Z7,0,()=>Nk],xre=[1,p,eZ,0,()=>Ok],Sb=[1,p,cZ,0,()=>Kt],vre=[1,p,_Z,0,()=>uU],Rre=[1,p,IZ,0,()=>lU],AB=[1,p,CZ,0,()=>dU],Dre=[1,p,RZ,0,()=>mU],Pre=[1,p,PZ,0,()=>fU],Nre=[1,p,OZ,0,()=>hU],CB=[1,p,$Z,0,()=>pU],Ore=[1,p,MZ,0,()=>gU],$re=[1,p,UZ,0,()=>yU],xB=[1,p,VZ,0,()=>aU],vB=[1,p,eee,0,()=>SU],kre=[1,p,nee,0,()=>bU],Lre=[1,p,GZ,0,()=>TU],Mre=[1,p,pee,0,()=>IU],bb=[1,p,Wee,0,()=>BU],_b=[1,p,Zee,0,()=>HU],Ure=[1,p,Gee,0,()=>jU],Bre=[1,p,ute,0,()=>YU],Fre=[1,p,Yte,0,()=>bB],$r=[2,p,qY,0,0,()=>Kt],Gre=[2,p,v$,0,0,()=>Sk],RB=[2,p,m9,0,0,()=>CM],Hre=[2,p,p9,0,0,()=>Om],DB=[2,p,C9,0,0,()=>Fre],Tb=[2,p,uQ,0,0,()=>qL],fn=[2,p,lQ,0,0,()=>Kt],PB=[2,p,UQ,0,0,()=>eb],jre=[2,p,TJ,0,0,()=>Kt],NB=[2,p,wJ,0,0,()=>Sre],vt=[2,p,Dr,0,0,()=>Kt],qre=[2,p,f1,0,0,()=>eb],Vre=[2,p,L7,0,0,()=>Kt],Ib=[2,p,W7,0,0,()=>Kt],w$=[2,p,Tee,0,0,()=>ZS],Kt=[4,p,r9,0,[Pee,B7,x9,vee,H7,_9,U7,k7,j7,g9],[0,0,21,64,64,85,()=>Vre,()=>Tre,2,2]],OB=[9,p,i9,0,()=>xk,()=>vk],$B=[9,p,u9,0,()=>Rk,()=>Dk],kB=[9,p,I9,0,()=>$k,()=>kk],LB=[9,p,v9,0,()=>Gk,()=>Hk],MB=[9,p,L9,0,()=>qk,()=>Vk],UB=[9,p,Z9,0,()=>Yk,()=>Xk],BB=[9,p,oX,0,()=>Zk,()=>eL],FB=[9,p,DX,0,()=>nL,()=>oL],GB=[9,p,zX,0,()=>cL,()=>uL],HB=[9,p,XX,0,()=>lL,()=>dL],jB=[9,p,uX,0,()=>pL,()=>mL],qB=[9,p,lX,0,()=>fL,()=>hL],VB=[9,p,mX,0,()=>gL,()=>yL],zB=[9,p,gX,0,()=>EL,()=>SL],WB=[9,p,_X,0,()=>bL,()=>_L],KB=[9,p,IX,0,()=>TL,()=>IL],YB=[9,p,CX,0,()=>wL,()=>AL],XB=[9,p,LX,0,()=>CL,()=>xL],QB=[9,p,MX,0,()=>vL,()=>RL],JB=[9,p,GX,0,()=>DL,()=>PL],ZB=[9,p,aQ,0,()=>NL,()=>OL],eF=[9,p,tQ,0,()=>$L,()=>kL],tF=[9,p,oQ,0,()=>LL,()=>ML],rF=[9,p,FX,0,()=>cb,()=>ub],nF=[9,p,gQ,0,()=>cb,()=>ub],oF=[9,p,xQ,0,()=>FL,()=>GL],sF=[9,p,$Q,0,()=>HL,()=>jL],iF=[9,p,PQ,0,()=>KL,()=>YL],aF=[9,p,BQ,0,()=>JL,()=>ZL],cF=[9,p,HQ,0,()=>eM,()=>tM],uF=[9,p,BJ,0,()=>yM,()=>EM],lF=[9,p,ZJ,0,()=>DM,()=>PM],dF=[9,p,r7,0,()=>NM,()=>OM],pF=[9,p,i7,0,()=>$M,()=>kM],mF=[9,p,m7,0,()=>LM,()=>MM],fF=[9,p,g7,0,()=>UM,()=>BM],hF=[9,p,v7,0,()=>FM,()=>GM],gF=[9,p,P7,0,()=>HM,()=>jM],yF=[9,p,q7,0,()=>eU,()=>tU],EF=[9,p,nZ,0,()=>nU,()=>oU],SF=[9,p,hZ,0,()=>sU,()=>iU],bF=[9,p,see,0,()=>vU,()=>RU],_F=[9,p,cee,0,()=>DU,()=>PU],TF=[9,p,Nee,0,()=>NU,()=>OU],IF=[9,p,rte,0,()=>FU,()=>_B],wF=[9,p,jee,0,()=>qU,()=>VU],AF=[9,p,dte,0,()=>XU,()=>QU],CF=[9,p,Lte,0,()=>JU,()=>_B],xF=[9,p,fte,0,()=>eB,()=>tB],vF=[9,p,yte,0,()=>rB,()=>nB],RF=[9,p,_te,0,()=>sB,()=>iB],DF=[9,p,wte,0,()=>aB,()=>cB],PF=[9,p,Dte,0,()=>uB,()=>lB],NF=[9,p,Nte,0,()=>dB,()=>pB],OF=[9,p,Bte,0,()=>fB,()=>hB],$F=[9,p,Hte,0,()=>gB,()=>yB],kF=[9,p,Vte,0,()=>EB,()=>SB],ka=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(zB).build(){},zre=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},Wre=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Kre=(e,t)=>{let r=Object.assign(T$.getAwsRegionExtensionConfiguration(e),L.getDefaultExtensionConfiguration(e),I$.getHttpHandlerExtensionConfiguration(e),zre(e));return t.forEach(n=>n.configure(r)),Object.assign(e,T$.resolveAwsRegionExtensionConfiguration(r),L.resolveDefaultRuntimeConfig(r),I$.resolveHttpHandlerRuntimeConfig(r),Wre(r))},vr=class extends L.Client{config;constructor(...[t]){let r=UY.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=BY(r),o=NY.resolveAccountIdEndpointModeConfig(n),s=S$.resolveUserAgentConfig(o),i=b$.resolveRetryConfig(s),a=LY.resolveRegionConfig(i),u=E$.resolveHostHeaderConfig(a),d=F.resolveEndpointConfig(u),g=_$.resolveHttpAuthSchemeConfig(d),h=OY.resolveEndpointDiscoveryConfig(g,{endpointDiscoveryCommandCtor:ka}),E=Kre(h,t?.extensions||[]);this.config=E,this.middlewareStack.use(ie.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(S$.getUserAgentPlugin(this.config)),this.middlewareStack.use(b$.getRetryPlugin(this.config)),this.middlewareStack.use(MY.getContentLengthPlugin(this.config)),this.middlewareStack.use(E$.getHostHeaderPlugin(this.config)),this.middlewareStack.use($Y.getLoggerPlugin(this.config)),this.middlewareStack.use(kY.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(sn.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:_$.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async y=>new sn.DefaultIdentityProviderConfig({"aws.auth#sigv4":y.credentials})})),this.middlewareStack.use(sn.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Ip=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(OB).build(){},wp=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc($B).build(){},Ap=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(kB).build(){},Cp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(LB).build(){},xp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(MB).build(){},vp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(UB).build(){},Rp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(BB).build(){},Dp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(FB).build(){},Pp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(GB).build(){},Np=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(HB).build(){},Op=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(jB).build(){},$p=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(qB).build(){},La=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(VB).build(){},Ma=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(WB).build(){},kp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(KB).build(){},Lp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(YB).build(){},Ua=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(XB).build(){},Ba=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(QB).build(){},Mp=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(JB).build(){},Vs=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(ZB).build(){},Up=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(eF).build(){},Bp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(tF).build(){},Fp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(rF).build(){},Gp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(nF).build(){},Hp=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(oF).build(){},jp=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(sF).build(){},qp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(iF).build(){},Vp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(aF).build(){},zp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(cF).build(){},Wp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"operationContextParams",get:t=>t?.TableCreationParameters?.TableName}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(uF).build(){},Kp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(lF).build(){},Fa=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(dF).build(){},Ga=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(pF).build(){},Yp=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(mF).build(){},Ha=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(fF).build(){},ja=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(hF).build(){},Xp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(gF).build(){},Qp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(yF).build(){},Jp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(EF).build(){},qa=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(SF).build(){},Zp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(bF).build(){},em=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(_F).build(){},Va=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(TF).build(){},tm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(IF).build(){},rm=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(wF).build(){},nm=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(AF).build(){},om=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(CF).build(){},sm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(xF).build(){},im=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(vF).build(){},am=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(RF).build(){},cm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(DF).build(){},um=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(PF).build(){},lm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(NF).build(){},dm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(OF).build(){},pm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc($F).build(){},mm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(kF).build(){},Yre={BatchExecuteStatementCommand:Ip,BatchGetItemCommand:wp,BatchWriteItemCommand:Ap,CreateBackupCommand:Cp,CreateGlobalTableCommand:xp,CreateTableCommand:vp,DeleteBackupCommand:Rp,DeleteItemCommand:Dp,DeleteResourcePolicyCommand:Pp,DeleteTableCommand:Np,DescribeBackupCommand:Op,DescribeContinuousBackupsCommand:$p,DescribeContributorInsightsCommand:La,DescribeEndpointsCommand:ka,DescribeExportCommand:Ma,DescribeGlobalTableCommand:kp,DescribeGlobalTableSettingsCommand:Lp,DescribeImportCommand:Ua,DescribeKinesisStreamingDestinationCommand:Ba,DescribeLimitsCommand:Mp,DescribeTableCommand:Vs,DescribeTableReplicaAutoScalingCommand:Up,DescribeTimeToLiveCommand:Bp,DisableKinesisStreamingDestinationCommand:Fp,EnableKinesisStreamingDestinationCommand:Gp,ExecuteStatementCommand:Hp,ExecuteTransactionCommand:jp,ExportTableToPointInTimeCommand:qp,GetItemCommand:Vp,GetResourcePolicyCommand:zp,ImportTableCommand:Wp,ListBackupsCommand:Kp,ListContributorInsightsCommand:Fa,ListExportsCommand:Ga,ListGlobalTablesCommand:Yp,ListImportsCommand:Ha,ListTablesCommand:ja,ListTagsOfResourceCommand:Xp,PutItemCommand:Qp,PutResourcePolicyCommand:Jp,QueryCommand:qa,RestoreTableFromBackupCommand:Zp,RestoreTableToPointInTimeCommand:em,ScanCommand:Va,TagResourceCommand:tm,TransactGetItemsCommand:rm,TransactWriteItemsCommand:nm,UntagResourceCommand:om,UpdateContinuousBackupsCommand:sm,UpdateContributorInsightsCommand:im,UpdateGlobalTableCommand:am,UpdateGlobalTableSettingsCommand:cm,UpdateItemCommand:um,UpdateKinesisStreamingDestinationCommand:lm,UpdateTableCommand:dm,UpdateTableReplicaAutoScalingCommand:pm,UpdateTimeToLiveCommand:mm},fm=class extends vr{};L.createAggregatedClient(Yre,fm);var Xre=sn.createPaginator(vr,Fa,"NextToken","NextToken","MaxResults"),Qre=sn.createPaginator(vr,Ga,"NextToken","NextToken","MaxResults"),Jre=sn.createPaginator(vr,Ha,"NextToken","NextToken","PageSize"),Zre=sn.createPaginator(vr,ja,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),ene=sn.createPaginator(vr,qa,"ExclusiveStartKey","LastEvaluatedKey","Limit"),tne=sn.createPaginator(vr,Va,"ExclusiveStartKey","LastEvaluatedKey","Limit"),LF=async(e,t)=>{let r;try{let n=await e.send(new La(t));r=n;try{if(n.ContributorInsightsStatus==="ENABLED")return{state:ce.WaiterState.SUCCESS,reason:r}}catch{}try{if(n.ContributorInsightsStatus==="FAILED")return{state:ce.WaiterState.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:ce.WaiterState.RETRY,reason:r}},rne=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ce.createWaiter({...r,...e},t,LF)},nne=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ce.createWaiter({...r,...e},t,LF);return ce.checkExceptions(n)},MF=async(e,t)=>{let r;try{let n=await e.send(new Ma(t));r=n;try{if(n.ExportDescription.ExportStatus==="COMPLETED")return{state:ce.WaiterState.SUCCESS,reason:r}}catch{}try{if(n.ExportDescription.ExportStatus==="FAILED")return{state:ce.WaiterState.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:ce.WaiterState.RETRY,reason:r}},one=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ce.createWaiter({...r,...e},t,MF)},sne=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ce.createWaiter({...r,...e},t,MF);return ce.checkExceptions(n)},UF=async(e,t)=>{let r;try{let n=await e.send(new Ua(t));r=n;try{if(n.ImportTableDescription.ImportStatus==="COMPLETED")return{state:ce.WaiterState.SUCCESS,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="FAILED")return{state:ce.WaiterState.FAILURE,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="CANCELLED")return{state:ce.WaiterState.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:ce.WaiterState.RETRY,reason:r}},ine=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ce.createWaiter({...r,...e},t,UF)},ane=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ce.createWaiter({...r,...e},t,UF);return ce.checkExceptions(n)},BF=async(e,t)=>{let r;try{let n=await e.send(new Ba(t));r=n;try{let o=()=>[].concat(...n.KinesisDataStreamDestinations).map(a=>a.DestinationStatus);for(let s of o())if(s=="ACTIVE")return{state:ce.WaiterState.SUCCESS,reason:r}}catch{}try{if((()=>{let s=n.KinesisDataStreamDestinations.filter(i=>(i.DestinationStatus=="DISABLED"||i.DestinationStatus=="ENABLE_FAILED")&&(i.DestinationStatus=="ENABLE_FAILED"||i.DestinationStatus=="DISABLED"));return n.KinesisDataStreamDestinations.length>0&&s.length==n.KinesisDataStreamDestinations.length})()==!0)return{state:ce.WaiterState.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:ce.WaiterState.RETRY,reason:r}},cne=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ce.createWaiter({...r,...e},t,BF)},une=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ce.createWaiter({...r,...e},t,BF);return ce.checkExceptions(n)},FF=async(e,t)=>{let r;try{let n=await e.send(new Vs(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:ce.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:ce.WaiterState.RETRY,reason:r}}return{state:ce.WaiterState.RETRY,reason:r}},lne=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ce.createWaiter({...r,...e},t,FF)},dne=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ce.createWaiter({...r,...e},t,FF);return ce.checkExceptions(n)},GF=async(e,t)=>{let r;try{r=await e.send(new Vs(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:ce.WaiterState.SUCCESS,reason:r}}return{state:ce.WaiterState.RETRY,reason:r}},pne=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ce.createWaiter({...r,...e},t,GF)},mne=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ce.createWaiter({...r,...e},t,GF);return ce.checkExceptions(n)},fne={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},hne={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},gne={B:"B",N:"N",S:"S"},yne={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Ene={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Sne={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},bne={HASH:"HASH",RANGE:"RANGE"},_ne={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},Tne={AES256:"AES256",KMS:"KMS"},Ine={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},wne={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},Ane={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Cne={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},xne={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},vne={ALL_OLD:"ALL_OLD",NONE:"NONE"},Rne={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},Dne={NONE:"NONE",SIZE:"SIZE"},Pne={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},Nne={AND:"AND",OR:"OR"},One={DISABLED:"DISABLED",ENABLED:"ENABLED"},$ne={DISABLED:"DISABLED",ENABLED:"ENABLED"},kne={DISABLE:"DISABLE",ENABLE:"ENABLE"},Lne={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Mne={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},Une={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Bne={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Fne={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Gne={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},Hne={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},jne={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},qne={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},Vne={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},zne={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Wne={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Kne={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Yne={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},Xne={AES256:"AES256",KMS:"KMS"},Qne={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Jne={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Zne={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},eoe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},toe={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"};Object.defineProperty(l,"$Command",{enumerable:!0,get:function(){return L.Command}});Object.defineProperty(l,"__Client",{enumerable:!0,get:function(){return L.Client}});l.ApproximateCreationDateTimePrecision=fne;l.ArchivalSummary$=yk;l.AttributeAction=hne;l.AttributeDefinition$=Ek;l.AttributeValue$=Kt;l.AttributeValueUpdate$=Sk;l.AutoScalingPolicyDescription$=bk;l.AutoScalingPolicyUpdate$=_k;l.AutoScalingSettingsDescription$=an;l.AutoScalingSettingsUpdate$=pn;l.AutoScalingTargetTrackingScalingPolicyConfigurationDescription$=Tk;l.AutoScalingTargetTrackingScalingPolicyConfigurationUpdate$=Ik;l.BackupDescription$=XS;l.BackupDetails$=QS;l.BackupInUseException=Hd;l.BackupInUseException$=wk;l.BackupNotFoundException=jd;l.BackupNotFoundException$=Ak;l.BackupStatus=yne;l.BackupSummary$=Ck;l.BackupType=Ene;l.BackupTypeFilter=Cne;l.BatchExecuteStatement$=OB;l.BatchExecuteStatementCommand=Ip;l.BatchExecuteStatementInput$=xk;l.BatchExecuteStatementOutput$=vk;l.BatchGetItem$=$B;l.BatchGetItemCommand=wp;l.BatchGetItemInput$=Rk;l.BatchGetItemOutput$=Dk;l.BatchStatementError$=Pk;l.BatchStatementErrorCodeEnum=Rne;l.BatchStatementRequest$=Nk;l.BatchStatementResponse$=Ok;l.BatchWriteItem$=kB;l.BatchWriteItemCommand=Ap;l.BatchWriteItemInput$=$k;l.BatchWriteItemOutput$=kk;l.BillingMode=Sne;l.BillingModeSummary$=JS;l.CancellationReason$=Lk;l.Capacity$=ZS;l.ComparisonOperator=Pne;l.Condition$=eb;l.ConditionCheck$=Uk;l.ConditionalCheckFailedException=_p;l.ConditionalCheckFailedException$=Mk;l.ConditionalOperator=Nne;l.ConsumedCapacity$=mn;l.ContinuousBackupsDescription$=tb;l.ContinuousBackupsStatus=One;l.ContinuousBackupsUnavailableException=Jd;l.ContinuousBackupsUnavailableException$=Bk;l.ContributorInsightsAction=kne;l.ContributorInsightsMode=Lne;l.ContributorInsightsStatus=Mne;l.ContributorInsightsSummary$=Fk;l.CreateBackup$=LB;l.CreateBackupCommand=Cp;l.CreateBackupInput$=Gk;l.CreateBackupOutput$=Hk;l.CreateGlobalSecondaryIndexAction$=jk;l.CreateGlobalTable$=MB;l.CreateGlobalTableCommand=xp;l.CreateGlobalTableInput$=qk;l.CreateGlobalTableOutput$=Vk;l.CreateGlobalTableWitnessGroupMemberAction$=zk;l.CreateReplicaAction$=Wk;l.CreateReplicationGroupMemberAction$=Kk;l.CreateTable$=UB;l.CreateTableCommand=vp;l.CreateTableInput$=Yk;l.CreateTableOutput$=Xk;l.CsvOptions$=Qk;l.Delete$=Jk;l.DeleteBackup$=BB;l.DeleteBackupCommand=Rp;l.DeleteBackupInput$=Zk;l.DeleteBackupOutput$=eL;l.DeleteGlobalSecondaryIndexAction$=tL;l.DeleteGlobalTableWitnessGroupMemberAction$=rL;l.DeleteItem$=FB;l.DeleteItemCommand=Dp;l.DeleteItemInput$=nL;l.DeleteItemOutput$=oL;l.DeleteReplicaAction$=sL;l.DeleteReplicationGroupMemberAction$=iL;l.DeleteRequest$=aL;l.DeleteResourcePolicy$=GB;l.DeleteResourcePolicyCommand=Pp;l.DeleteResourcePolicyInput$=cL;l.DeleteResourcePolicyOutput$=uL;l.DeleteTable$=HB;l.DeleteTableCommand=Np;l.DeleteTableInput$=lL;l.DeleteTableOutput$=dL;l.DescribeBackup$=jB;l.DescribeBackupCommand=Op;l.DescribeBackupInput$=pL;l.DescribeBackupOutput$=mL;l.DescribeContinuousBackups$=qB;l.DescribeContinuousBackupsCommand=$p;l.DescribeContinuousBackupsInput$=fL;l.DescribeContinuousBackupsOutput$=hL;l.DescribeContributorInsights$=VB;l.DescribeContributorInsightsCommand=La;l.DescribeContributorInsightsInput$=gL;l.DescribeContributorInsightsOutput$=yL;l.DescribeEndpoints$=zB;l.DescribeEndpointsCommand=ka;l.DescribeEndpointsRequest$=EL;l.DescribeEndpointsResponse$=SL;l.DescribeExport$=WB;l.DescribeExportCommand=Ma;l.DescribeExportInput$=bL;l.DescribeExportOutput$=_L;l.DescribeGlobalTable$=KB;l.DescribeGlobalTableCommand=kp;l.DescribeGlobalTableInput$=TL;l.DescribeGlobalTableOutput$=IL;l.DescribeGlobalTableSettings$=YB;l.DescribeGlobalTableSettingsCommand=Lp;l.DescribeGlobalTableSettingsInput$=wL;l.DescribeGlobalTableSettingsOutput$=AL;l.DescribeImport$=XB;l.DescribeImportCommand=Ua;l.DescribeImportInput$=CL;l.DescribeImportOutput$=xL;l.DescribeKinesisStreamingDestination$=QB;l.DescribeKinesisStreamingDestinationCommand=Ba;l.DescribeKinesisStreamingDestinationInput$=vL;l.DescribeKinesisStreamingDestinationOutput$=RL;l.DescribeLimits$=JB;l.DescribeLimitsCommand=Mp;l.DescribeLimitsInput$=DL;l.DescribeLimitsOutput$=PL;l.DescribeTable$=ZB;l.DescribeTableCommand=Vs;l.DescribeTableInput$=NL;l.DescribeTableOutput$=OL;l.DescribeTableReplicaAutoScaling$=eF;l.DescribeTableReplicaAutoScalingCommand=Up;l.DescribeTableReplicaAutoScalingInput$=$L;l.DescribeTableReplicaAutoScalingOutput$=kL;l.DescribeTimeToLive$=tF;l.DescribeTimeToLiveCommand=Bp;l.DescribeTimeToLiveInput$=LL;l.DescribeTimeToLiveOutput$=ML;l.DestinationStatus=eoe;l.DisableKinesisStreamingDestination$=rF;l.DisableKinesisStreamingDestinationCommand=Fp;l.DuplicateItemException=up;l.DuplicateItemException$=UL;l.DynamoDB=fm;l.DynamoDBClient=vr;l.DynamoDBServiceException=re;l.DynamoDBServiceException$=TB;l.EnableKinesisStreamingConfiguration$=rb;l.EnableKinesisStreamingDestination$=nF;l.EnableKinesisStreamingDestinationCommand=Gp;l.Endpoint$=BL;l.ExecuteStatement$=oF;l.ExecuteStatementCommand=Hp;l.ExecuteStatementInput$=FL;l.ExecuteStatementOutput$=GL;l.ExecuteTransaction$=sF;l.ExecuteTransactionCommand=jp;l.ExecuteTransactionInput$=HL;l.ExecuteTransactionOutput$=jL;l.ExpectedAttributeValue$=qL;l.ExportConflictException=pp;l.ExportConflictException$=VL;l.ExportDescription$=nb;l.ExportFormat=zne;l.ExportNotFoundException=ip;l.ExportNotFoundException$=zL;l.ExportStatus=Wne;l.ExportSummary$=WL;l.ExportTableToPointInTime$=iF;l.ExportTableToPointInTimeCommand=qp;l.ExportTableToPointInTimeInput$=KL;l.ExportTableToPointInTimeOutput$=YL;l.ExportType=Kne;l.ExportViewType=Yne;l.FailureException$=XL;l.Get$=QL;l.GetItem$=aF;l.GetItemCommand=Vp;l.GetItemInput$=JL;l.GetItemOutput$=ZL;l.GetResourcePolicy$=cF;l.GetResourcePolicyCommand=zp;l.GetResourcePolicyInput$=eM;l.GetResourcePolicyOutput$=tM;l.GlobalSecondaryIndex$=rM;l.GlobalSecondaryIndexAutoScalingUpdate$=nM;l.GlobalSecondaryIndexDescription$=oM;l.GlobalSecondaryIndexInfo$=sM;l.GlobalSecondaryIndexUpdate$=iM;l.GlobalSecondaryIndexWarmThroughputDescription$=ob;l.GlobalTable$=aM;l.GlobalTableAlreadyExistsException=rp;l.GlobalTableAlreadyExistsException$=cM;l.GlobalTableDescription$=vm;l.GlobalTableGlobalSecondaryIndexSettingsUpdate$=uM;l.GlobalTableNotFoundException=ap;l.GlobalTableNotFoundException$=lM;l.GlobalTableStatus=Une;l.GlobalTableWitnessDescription$=dM;l.GlobalTableWitnessGroupUpdate$=pM;l.IdempotentParameterMismatchException=lp;l.IdempotentParameterMismatchException$=mM;l.ImportConflictException=hp;l.ImportConflictException$=fM;l.ImportNotFoundException=cp;l.ImportNotFoundException$=hM;l.ImportStatus=Qne;l.ImportSummary$=gM;l.ImportTable$=uF;l.ImportTableCommand=Wp;l.ImportTableDescription$=sb;l.ImportTableInput$=yM;l.ImportTableOutput$=EM;l.IncrementalExportSpecification$=ib;l.IndexNotFoundException=bp;l.IndexNotFoundException$=SM;l.IndexStatus=Bne;l.InputCompressionType=Jne;l.InputFormat=Zne;l.InputFormatOptions$=ab;l.InternalServerError=qd;l.InternalServerError$=bM;l.InvalidEndpointException=Wd;l.InvalidEndpointException$=_M;l.InvalidExportTimeException=mp;l.InvalidExportTimeException$=TM;l.InvalidRestoreTimeException=yp;l.InvalidRestoreTimeException$=IM;l.ItemCollectionMetrics$=nc;l.ItemCollectionSizeLimitExceededException=Xd;l.ItemCollectionSizeLimitExceededException$=wM;l.ItemResponse$=AM;l.KeySchemaElement$=xM;l.KeyType=bne;l.KeysAndAttributes$=CM;l.KinesisDataStreamDestination$=vM;l.KinesisStreamingDestinationInput$=cb;l.KinesisStreamingDestinationOutput$=ub;l.LimitExceededException=Zd;l.LimitExceededException$=RM;l.ListBackups$=lF;l.ListBackupsCommand=Kp;l.ListBackupsInput$=DM;l.ListBackupsOutput$=PM;l.ListContributorInsights$=dF;l.ListContributorInsightsCommand=Fa;l.ListContributorInsightsInput$=NM;l.ListContributorInsightsOutput$=OM;l.ListExports$=pF;l.ListExportsCommand=Ga;l.ListExportsInput$=$M;l.ListExportsOutput$=kM;l.ListGlobalTables$=mF;l.ListGlobalTablesCommand=Yp;l.ListGlobalTablesInput$=LM;l.ListGlobalTablesOutput$=MM;l.ListImports$=fF;l.ListImportsCommand=Ha;l.ListImportsInput$=UM;l.ListImportsOutput$=BM;l.ListTables$=hF;l.ListTablesCommand=ja;l.ListTablesInput$=FM;l.ListTablesOutput$=GM;l.ListTagsOfResource$=gF;l.ListTagsOfResourceCommand=Xp;l.ListTagsOfResourceInput$=HM;l.ListTagsOfResourceOutput$=jM;l.LocalSecondaryIndex$=qM;l.LocalSecondaryIndexDescription$=VM;l.LocalSecondaryIndexInfo$=zM;l.MultiRegionConsistency=qne;l.OnDemandThroughput$=kt;l.OnDemandThroughputOverride$=Zs;l.ParameterizedStatement$=WM;l.PointInTimeRecoveryDescription$=KM;l.PointInTimeRecoverySpecification$=YM;l.PointInTimeRecoveryStatus=$ne;l.PointInTimeRecoveryUnavailableException=fp;l.PointInTimeRecoveryUnavailableException$=XM;l.PolicyNotFoundException=sp;l.PolicyNotFoundException$=QM;l.Projection$=co;l.ProjectionType=_ne;l.ProvisionedThroughput$=ar;l.ProvisionedThroughputDescription$=lb;l.ProvisionedThroughputExceededException=Kd;l.ProvisionedThroughputExceededException$=JM;l.ProvisionedThroughputOverride$=ei;l.Put$=ZM;l.PutItem$=yF;l.PutItemCommand=Qp;l.PutItemInput$=eU;l.PutItemOutput$=tU;l.PutRequest$=rU;l.PutResourcePolicy$=EF;l.PutResourcePolicyCommand=Jp;l.PutResourcePolicyInput$=nU;l.PutResourcePolicyOutput$=oU;l.Query$=SF;l.QueryCommand=qa;l.QueryInput$=sU;l.QueryOutput$=iU;l.Replica$=aU;l.ReplicaAlreadyExistsException=Ep;l.ReplicaAlreadyExistsException$=cU;l.ReplicaAutoScalingDescription$=uU;l.ReplicaAutoScalingUpdate$=lU;l.ReplicaDescription$=dU;l.ReplicaGlobalSecondaryIndex$=pU;l.ReplicaGlobalSecondaryIndexAutoScalingDescription$=mU;l.ReplicaGlobalSecondaryIndexAutoScalingUpdate$=fU;l.ReplicaGlobalSecondaryIndexDescription$=hU;l.ReplicaGlobalSecondaryIndexSettingsDescription$=gU;l.ReplicaGlobalSecondaryIndexSettingsUpdate$=yU;l.ReplicaNotFoundException=Sp;l.ReplicaNotFoundException$=EU;l.ReplicaSettingsDescription$=SU;l.ReplicaSettingsUpdate$=bU;l.ReplicaStatus=Fne;l.ReplicaUpdate$=IU;l.ReplicatedWriteConflictException=Qd;l.ReplicatedWriteConflictException$=_U;l.ReplicationGroupUpdate$=TU;l.RequestLimitExceeded=Vd;l.RequestLimitExceeded$=wU;l.ResourceInUseException=np;l.ResourceInUseException$=AU;l.ResourceNotFoundException=Yd;l.ResourceNotFoundException$=CU;l.RestoreSummary$=xU;l.RestoreTableFromBackup$=bF;l.RestoreTableFromBackupCommand=Zp;l.RestoreTableFromBackupInput$=vU;l.RestoreTableFromBackupOutput$=RU;l.RestoreTableToPointInTime$=_F;l.RestoreTableToPointInTimeCommand=em;l.RestoreTableToPointInTimeInput$=DU;l.RestoreTableToPointInTimeOutput$=PU;l.ReturnConsumedCapacity=xne;l.ReturnItemCollectionMetrics=Dne;l.ReturnValue=Vne;l.ReturnValuesOnConditionCheckFailure=vne;l.S3BucketSource$=Rm;l.S3SseAlgorithm=Xne;l.SSEDescription$=db;l.SSESpecification$=ti;l.SSEStatus=Ine;l.SSEType=Tne;l.ScalarAttributeType=gne;l.Scan$=TF;l.ScanCommand=Va;l.ScanInput$=NU;l.ScanOutput$=OU;l.Select=toe;l.SourceTableDetails$=$U;l.SourceTableFeatureDetails$=kU;l.StreamSpecification$=oc;l.StreamViewType=wne;l.TableAlreadyExistsException=gp;l.TableAlreadyExistsException$=LU;l.TableAutoScalingDescription$=pb;l.TableClass=Gne;l.TableClassSummary$=Dm;l.TableCreationParameters$=mb;l.TableDescription$=Vo;l.TableInUseException=ep;l.TableInUseException$=MU;l.TableNotFoundException=tp;l.TableNotFoundException$=UU;l.TableStatus=Hne;l.TableWarmThroughputDescription$=fb;l.Tag$=BU;l.TagResource$=IF;l.TagResourceCommand=tm;l.TagResourceInput$=FU;l.ThrottlingException=zd;l.ThrottlingException$=GU;l.ThrottlingReason$=HU;l.TimeToLiveDescription$=hb;l.TimeToLiveSpecification$=gb;l.TimeToLiveStatus=Ane;l.TransactGetItem$=jU;l.TransactGetItems$=wF;l.TransactGetItemsCommand=rm;l.TransactGetItemsInput$=qU;l.TransactGetItemsOutput$=VU;l.TransactWriteItem$=YU;l.TransactWriteItems$=AF;l.TransactWriteItemsCommand=nm;l.TransactWriteItemsInput$=XU;l.TransactWriteItemsOutput$=QU;l.TransactionCanceledException=Tp;l.TransactionCanceledException$=zU;l.TransactionConflictException=op;l.TransactionConflictException$=WU;l.TransactionInProgressException=dp;l.TransactionInProgressException$=KU;l.UntagResource$=CF;l.UntagResourceCommand=om;l.UntagResourceInput$=JU;l.Update$=ZU;l.UpdateContinuousBackups$=xF;l.UpdateContinuousBackupsCommand=sm;l.UpdateContinuousBackupsInput$=eB;l.UpdateContinuousBackupsOutput$=tB;l.UpdateContributorInsights$=vF;l.UpdateContributorInsightsCommand=im;l.UpdateContributorInsightsInput$=rB;l.UpdateContributorInsightsOutput$=nB;l.UpdateGlobalSecondaryIndexAction$=oB;l.UpdateGlobalTable$=RF;l.UpdateGlobalTableCommand=am;l.UpdateGlobalTableInput$=sB;l.UpdateGlobalTableOutput$=iB;l.UpdateGlobalTableSettings$=DF;l.UpdateGlobalTableSettingsCommand=cm;l.UpdateGlobalTableSettingsInput$=aB;l.UpdateGlobalTableSettingsOutput$=cB;l.UpdateItem$=PF;l.UpdateItemCommand=um;l.UpdateItemInput$=uB;l.UpdateItemOutput$=lB;l.UpdateKinesisStreamingConfiguration$=yb;l.UpdateKinesisStreamingDestination$=NF;l.UpdateKinesisStreamingDestinationCommand=lm;l.UpdateKinesisStreamingDestinationInput$=dB;l.UpdateKinesisStreamingDestinationOutput$=pB;l.UpdateReplicationGroupMemberAction$=mB;l.UpdateTable$=OF;l.UpdateTableCommand=dm;l.UpdateTableInput$=fB;l.UpdateTableOutput$=hB;l.UpdateTableReplicaAutoScaling$=$F;l.UpdateTableReplicaAutoScalingCommand=pm;l.UpdateTableReplicaAutoScalingInput$=gB;l.UpdateTableReplicaAutoScalingOutput$=yB;l.UpdateTimeToLive$=kF;l.UpdateTimeToLiveCommand=mm;l.UpdateTimeToLiveInput$=EB;l.UpdateTimeToLiveOutput$=SB;l.WarmThroughput$=ri;l.WitnessStatus=jne;l.WriteRequest$=bB;l.paginateListContributorInsights=Xre;l.paginateListExports=Qre;l.paginateListImports=Jre;l.paginateListTables=Zre;l.paginateQuery=ene;l.paginateScan=tne;l.waitForContributorInsightsEnabled=rne;l.waitForExportCompleted=one;l.waitForImportCompleted=ine;l.waitForKinesisStreamingDestinationActive=cne;l.waitForTableExists=lne;l.waitForTableNotExists=pne;l.waitUntilContributorInsightsEnabled=nne;l.waitUntilExportCompleted=sne;l.waitUntilImportCompleted=ane;l.waitUntilKinesisStreamingDestinationActive=une;l.waitUntilTableExists=dne;l.waitUntilTableNotExists=mne});var JF=P(si=>{"use strict";c();var oi=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},ic=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return $m();if(Array.isArray(e))return roe(e,t);if(e?.constructor?.name==="Set")return noe(e,t);if(e?.constructor?.name==="Map")return ooe(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return HF(e,t);if(QF(e))return e.length===0&&t?.convertEmptyValues?$m():WF(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return XF(e,t);if(e instanceof oi)return e.toAttributeValue();if(typeof e=="bigint")return YF(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?$m():KF(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return HF(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},roe=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>ic(r,t))}),noe=(e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return $m();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof oi)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(o=>XF(o,t)).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(YF).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(KF).map(o=>o.S)};if(QF(n))return{BS:Array.from(r).map(WF).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},ooe=(e,t)=>({M:(r=>{let n={};for(let[o,s]of r)typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=ic(s,t));return n})(e)}),HF=(e,t)=>({M:(r=>{let n={};for(let o in r){let s=r[o];typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=ic(s,t))}return n})(e)}),$m=()=>({NULL:!0}),WF=e=>({B:e}),KF=e=>({S:e.toString()}),YF=e=>({N:e.toString()}),jF=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},XF=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?jF(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&jF(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},QF=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},sc=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return qF(n,t);case"B":return zF(n);case"S":return VF(n);case"L":return soe(n,t);case"M":return ioe(n,t);case"NS":return new Set(n.map(o=>qF(o,t)));case"BS":return new Set(n.map(zF));case"SS":return new Set(n.map(VF));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},qF=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return oi.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},VF=e=>e,zF=e=>e,soe=(e,t)=>e.map(r=>sc(r,t)),ioe=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=sc(o,t),r),{});function aoe(e,t){let r=ic(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;default:return r}}var coe=(e,t)=>t?.convertWithoutMapWrapper?sc(e,t):sc({M:e},t);si.NumberValueImpl=oi;si.convertToAttr=ic;si.convertToNative=sc;si.marshall=aoe;si.unmarshall=coe});var t2=P(ke=>{"use strict";c();var Wm=te(),uoe=(We(),Z(Jr)),Cb=JF(),Lt=wb(),e2=(tt(),Z(To)),ac=null,K={},hn=[],ZF="*",km=(e,t,r)=>{if(e!==void 0){if(r==null)return t(e);{let n=Object.keys(r),o=n.length===1&&n[0]===ZF,s=n.length>=1&&!o,i=n.length===0;if(s)return xb(e,t,r);if(i)return loe(e,t,ac);if(o)return Object.entries(e??{}).reduce((a,[u,d])=>(typeof d!="function"&&(a[u]=km(d,t,r[ZF])),a),Array.isArray(e)?[]:{})}}},xb=(e,t,r)=>{let n;if(Array.isArray(e))n=e.filter(o=>typeof o!="function");else{n={};for(let[o,s]of Object.entries(e))typeof s!="function"&&(n[o]=s)}for(let[o,s]of Object.entries(r)){if(typeof e[o]=="function")continue;let i=km(e[o],t,s);i!==void 0&&typeof i!="function"&&(n[o]=i)}return n},loe=(e,t,r)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>km(n,t,r)):Object.entries(e).reduce((n,[o,s])=>{if(typeof s=="function")return n;let i=km(s,t,r);return i!==void 0&&typeof i!="function"&&(n[o]=i),n},{}),doe=(e,t,r)=>xb(e,o=>Cb.marshall(o,r),t),poe=(e,t,r)=>xb(e,o=>Cb.unmarshall(o,r),t),dt=class extends Wm.Command{addMarshallingMiddleware(t){let{marshallOptions:r={},unmarshallOptions:n={}}=t.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>(uoe.setFeature(s,"DDB_MAPPER","d"),o({...i,input:doe(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>{let a=await o(i);return a.output=poe(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},Lm=class extends dt{input;inputKeyNodes={Statements:{"*":{Parameters:hn}}};outputKeyNodes={Responses:{"*":{Error:{Item:K},Item:K}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Mm=class extends dt{input;inputKeyNodes={RequestItems:{"*":{Keys:{"*":K}}}};outputKeyNodes={Responses:{"*":{"*":K}},UnprocessedKeys:{"*":{Keys:{"*":K}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Um=class extends dt{input;inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:K},DeleteRequest:{Key:K}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:K},DeleteRequest:{Key:K}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:K}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Bm=class extends dt{input;inputKeyNodes={Key:K,Expected:{"*":{Value:ac,AttributeValueList:hn}},ExpressionAttributeValues:K};outputKeyNodes={Attributes:K,ItemCollectionMetrics:{ItemCollectionKey:K}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Fm=class extends dt{input;inputKeyNodes={Parameters:hn};outputKeyNodes={Items:{"*":K},LastEvaluatedKey:K};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Gm=class extends dt{input;inputKeyNodes={TransactStatements:{"*":{Parameters:hn}}};outputKeyNodes={Responses:{"*":{Item:K}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Hm=class extends dt{input;inputKeyNodes={Key:K};outputKeyNodes={Item:K};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},jm=class extends dt{input;inputKeyNodes={Item:K,Expected:{"*":{Value:ac,AttributeValueList:hn}},ExpressionAttributeValues:K};outputKeyNodes={Attributes:K,ItemCollectionMetrics:{ItemCollectionKey:K}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},cc=class extends dt{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:hn}},QueryFilter:{"*":{AttributeValueList:hn}},ExclusiveStartKey:K,ExpressionAttributeValues:K};outputKeyNodes={Items:{"*":K},LastEvaluatedKey:K};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},uc=class extends dt{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:hn}},ExclusiveStartKey:K,ExpressionAttributeValues:K};outputKeyNodes={Items:{"*":K},LastEvaluatedKey:K};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},qm=class extends dt{input;inputKeyNodes={TransactItems:{"*":{Get:{Key:K}}}};outputKeyNodes={Responses:{"*":{Item:K}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Vm=class extends dt{input;inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:K,ExpressionAttributeValues:K},Put:{Item:K,ExpressionAttributeValues:K},Delete:{Key:K,ExpressionAttributeValues:K},Update:{Key:K,ExpressionAttributeValues:K}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:K}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},zm=class extends dt{input;inputKeyNodes={Key:K,AttributeUpdates:{"*":{Value:ac}},Expected:{"*":{Value:ac,AttributeValueList:hn}},ExpressionAttributeValues:K};outputKeyNodes={Attributes:K,ItemCollectionMetrics:{ItemCollectionKey:K}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},ii=class e extends Wm.Client{config;constructor(t,r){if(super(t.config),this.config=t.config,this.config.translateConfig=r,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,r){return new e(t,r)}destroy(){}},moe=e2.createPaginator(ii,cc,"ExclusiveStartKey","LastEvaluatedKey","Limit"),foe=e2.createPaginator(ii,uc,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Ab=class e extends ii{static from(t,r){return new e(t,r)}batchExecuteStatement(t,r,n){let o=new Lm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchGet(t,r,n){let o=new Mm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchWrite(t,r,n){let o=new Um(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}delete(t,r,n){let o=new Bm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeStatement(t,r,n){let o=new Fm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeTransaction(t,r,n){let o=new Gm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}get(t,r,n){let o=new Hm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}put(t,r,n){let o=new jm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}query(t,r,n){let o=new cc(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}scan(t,r,n){let o=new uc(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactGet(t,r,n){let o=new qm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactWrite(t,r,n){let o=new Vm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}update(t,r,n){let o=new zm(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}};Object.defineProperty(ke,"$Command",{enumerable:!0,get:function(){return Wm.Command}});Object.defineProperty(ke,"__Client",{enumerable:!0,get:function(){return Wm.Client}});Object.defineProperty(ke,"NumberValue",{enumerable:!0,get:function(){return Cb.NumberValueImpl}});ke.BatchExecuteStatementCommand=Lm;ke.BatchGetCommand=Mm;ke.BatchWriteCommand=Um;ke.DeleteCommand=Bm;ke.DynamoDBDocument=Ab;ke.DynamoDBDocumentClient=ii;ke.DynamoDBDocumentClientCommand=dt;ke.ExecuteStatementCommand=Fm;ke.ExecuteTransactionCommand=Gm;ke.GetCommand=Hm;ke.PutCommand=jm;ke.QueryCommand=cc;ke.ScanCommand=uc;ke.TransactGetCommand=qm;ke.TransactWriteCommand=Vm;ke.UpdateCommand=zm;ke.paginateQuery=moe;ke.paginateScan=foe});c();var n2=A(wb(),1),kr=A(t2(),1),hoe=new n2.DynamoDBClient({}),lc=kr.DynamoDBDocumentClient.from(hoe),r2=process.env.VISIT_TABLE_NAME,goe=process.env.NURSE_TABLE_NAME,yoe=process.env.AUDIT_TABLE_NAME,Eoe=process.env.NOTIFICATION_TABLE_NAME,D_e=async e=>{let{shiftId:t,reason:r}=e.arguments,n=e.identity,o=n?.sub,s=n?.claims?.["custom:tenantId"];if(!o||!s)throw new Error("Unauthorized: Missing user identity or tenant");try{let a=(await lc.send(new kr.GetCommand({TableName:goe,Key:{id:o}}))).Item;if(!a||a.role!=="ADMIN")throw new Error("Unauthorized: Only admins can reject visits");if(a.tenantId!==s)throw new Error("Unauthorized: Admin belongs to different tenant");let d=(await lc.send(new kr.GetCommand({TableName:r2,Key:{id:t}}))).Item;if(!d)throw new Error("Visit not found");if(d.tenantId!==s)throw new Error("Unauthorized: Visit belongs to different tenant");if(d.status!=="SUBMITTED")throw new Error(`Cannot reject visit with status: ${d.status}. Visit must be SUBMITTED.`);if(!r||r.trim()==="")throw new Error("Rejection reason is required");let g=new Date().toISOString(),E=(await lc.send(new kr.UpdateCommand({TableName:r2,Key:{id:t},UpdateExpression:"SET #status = :status, rejectionReason = :rejectionReason, reviewedAt = :reviewedAt, reviewedBy = :reviewedBy, updatedAt = :updatedAt",ExpressionAttributeNames:{"#status":"status"},ExpressionAttributeValues:{":status":"REJECTED",":rejectionReason":r,":reviewedAt":g,":reviewedBy":o,":updatedAt":g},ReturnValues:"ALL_NEW"}))).Attributes,y=`audit-${Date.now()}-${Math.random().toString(36).slice(2,11)}`;await lc.send(new kr.PutCommand({TableName:yoe,Item:{id:y,tenantId:s,userId:o,userRole:"Admin",action:"VISIT_REJECTED",entityType:"Visit",entityId:t,timestamp:g,details:JSON.stringify({previousStatus:"SUBMITTED",newStatus:"REJECTED",reason:r}),ipAddress:e.request?.headers?.["x-forwarded-for"]||"unknown",createdAt:g,updatedAt:g}}));let b=`notif-${Date.now()}-${Math.random().toString(36).slice(2,11)}`;return await lc.send(new kr.PutCommand({TableName:Eoe,Item:{id:b,tenantId:s,userId:d.nurseId,type:"VISIT_REJECTED",message:`Your visit has been rejected: ${r}`,entityType:"Visit",entityId:t,read:!1,createdAt:g,updatedAt:g}})),{success:!0,visitId:t,status:"REJECTED",message:"Visit rejected and returned to nurse",visit:E,rejectedAt:g,rejectionReason:r}}catch(i){throw console.error("Error rejecting visit:",i),i instanceof Error?new Error(`Failed to reject visit: ${i.message}`):new Error("Failed to reject visit")}};export{D_e as handler};
//# sourceMappingURL=index.mjs.map
